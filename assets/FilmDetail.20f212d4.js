import{_ as l}from"./FilmsBox.507f0e66.js";import{i as a,a6 as s,a7 as e,a1 as i,$ as t,f as n,g as m,p as c,Q as o,v as d,a8 as f}from"./vendor.7cb940fd.js";import"./main.e78ec603.js";const r={data:()=>({loading:!1,post:null,error:null,cloud:cloudbase.init({env:"yui-7gel1hqtaf6fb79d"})}),setup:l=>({fclass:a(""),filmsDetail:a(""),nickname:a("")}),created(){this.cloud.auth({persistence:"local"});const l=this.cloud.database();l.command,l.collection("films").where({_id:this.$route.params.id}).orderBy("created","desc").limit(1).get().then((a=>{this.filmsDetail=a.data[0],l.collection("fclass").where({cid:this.filmsDetail.class}).get().then((l=>{this.fclass=l.data[0].fname})),l.collection("user").where({_openid:this.filmsDetail._openid}).get().then((l=>{this.nickname=l.data[0].nickname})),console.log(this.filmsDetail)}))},methods:{formatterTime:(l,a,s,e)=>moment(s).format("YYYY/MM/DD"),formatterTimeYear:(l,a,s,e)=>moment(l).format("YYYY")},components:{FilmsBox:l}},u=f();s("data-v-3e35cf94");const p={class:"filmdetail"},h={key:0,style:{width:"700px","margin-top":"40px"}},v={key:1,class:"film-box"},D={class:"film-top"},k={class:"film-message"},g={class:"name"},y=m("span",null,"名称:",-1),Y={key:0,class:"fclass"},b=m("span",null,"类型:",-1),j={class:"jianjie"},w=m("span",null,"年份:",-1),x={class:"upload-time"},_=m("span",null,"上传时间:",-1),T={class:"upload-owner"},B=m("span",null,"上传者:",-1),F={class:"rate",style:{display:"flex"}},q=m("span",null,"评分:",-1),M={class:"film-btn"},$=m("i",{class:"el-icon-link"},null,-1),I=m("i",{class:"el-icon-star-off"},null,-1),L=m("i",{class:"el-icon-chat-square"},null,-1),Q={class:"film-main"},R=m("h3",null,"简介",-1),U=m("h3",null,"推荐理由",-1);e();const V=u(((l,a,s,e,f,r)=>{const u=i("el-skeleton"),V=i("el-rate");return t(),n("div",p,[e.fclass||e.nickname?c("",!0):(t(),n("div",h,[m(u,{rows:5,animated:""})])),e.fclass&&e.nickname?(t(),n("div",v,[m("div",D,[e.filmsDetail?(t(),n("img",{key:0,src:e.filmsDetail.tempFileURL},null,8,["src"])):c("",!0),m("div",k,[m("div",g,[y,o(d(e.filmsDetail.name),1)]),e.fclass?(t(),n("div",Y,[b,o(d(e.fclass),1)])):c("",!0),m("div",j,[w,o(d(r.formatterTimeYear(e.filmsDetail.year)),1)]),m("div",x,[_,o(d(r.formatterTime(e.filmsDetail.created)),1)]),m("div",T,[B,o(d(e.nickname),1)]),m("div",F,[q,m(V,{"model-value":e.filmsDetail.rateValue,"allow-half":"",disabled:""},null,8,["model-value"])])])]),m("div",M,[m("a",{href:e.filmsDetail.link,target:"_blank"},[$],8,["href"]),I,L]),m("div",Q,[R,m("p",null,d(e.filmsDetail.jianjie),1),U,m("p",null,d(e.filmsDetail.liyou),1)])])):c("",!0)])}));r.render=V,r.__scopeId="data-v-3e35cf94";export default r;
