function e(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){if(S(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=r(I(o)?s(o):o);if(i)for(const e in i)t[e]=i[e]}return t}if(P(e))return e}const o=/;(?![^(]*\))/g,i=/:(.+)/;function s(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function a(e){let t="";if(I(e))t=e;else if(S(e))for(let n=0;n<e.length;n++){const r=a(e[n]);r&&(t+=r+" ")}else if(P(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function u(e,t){if(e===t)return!0;let n=N(e),r=N(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=S(e),r=S(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=u(e[r],t[r]);return n}(e,t);if(n=P(e),r=P(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!u(e[n],t[n]))return!1}}return String(e)===String(t)}function c(e,t){return e.findIndex((e=>u(e,t)))}const f=e=>null==e?"":P(e)?JSON.stringify(e,l,2):String(e),l=(e,t)=>A(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:E(t)?{[`Set(${t.size})`]:[...t.values()]}:!P(t)||S(t)||L(t)?t:String(t),p={},h=[],d=()=>{},y=()=>!1,g=/^on[^a-z]/,_=e=>g.test(e),m=e=>e.startsWith("onUpdate:"),v=Object.assign,b=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},w=Object.prototype.hasOwnProperty,O=(e,t)=>w.call(e,t),S=Array.isArray,A=e=>"[object Map]"===D(e),E=e=>"[object Set]"===D(e),N=e=>e instanceof Date,T=e=>"function"==typeof e,I=e=>"string"==typeof e,B=e=>"symbol"==typeof e,P=e=>null!==e&&"object"==typeof e,R=e=>P(e)&&T(e.then)&&T(e.catch),x=Object.prototype.toString,D=e=>x.call(e),L=e=>"[object Object]"===D(e),U=e=>I(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,k=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M=/-(\w)/g,C=j((e=>e.replace(M,((e,t)=>t?t.toUpperCase():"")))),q=/\B([A-Z])/g,F=j((e=>e.replace(q,"-$1").toLowerCase())),$=j((e=>e.charAt(0).toUpperCase()+e.slice(1))),Y=j((e=>e?`on${$(e)}`:"")),G=(e,t)=>e!==t&&(e==e||t==t),K=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},W=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=new WeakMap,z=[];let J;const X=Symbol(""),Z=Symbol("");function Q(e,t=p){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!z.includes(n)){ne(n);try{return oe.push(re),re=!0,z.push(n),J=n,e()}finally{z.pop(),se(),J=z[z.length-1]}}};return n.id=te++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function ee(e){e.active&&(ne(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let te=0;function ne(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let re=!0;const oe=[];function ie(){oe.push(re),re=!1}function se(){const e=oe.pop();re=void 0===e||e}function ae(e,t,n){if(!re||void 0===J)return;let r=V.get(e);r||V.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(J)||(o.add(J),J.deps.push(o))}function ue(e,t,n,r,o,i){const s=V.get(e);if(!s)return;const a=new Set,u=e=>{e&&e.forEach((e=>{(e!==J||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(u);else if("length"===n&&S(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&u(e)}));else switch(void 0!==n&&u(s.get(n)),t){case"add":S(e)?U(n)&&u(s.get("length")):(u(s.get(X)),A(e)&&u(s.get(Z)));break;case"delete":S(e)||(u(s.get(X)),A(e)&&u(s.get(Z)));break;case"set":A(e)&&u(s.get(X))}a.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const ce=e("__proto__,__v_isRef,__isVue"),fe=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(B)),le=ge(),pe=ge(!1,!0),he=ge(!0),de=ge(!0,!0),ye={};function ge(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?We:Ke:t?Ge:Ye).get(n))return n;const i=S(n);if(!e&&i&&O(ye,r))return Reflect.get(ye,r,o);const s=Reflect.get(n,r,o);if(B(r)?fe.has(r):ce(r))return s;if(e||ae(n,0,r),t)return s;if(nt(s)){return!i||!U(r)?s.value:s}return P(s)?e?ze(s):Ve(s):s}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];ye[e]=function(...e){const n=et(this);for(let t=0,o=this.length;t<o;t++)ae(n,0,t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(et)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];ye[e]=function(...e){ie();const n=t.apply(this,e);return se(),n}}));function _e(e=!1){return function(t,n,r,o){const i=t[n];if(!e&&(r=et(r),!S(t)&&nt(i)&&!nt(r)))return i.value=r,!0;const s=S(t)&&U(n)?Number(n)<t.length:O(t,n),a=Reflect.set(t,n,r,o);return t===et(o)&&(s?G(r,i)&&ue(t,"set",n,r):ue(t,"add",n,r)),a}}const me={get:le,set:_e(),deleteProperty:function(e,t){const n=O(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ue(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return B(t)&&fe.has(t)||ae(e,0,t),n},ownKeys:function(e){return ae(e,0,S(e)?"length":X),Reflect.ownKeys(e)}},ve={get:he,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},be=v({},me,{get:pe,set:_e(!0)});v({},ve,{get:de});const we=e=>P(e)?Ve(e):e,Oe=e=>P(e)?ze(e):e,Se=e=>e,Ae=e=>Reflect.getPrototypeOf(e);function Ee(e,t,n=!1,r=!1){const o=et(e=e.__v_raw),i=et(t);t!==i&&!n&&ae(o,0,t),!n&&ae(o,0,i);const{has:s}=Ae(o),a=r?Se:n?Oe:we;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void 0}function Ne(e,t=!1){const n=this.__v_raw,r=et(n),o=et(e);return e!==o&&!t&&ae(r,0,e),!t&&ae(r,0,o),e===o?n.has(e):n.has(e)||n.has(o)}function Te(e,t=!1){return e=e.__v_raw,!t&&ae(et(e),0,X),Reflect.get(e,"size",e)}function Ie(e){e=et(e);const t=et(this);return Ae(t).has.call(t,e)||(t.add(e),ue(t,"add",e,e)),this}function Be(e,t){t=et(t);const n=et(this),{has:r,get:o}=Ae(n);let i=r.call(n,e);i||(e=et(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?G(t,s)&&ue(n,"set",e,t):ue(n,"add",e,t),this}function Pe(e){const t=et(this),{has:n,get:r}=Ae(t);let o=n.call(t,e);o||(e=et(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&ue(t,"delete",e,void 0),i}function Re(){const e=et(this),t=0!==e.size,n=e.clear();return t&&ue(e,"clear",void 0,void 0),n}function xe(e,t){return function(n,r){const o=this,i=o.__v_raw,s=et(i),a=t?Se:e?Oe:we;return!e&&ae(s,0,X),i.forEach(((e,t)=>n.call(r,a(e),a(t),o)))}}function De(e,t,n){return function(...r){const o=this.__v_raw,i=et(o),s=A(i),a="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...r),f=n?Se:t?Oe:we;return!t&&ae(i,0,u?Z:X),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[f(e[0]),f(e[1])]:f(e),done:t}},[Symbol.iterator](){return this}}}}function Le(e){return function(...t){return"delete"!==e&&this}}const Ue={get(e){return Ee(this,e)},get size(){return Te(this)},has:Ne,add:Ie,set:Be,delete:Pe,clear:Re,forEach:xe(!1,!1)},ke={get(e){return Ee(this,e,!1,!0)},get size(){return Te(this)},has:Ne,add:Ie,set:Be,delete:Pe,clear:Re,forEach:xe(!1,!0)},je={get(e){return Ee(this,e,!0)},get size(){return Te(this,!0)},has(e){return Ne.call(this,e,!0)},add:Le("add"),set:Le("set"),delete:Le("delete"),clear:Le("clear"),forEach:xe(!0,!1)},Me={get(e){return Ee(this,e,!0,!0)},get size(){return Te(this,!0)},has(e){return Ne.call(this,e,!0)},add:Le("add"),set:Le("set"),delete:Le("delete"),clear:Le("clear"),forEach:xe(!0,!0)};function Ce(e,t){const n=t?e?Me:ke:e?je:Ue;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(O(n,r)&&r in t?n:t,r,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{Ue[e]=De(e,!1,!1),je[e]=De(e,!0,!1),ke[e]=De(e,!1,!0),Me[e]=De(e,!0,!0)}));const qe={get:Ce(!1,!1)},Fe={get:Ce(!1,!0)},$e={get:Ce(!0,!1)},Ye=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,We=new WeakMap;function He(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>D(e).slice(8,-1))(e))}function Ve(e){return e&&e.__v_isReadonly?e:Je(e,!1,me,qe,Ye)}function ze(e){return Je(e,!0,ve,$e,Ke)}function Je(e,t,n,r,o){if(!P(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=He(e);if(0===s)return e;const a=new Proxy(e,2===s?r:n);return o.set(e,a),a}function Xe(e){return Ze(e)?Xe(e.__v_raw):!(!e||!e.__v_isReactive)}function Ze(e){return!(!e||!e.__v_isReadonly)}function Qe(e){return Xe(e)||Ze(e)}function et(e){return e&&et(e.__v_raw)||e}const tt=e=>P(e)?Ve(e):e;function nt(e){return Boolean(e&&!0===e.__v_isRef)}function rt(e){return st(e)}function ot(e){return st(e,!0)}class it{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:tt(e)}get value(){return ae(et(this),0,"value"),this._value}set value(e){G(et(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:tt(e),ue(et(this),"set","value",e))}}function st(e,t=!1){return nt(e)?e:new it(e,t)}function at(e){return nt(e)?e.value:e}const ut={get:(e,t,n)=>at(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return nt(o)&&!nt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function ct(e){return Xe(e)?e:new Proxy(e,ut)}function ft(e){const t=S(e)?new Array(e.length):{};for(const n in e)t[n]=pt(e,n);return t}class lt{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function pt(e,t){return nt(e[t])?e[t]:new lt(e,t)}class ht{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=Q(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ue(et(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=et(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),ae(e,0,"value"),e._value}set value(e){this._setter(e)}}function dt(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){gt(i,t,n)}return o}function yt(e,t,n,r){if(T(e)){const o=dt(e,t,n,r);return o&&R(o)&&o.catch((e=>{gt(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(yt(e[i],t,n,r));return o}function gt(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void dt(s,null,10,[e,o,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let _t=!1,mt=!1;const vt=[];let bt=0;const wt=[];let Ot=null,St=0;const At=[];let Et=null,Nt=0;const Tt=Promise.resolve();let It=null,Bt=null;function Pt(e){const t=It||Tt;return e?t.then(this?e.bind(this):e):t}function Rt(e){if(!(vt.length&&vt.includes(e,_t&&e.allowRecurse?bt+1:bt)||e===Bt)){const t=function(e){let t=bt+1,n=vt.length;const r=kt(e);for(;t<n;){const e=t+n>>>1;kt(vt[e])<r?t=e+1:n=e}return t}(e);t>-1?vt.splice(t,0,e):vt.push(e),xt()}}function xt(){_t||mt||(mt=!0,It=Tt.then(jt))}function Dt(e,t,n,r){S(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),xt()}function Lt(e,t=null){if(wt.length){for(Bt=t,Ot=[...new Set(wt)],wt.length=0,St=0;St<Ot.length;St++)Ot[St]();Ot=null,St=0,Bt=null,Lt(e,t)}}function Ut(e){if(At.length){const e=[...new Set(At)];if(At.length=0,Et)return void Et.push(...e);for(Et=e,Et.sort(((e,t)=>kt(e)-kt(t))),Nt=0;Nt<Et.length;Nt++)Et[Nt]();Et=null,Nt=0}}const kt=e=>null==e.id?1/0:e.id;function jt(e){mt=!1,_t=!0,Lt(e),vt.sort(((e,t)=>kt(e)-kt(t)));try{for(bt=0;bt<vt.length;bt++){const e=vt[bt];e&&dt(e,null,14)}}finally{bt=0,vt.length=0,Ut(),_t=!1,It=null,(vt.length||At.length)&&jt(e)}}function Mt(e,t,...n){const r=e.vnode.props||p;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=r[e]||p;i?o=n.map((e=>e.trim())):t&&(o=n.map(H))}let a=Y(C(t)),u=r[a];!u&&i&&(a=Y(F(t)),u=r[a]),u&&yt(u,e,6,o);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else(e.emitted={})[a]=!0;yt(c,e,6,o)}}function Ct(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const r=e.emits;let o={},i=!1;if(!T(e)){const r=e=>{const n=Ct(e,t,!0);n&&(i=!0,v(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return r||i?(S(r)?r.forEach((e=>o[e]=null)):v(o,r),e.__emits=o):e.__emits=null}function qt(e,t){return!(!e||!_(t))&&(t=t.slice(2).replace(/Once$/,""),O(e,t[0].toLowerCase()+t.slice(1))||O(e,F(t))||O(e,t))}let Ft=0;const $t=e=>Ft+=e;function Yt(e,t,n={},r,o){let i=e[t];Ft++,Tr();const s=i&&Gt(i(n)),a=Br(wr,{key:n.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),Ft--,a}function Gt(e){return e.some((e=>!Pr(e)||e.type!==Sr&&!(e.type===wr&&!Gt(e.children))))?e:null}let Kt=null,Wt=null;function Ht(e){const t=Kt;return Kt=e,Wt=e&&e.type.__scopeId||null,t}function Vt(e){Wt=e}function zt(){Wt=null}const Jt=e=>Xt;function Xt(e,t=Kt){if(!t)return e;const n=(...n)=>{Ft||Tr(!0);const r=Ht(t),o=e(...n);return Ht(r),Ft||Ir(),o};return n._c=!0,n}function Zt(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:f,renderCache:l,data:p,setupState:h,ctx:d}=e;let y;const g=Ht(e);try{let e;if(4&n.shapeFlag){const t=o||r;y=qr(f.call(t,t,l,i,h,p,d)),e=u}else{const n=t;0,y=qr(n.length>1?n(i,{attrs:u,slots:a,emit:c}):n(i,null)),e=t.props?u:en(u)}let g=y;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=g;t.length&&(1&n||6&n)&&(s&&t.some(m)&&(e=tn(e,s)),g=kr(g,e))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),y=g}catch(_){Er.length=0,gt(_,e,1),y=Ur(Sr)}return Ht(g),y}function Qt(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Pr(r))return;if(r.type!==Sr||"v-if"===r.children){if(t)return;t=r}}return t}const en=e=>{let t;for(const n in e)("class"===n||"style"===n||_(n))&&((t||(t={}))[n]=e[n]);return t},tn=(e,t)=>{const n={};for(const r in e)m(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function nn(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!qt(n,i))return!0}return!1}function rn(e){if(T(e)&&(e=e()),S(e)){e=Qt(e)}return qr(e)}function on(e,t,n,r=!1){const o={},i={};W(i,xr,1),e.propsDefaults=Object.create(null),sn(e,t,o,i),n?e.props=r?o:Je(o,!1,be,Fe,Ge):e.type.props?e.props=o:e.props=i,e.attrs=i}function sn(e,t,n,r){const[o,i]=e.propsOptions;if(t)for(const s in t){const i=t[s];if(k(s))continue;let a;o&&O(o,a=C(s))?n[a]=i:qt(e.emitsOptions,s)||(r[s]=i)}if(i){const t=et(n);for(let r=0;r<i.length;r++){const s=i[r];n[s]=an(o,t,s,t[s],e)}}}function an(e,t,n,r,o){const i=e[n];if(null!=i){const e=O(i,"default");if(e&&void 0===r){const e=i.default;if(i.type!==Function&&T(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(uo(o),r=i[n]=e(t),uo(null))}else r=e}i[0]&&(O(t,n)||e?!i[1]||""!==r&&r!==F(n)||(r=!0):r=!1)}return r}function un(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const r=e.props,o={},i=[];let s=!1;if(!T(e)){const r=e=>{s=!0;const[n,r]=un(e,t,!0);v(o,n),r&&i.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!r&&!s)return e.__props=h;if(S(r))for(let a=0;a<r.length;a++){const e=C(r[a]);cn(e)&&(o[e]=p)}else if(r)for(const a in r){const e=C(a);if(cn(e)){const t=r[a],n=o[e]=S(t)||T(t)?{type:t}:t;if(n){const t=pn(Boolean,n.type),r=pn(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||O(n,"default"))&&i.push(e)}}}return e.__props=[o,i]}function cn(e){return"$"!==e[0]}function fn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function ln(e,t){return fn(e)===fn(t)}function pn(e,t){if(S(t)){for(let n=0,r=t.length;n<r;n++)if(ln(t[n],e))return n}else if(T(t))return ln(t,e)?0:-1;return-1}function hn(e,t,n=so,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ie(),uo(n);const o=yt(t,n,e,r);return uo(null),se(),o});return r?o.unshift(i):o.push(i),i}}const dn=e=>(t,n=so)=>!fo&&hn(e,t,n),yn=dn("bm"),gn=dn("m"),_n=dn("bu"),mn=dn("u"),vn=dn("bum"),bn=dn("um"),wn=dn("rtg"),On=dn("rtc");function Sn(e,t){return Nn(e,null,t)}const An={};function En(e,t,n){return Nn(e,t,n)}function Nn(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=p,a=so){let u,c,f=!1;if(nt(e)?(u=()=>e.value,f=!!e._shallow):Xe(e)?(u=()=>e,r=!0):u=S(e)?()=>e.map((e=>nt(e)?e.value:Xe(e)?In(e):T(e)?dt(e,a,2,[a&&a.proxy]):void 0)):T(e)?t?()=>dt(e,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),yt(e,a,3,[l])}:d,t&&r){const e=u;u=()=>In(e())}let l=e=>{c=_.options.onStop=()=>{dt(e,a,4)}},h=S(e)?[]:An;const y=()=>{if(_.active)if(t){const e=_();(r||f||G(e,h))&&(c&&c(),yt(t,a,3,[e,h===An?void 0:h,l]),h=e)}else _()};let g;y.allowRecurse=!!t,g="sync"===o?y:"post"===o?()=>ir(y,a&&a.suspense):()=>{!a||a.isMounted?function(e){Dt(e,Ot,wt,St)}(y):y()};const _=Q(u,{lazy:!0,onTrack:i,onTrigger:s,scheduler:g});return ho(_,a),t?n?y():h=_():"post"===o?ir(_,a&&a.suspense):_(),()=>{ee(_),a&&b(a.effects,_)}}function Tn(e,t,n){const r=this.proxy;return Nn(I(e)?()=>r[e]:e.bind(r),t.bind(r),n,this)}function In(e,t=new Set){if(!P(e)||t.has(e))return e;if(t.add(e),nt(e))In(e.value,t);else if(S(e))for(let n=0;n<e.length;n++)In(e[n],t);else if(E(e)||A(e))e.forEach((e=>{In(e,t)}));else for(const n in e)In(e[n],t);return e}function Bn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn((()=>{e.isMounted=!0})),vn((()=>{e.isUnmounting=!0})),e}const Pn=[Function,Array],Rn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},setup(e,{slots:t}){const n=ao(),r=Bn();let o;return()=>{const i=t.default&&jn(t.default(),!0);if(!i||!i.length)return;const s=et(e),{mode:a}=s,u=i[0];if(r.isLeaving)return Ln(u);const c=Un(u);if(!c)return Ln(u);const f=Dn(c,s,r,n);kn(c,f);const l=n.subTree,p=l&&Un(l);let h=!1;const{getTransitionKey:d}=c.type;if(d){const e=d();void 0===o?o=e:e!==o&&(o=e,h=!0)}if(p&&p.type!==Sr&&(!Rr(c,p)||h)){const e=Dn(p,s,r,n);if(kn(p,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},Ln(u);"in-out"===a&&c.type!==Sr&&(e.delayLeave=(e,t,n)=>{xn(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=n})}return u}}};function xn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Dn(e,t,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:l,onLeave:p,onAfterLeave:h,onLeaveCancelled:d,onBeforeAppear:y,onAppear:g,onAfterAppear:_,onAppearCancelled:m}=t,v=String(e.key),b=xn(n,e),w=(e,t)=>{e&&yt(e,r,9,t)},O={mode:i,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!o)return;r=y||a}t._leaveCb&&t._leaveCb(!0);const i=b[v];i&&Rr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),w(r,[t])},enter(e){let t=u,r=c,i=f;if(!n.isMounted){if(!o)return;t=g||u,r=_||c,i=m||f}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?i:r,[e]),O.delayedLeave&&O.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(l,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,r(),w(n?d:h,[t]),t._leaveCb=void 0,b[o]===e&&delete b[o])};b[o]=e,p?(p(t,s),p.length<=1&&s()):s()},clone:e=>Dn(e,t,n,r)};return O}function Ln(e){if(Mn(e))return(e=kr(e)).children=null,e}function Un(e){return Mn(e)?e.children?e.children[0]:void 0:e}function kn(e,t){6&e.shapeFlag&&e.component?kn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jn(e,t=!1){let n=[],r=0;for(let o=0;o<e.length;o++){const i=e[o];i.type===wr?(128&i.patchFlag&&r++,n=n.concat(jn(i.children,t))):(t||i.type!==Sr)&&n.push(i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}const Mn=e=>e.type.__isKeepAlive,Cn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ao(),r=n.ctx;if(!r.renderer)return t.default;const o=new Map,i=new Set;let s=null;const a=n.suspense,{renderer:{p:u,m:c,um:f,o:{createElement:l}}}=r,p=l("div");function h(e){Kn(e),f(e,n,a)}function d(e){o.forEach(((t,n)=>{const r=yo(t.type);!r||e&&e(r)||y(n)}))}function y(e){const t=o.get(e);s&&t.type===s.type?s&&Kn(s):h(t),o.delete(e),i.delete(e)}r.activate=(e,t,n,r,o)=>{const i=e.component;c(e,t,n,0,a),u(i.vnode,e,t,n,i,a,r,e.slotScopeIds,o),ir((()=>{i.isDeactivated=!1,i.a&&K(i.a);const t=e.props&&e.props.onVnodeMounted;t&&ur(t,i.parent,e)}),a)},r.deactivate=e=>{const t=e.component;c(e,p,null,1,a),ir((()=>{t.da&&K(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&ur(n,t.parent,e),t.isDeactivated=!0}),a)},En((()=>[e.include,e.exclude]),(([e,t])=>{e&&d((t=>qn(e,t))),t&&d((e=>!qn(t,e)))}),{flush:"post",deep:!0});let g=null;const _=()=>{null!=g&&o.set(g,Wn(n.subTree))};return gn(_),mn(_),vn((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,o=Wn(t);if(e.type!==o.type)h(e);else{Kn(o);const e=o.component.da;e&&ir(e,r)}}))})),()=>{if(g=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!(Pr(r)&&(4&r.shapeFlag||128&r.shapeFlag)))return s=null,r;let a=Wn(r);const u=a.type,c=yo(u),{include:f,exclude:l,max:p}=e;if(f&&(!c||!qn(f,c))||l&&c&&qn(l,c))return s=a,r;const h=null==a.key?u:a.key,d=o.get(h);return a.el&&(a=kr(a),128&r.shapeFlag&&(r.ssContent=a)),g=h,d?(a.el=d.el,a.component=d.component,a.transition&&kn(a,a.transition),a.shapeFlag|=512,i.delete(h),i.add(h)):(i.add(h),p&&i.size>parseInt(p,10)&&y(i.values().next().value)),a.shapeFlag|=256,s=a,r}}};function qn(e,t){return S(e)?e.some((e=>qn(e,t))):I(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Fn(e,t){Yn(e,"a",t)}function $n(e,t){Yn(e,"da",t)}function Yn(e,t,n=so){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(hn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Mn(e.parent.vnode)&&Gn(r,t,n,e),e=e.parent}}function Gn(e,t,n,r){const o=hn(t,e,r,!0);bn((()=>{b(r[t],o)}),n)}function Kn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Wn(e){return 128&e.shapeFlag?e.ssContent:e}const Hn=e=>"_"===e[0]||"$stable"===e,Vn=e=>S(e)?e.map(qr):[qr(e)],zn=(e,t,n)=>Xt((e=>Vn(t(e))),n),Jn=(e,t)=>{const n=e._ctx;for(const r in e){if(Hn(r))continue;const o=e[r];if(T(o))t[r]=zn(0,o,n);else if(null!=o){const e=Vn(o);t[r]=()=>e}}},Xn=(e,t)=>{const n=Vn(t);e.slots.default=()=>n};function Zn(e,t){if(null===Kt)return e;const n=Kt.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,i,s,a=p]=t[o];T(e)&&(e={mounted:e,updated:e}),r.push({dir:e,instance:n,value:i,oldValue:void 0,arg:s,modifiers:a})}return e}function Qn(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);const u=a.dir[r];u&&yt(u,n,8,[e.el,a,e,t])}}function er(){return{app:null,config:{isNativeTag:y,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:y,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let tr=0;function nr(e,t){return function(n,r=null){null==r||P(r)||(r=null);const o=er(),i=new Set;let s=!1;const a=o.app={_uid:tr++,_component:n,_props:r,_container:null,_context:o,version:wo,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&T(e.install)?(i.add(e),e.install(a,...t)):T(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0)),a),component:(e,t)=>t?(o.components[e]=t,a):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,a):o.directives[e],mount(i,u,c){if(!s){const f=Ur(n,r);return f.appContext=o,u&&t?t(f,i):e(f,i,c),s=!0,a._container=i,i.__vue_app__=a,f.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,a)};return a}}function rr(e){return T(e)?{setup:e,name:e.name}:e}const or={scheduler:Rt,allowRecurse:!0},ir=function(e,t){t&&t.pendingBranch?S(e)?t.effects.push(...e):t.effects.push(e):Dt(e,Et,At,Nt)},sr=(e,t,n,r)=>{if(S(e))return void e.forEach(((e,o)=>sr(e,t&&(S(t)?t[o]:t),n,r)));let o;if(r){if((e=>!!e.type.__asyncLoader)(r))return;o=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else o=null;const{i:i,r:s}=e,a=t&&t.r,u=i.refs===p?i.refs={}:i.refs,c=i.setupState;if(null!=a&&a!==s&&(I(a)?(u[a]=null,O(c,a)&&(c[a]=null)):nt(a)&&(a.value=null)),I(s)){const e=()=>{u[s]=o,O(c,s)&&(c[s]=o)};o?(e.id=-1,ir(e,n)):e()}else if(nt(s)){const e=()=>{s.value=o};o?(e.id=-1,ir(e,n)):e()}else T(s)&&dt(s,i,12,[o,u])};function ar(e){return function(e,t){const{insert:n,remove:r,patchProp:o,forcePatchProp:i,createElement:s,createText:a,createComment:u,setText:c,setElementText:f,parentNode:l,nextSibling:y,setScopeId:g=d,cloneNode:_,insertStaticContent:m}=e,b=(e,t,n,r=null,o=null,i=null,s=!1,a=null,u=!1)=>{e&&!Rr(e,t)&&(r=re(e),J(e,o,i,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:f,shapeFlag:l}=t;switch(c){case Or:w(e,t,n,r);break;case Sr:S(e,t,n,r);break;case Ar:null==e&&A(t,n,r,s);break;case wr:U(e,t,n,r,o,i,s,a,u);break;default:1&l?T(e,t,n,r,o,i,s,a,u):6&l?j(e,t,n,r,o,i,s,a,u):(64&l||128&l)&&c.process(e,t,n,r,o,i,s,a,u,ae)}null!=f&&o&&sr(f,e&&e.ref,i,t)},w=(e,t,r,o)=>{if(null==e)n(t.el=a(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},S=(e,t,r,o)=>{null==e?n(t.el=u(t.children||""),r,o):t.el=e.el},A=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r)},E=({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=y(e),n(e,r,o),e=i;n(t,r,o)},N=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=y(e),r(e),e=n;r(t)},T=(e,t,n,r,o,i,s,a,u)=>{s=s||"svg"===t.type,null==e?I(t,n,r,o,i,s,a,u):x(e,t,o,i,s,a,u)},I=(e,t,r,i,a,u,c,l)=>{let p,h;const{type:d,props:y,shapeFlag:g,transition:m,patchFlag:v,dirs:b}=e;if(e.el&&void 0!==_&&-1===v)p=e.el=_(e.el);else{if(p=e.el=s(e.type,u,y&&y.is,y),8&g?f(p,e.children):16&g&&P(e.children,p,null,i,a,u&&"foreignObject"!==d,c,l||!!e.dynamicChildren),b&&Qn(e,null,i,"created"),y){for(const t in y)k(t)||o(p,t,null,y[t],u,e.children,i,a,ne);(h=y.onVnodeBeforeMount)&&ur(h,i,e)}B(p,e,e.scopeId,c,i)}b&&Qn(e,null,i,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&m&&!m.persisted;w&&m.beforeEnter(p),n(p,t,r),((h=y&&y.onVnodeMounted)||w||b)&&ir((()=>{h&&ur(h,i,e),w&&m.enter(p),b&&Qn(e,null,i,"mounted")}),a)},B=(e,t,n,r,o)=>{if(n&&g(e,n),r)for(let i=0;i<r.length;i++)g(e,r[i]);if(o){if(t===o.subTree){const t=o.vnode;B(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},P=(e,t,n,r,o,i,s,a,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=s?Fr(e[c]):qr(e[c]);b(null,u,t,n,r,o,i,s,a)}},x=(e,t,n,r,s,a,u)=>{const c=t.el=e.el;let{patchFlag:l,dynamicChildren:h,dirs:d}=t;l|=16&e.patchFlag;const y=e.props||p,g=t.props||p;let _;if((_=g.onVnodeBeforeUpdate)&&ur(_,n,t,e),d&&Qn(t,e,n,"beforeUpdate"),l>0){if(16&l)L(c,t,y,g,n,r,s);else if(2&l&&y.class!==g.class&&o(c,"class",null,g.class,s),4&l&&o(c,"style",y.style,g.style,s),8&l){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const u=a[t],f=y[u],l=g[u];(l!==f||i&&i(c,u))&&o(c,u,f,l,s,e.children,n,r,ne)}}1&l&&e.children!==t.children&&f(c,t.children)}else u||null!=h||L(c,t,y,g,n,r,s);const m=s&&"foreignObject"!==t.type;h?D(e.dynamicChildren,h,c,n,r,m,a):u||G(e,t,c,null,n,r,m,a,!1),((_=g.onVnodeUpdated)||d)&&ir((()=>{_&&ur(_,n,t,e),d&&Qn(t,e,n,"updated")}),r)},D=(e,t,n,r,o,i,s)=>{for(let a=0;a<t.length;a++){const u=e[a],c=t[a],f=u.type===wr||!Rr(u,c)||6&u.shapeFlag||64&u.shapeFlag?l(u.el):n;b(u,c,f,null,r,o,i,s,!0)}},L=(e,t,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(k(c))continue;const f=r[c],l=n[c];(f!==l||i&&i(e,c))&&o(e,c,l,f,u,t.children,s,a,ne)}if(n!==p)for(const i in n)k(i)||i in r||o(e,i,n[i],null,u,t.children,s,a,ne)}},U=(e,t,r,o,i,s,u,c,f)=>{const l=t.el=e?e.el:a(""),p=t.anchor=e?e.anchor:a("");let{patchFlag:h,dynamicChildren:d,slotScopeIds:y}=t;h>0&&(f=!0),y&&(c=c?c.concat(y):y),null==e?(n(l,r,o),n(p,r,o),P(t.children,r,p,i,s,u,c,f)):h>0&&64&h&&d&&e.dynamicChildren?(D(e.dynamicChildren,d,r,i,s,u,c),(null!=t.key||i&&t===i.subTree)&&cr(e,t,!0)):G(e,t,r,p,i,s,u,c,f)},j=(e,t,n,r,o,i,s,a,u)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,s,u):M(t,n,r,o,i,s,u):q(e,t,u)},M=(e,t,n,r,o,i,s)=>{const a=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||oo,i={uid:io++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:un(r,o),emitsOptions:Ct(r,o),emit:null,emitted:null,propsDefaults:p,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Mt.bind(null,i),i}(e,r,o);if(Mn(e)&&(a.ctx.renderer=ae),function(e,t=!1){fo=t;const{props:n,children:r}=e.vnode,o=co(e);on(e,n,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,W(t,"_",n)):Jn(t,e.slots={})}else e.slots={},t&&Xn(e,t);W(e.slots,xr,1)})(e,r);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,no);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=ct(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;so=e,ie();const o=dt(r,e,0,[e.props,n]);if(se(),so=null,R(o)){if(t)return o.then((t=>{lo(e,t)})).catch((t=>{gt(t,e,0)}));e.asyncDep=o}else lo(e,o)}else po(e)}(e,t):void 0;fo=!1}(a),a.asyncDep){if(o&&o.registerDep(a,$),!e.el){const e=a.subTree=Ur(Sr);S(null,e,t,n)}}else $(a,e,t,n,o,i,s)},q=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!o&&!a||a&&a.$stable)||r!==s&&(r?!s||nn(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?nn(r,s,c):!!s;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!qt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void Y(r,t,n);r.next=t,function(e){const t=vt.indexOf(e);t>bt&&vt.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},$=(e,t,n,r,o,i,s)=>{e.update=Q((function(){if(e.isMounted){let t,{next:n,bu:r,u:a,parent:u,vnode:c}=e,f=n;n?(n.el=c.el,Y(e,n,s)):n=c,r&&K(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&ur(t,u,n,c);const p=Zt(e),h=e.subTree;e.subTree=p,b(h,p,l(h.el),re(h),e,o,i),n.el=p.el,null===f&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,p.el),a&&ir(a,o),(t=n.props&&n.props.onVnodeUpdated)&&ir((()=>{ur(t,u,n,c)}),o)}else{let s;const{el:a,props:u}=t,{bm:c,m:f,parent:l}=e;c&&K(c),(s=u&&u.onVnodeBeforeMount)&&ur(s,l,t);const p=e.subTree=Zt(e);if(a&&fe?fe(t.el,p,e,o,null):(b(null,p,n,r,e,o,i),t.el=p.el),f&&ir(f,o),s=u&&u.onVnodeMounted){const e=t;ir((()=>{ur(s,l,e)}),o)}const{a:h}=e;h&&256&t.shapeFlag&&ir(h,o),e.isMounted=!0,t=n=r=null}}),or)},Y=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=et(o),[u]=e.propsOptions;if(!(r||s>0)||16&s){let r;sn(e,t,o,i);for(const i in a)t&&(O(t,i)||(r=F(i))!==i&&O(t,r))||(u?!n||void 0===n[i]&&void 0===n[r]||(o[i]=an(u,t||p,i,void 0,e)):delete o[i]);if(i!==a)for(const e in i)t&&O(t,e)||delete i[e]}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=t[s];if(u)if(O(i,s))i[s]=c;else{const t=C(s);o[t]=an(u,a,t,c,e)}else i[s]=c}}ue(e,"set","$attrs")}(e,t.props,r,n),((e,t)=>{const{vnode:n,slots:r}=e;let o=!0,i=p;if(32&n.shapeFlag){const e=t._;e?1===e?o=!1:v(r,t):(o=!t.$stable,Jn(t,r)),i=t}else t&&(Xn(e,t),i={default:1});if(o)for(const s in r)Hn(s)||s in i||delete r[s]})(e,t.children),ie(),Lt(void 0,e.update),se()},G=(e,t,n,r,o,i,s,a,u=!1)=>{const c=e&&e.children,l=e?e.shapeFlag:0,p=t.children,{patchFlag:h,shapeFlag:d}=t;if(h>0){if(128&h)return void V(c,p,n,r,o,i,s,a,u);if(256&h)return void H(c,p,n,r,o,i,s,a,u)}8&d?(16&l&&ne(c,o,i),p!==c&&f(n,p)):16&l?16&d?V(c,p,n,r,o,i,s,a,u):ne(c,o,i,!0):(8&l&&f(n,""),16&d&&P(p,n,r,o,i,s,a,u))},H=(e,t,n,r,o,i,s,a,u)=>{t=t||h;const c=(e=e||h).length,f=t.length,l=Math.min(c,f);let p;for(p=0;p<l;p++){const r=t[p]=u?Fr(t[p]):qr(t[p]);b(e[p],r,n,null,o,i,s,a,u)}c>f?ne(e,o,i,!0,!1,l):P(t,n,r,o,i,s,a,u,l)},V=(e,t,n,r,o,i,s,a,u)=>{let c=0;const f=t.length;let l=e.length-1,p=f-1;for(;c<=l&&c<=p;){const r=e[c],f=t[c]=u?Fr(t[c]):qr(t[c]);if(!Rr(r,f))break;b(r,f,n,null,o,i,s,a,u),c++}for(;c<=l&&c<=p;){const r=e[l],c=t[p]=u?Fr(t[p]):qr(t[p]);if(!Rr(r,c))break;b(r,c,n,null,o,i,s,a,u),l--,p--}if(c>l){if(c<=p){const e=p+1,l=e<f?t[e].el:r;for(;c<=p;)b(null,t[c]=u?Fr(t[c]):qr(t[c]),n,l,o,i,s,a,u),c++}}else if(c>p)for(;c<=l;)J(e[c],o,i,!0),c++;else{const d=c,y=c,g=new Map;for(c=y;c<=p;c++){const e=t[c]=u?Fr(t[c]):qr(t[c]);null!=e.key&&g.set(e.key,c)}let _,m=0;const v=p-y+1;let w=!1,O=0;const S=new Array(v);for(c=0;c<v;c++)S[c]=0;for(c=d;c<=l;c++){const r=e[c];if(m>=v){J(r,o,i,!0);continue}let f;if(null!=r.key)f=g.get(r.key);else for(_=y;_<=p;_++)if(0===S[_-y]&&Rr(r,t[_])){f=_;break}void 0===f?J(r,o,i,!0):(S[f-y]=c+1,f>=O?O=f:w=!0,b(r,t[f],n,null,o,i,s,a,u),m++)}const A=w?function(e){const t=e.slice(),n=[0];let r,o,i,s,a;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=(i+s)/2|0,e[n[a]]<u?i=a+1:s=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(S):h;for(_=A.length-1,c=v-1;c>=0;c--){const e=y+c,l=t[e],p=e+1<f?t[e+1].el:r;0===S[c]?b(null,l,n,p,o,i,s,a,u):w&&(_<0||c!==A[_]?z(l,n,p,2):_--)}}},z=(e,t,r,o,i=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:f}=e;if(6&f)return void z(e.component.subTree,t,r,o);if(128&f)return void e.suspense.move(t,r,o);if(64&f)return void a.move(e,t,r,ae);if(a===wr){n(s,t,r);for(let e=0;e<c.length;e++)z(c[e],t,r,o);return void n(e.anchor,t,r)}if(a===Ar)return void E(e,t,r);if(2!==o&&1&f&&u)if(0===o)u.beforeEnter(s),n(s,t,r),ir((()=>u.enter(s)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=u,a=()=>n(s,t,r),c=()=>{e(s,(()=>{a(),i&&i()}))};o?o(s,a,c):c()}else n(s,t,r)},J=(e,t,n,r=!1,o=!1)=>{const{type:i,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:f,patchFlag:l,dirs:p}=e;if(null!=a&&sr(a,null,n,null),256&f)return void t.ctx.deactivate(e);const h=1&f&&p;let d;if((d=s&&s.onVnodeBeforeUnmount)&&ur(d,t,e),6&f)te(e.component,n,r);else{if(128&f)return void e.suspense.unmount(n,r);h&&Qn(e,null,t,"beforeUnmount"),c&&(i!==wr||l>0&&64&l)?ne(c,t,n,!1,!0):(i===wr&&(128&l||256&l)||!o&&16&f)&&ne(u,t,n),64&f&&e.type.remove(e,t,n,o,ae,r),r&&X(e)}((d=s&&s.onVnodeUnmounted)||h)&&ir((()=>{d&&ur(d,t,e),h&&Qn(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:o,transition:i}=e;if(t===wr)return void Z(n,o);if(t===Ar)return void N(e);const s=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},Z=(e,t)=>{let n;for(;e!==t;)n=y(e),r(e),e=n;r(t)},te=(e,t,n)=>{const{bum:r,effects:o,update:i,subTree:s,um:a}=e;if(r&&K(r),o)for(let u=0;u<o.length;u++)ee(o[u]);i&&(ee(i),J(s,e,t,n)),a&&ir(a,t),ir((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=(e,t,n,r=!1,o=!1,i=0)=>{for(let s=i;s<e.length;s++)J(e[s],t,n,r,o)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():y(e.anchor||e.el),oe=(e,t,n)=>{null==e?t._vnode&&J(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,n),Ut(),t._vnode=e},ae={p:b,um:J,m:z,r:X,mt:M,mc:P,pc:G,pbc:D,n:re,o:e};let ce,fe;t&&([ce,fe]=t(ae));return{render:oe,hydrate:ce,createApp:nr(oe,ce)}}(e)}function ur(e,t,n,r=null){yt(e,t,7,[n,r])}function cr(e,t,n=!1){const r=e.children,o=t.children;if(S(r)&&S(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Fr(o[i]),t.el=e.el),n||cr(e,t))}}const fr=e=>e&&(e.disabled||""===e.disabled),lr=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,pr=(e,t)=>{const n=e&&e.to;if(I(n)){if(t){return t(n)}return null}return n};function hr(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:u,children:c,props:f}=e,l=2===i;if(l&&r(s,t,n),(!l||fr(f))&&16&u)for(let p=0;p<c.length;p++)o(c[p],t,n,2);l&&r(a,t,n)}const dr={__isTeleport:!0,process(e,t,n,r,o,i,s,a,u,c){const{mc:f,pc:l,pbc:p,o:{insert:h,querySelector:d,createText:y,createComment:g}}=c,_=fr(t.props),{shapeFlag:m,children:v}=t;if(null==e){const e=t.el=y(""),c=t.anchor=y("");h(e,n,r),h(c,n,r);const l=t.target=pr(t.props,d),p=t.targetAnchor=y("");l&&(h(p,l),s=s||lr(l));const g=(e,t)=>{16&m&&f(v,e,t,o,i,s,a,u)};_?g(n,c):l&&g(l,p)}else{t.el=e.el;const r=t.anchor=e.anchor,f=t.target=e.target,h=t.targetAnchor=e.targetAnchor,y=fr(e.props),g=y?n:f,m=y?r:h;if(s=s||lr(f),t.dynamicChildren?(p(e.dynamicChildren,t.dynamicChildren,g,o,i,s,a),cr(e,t,!0)):u||l(e,t,g,m,o,i,s,a,!1),_)y||hr(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=pr(t.props,d);e&&hr(t,e,null,c,0)}else y&&hr(t,f,h,c,1)}},remove(e,t,n,r,{um:o,o:{remove:i}},s){const{shapeFlag:a,children:u,anchor:c,targetAnchor:f,target:l,props:p}=e;if(l&&i(f),(s||!fr(p))&&(i(c),16&a))for(let h=0;h<u.length;h++)o(u[h],t,n,!0,r)},move:hr,hydrate:function(e,t,n,r,o,i,{o:{nextSibling:s,parentNode:a,querySelector:u}},c){const f=t.target=pr(t.props,u);if(f){const u=f._lpa||f.firstChild;16&t.shapeFlag&&(fr(t.props)?(t.anchor=c(s(e),t,a(e),n,r,o,i),t.targetAnchor=u):(t.anchor=s(e),t.targetAnchor=c(u,t,f,n,r,o,i)),f._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}};function yr(e,t){return vr("components",e,!0,t)||e}const gr=Symbol();function _r(e){return I(e)?vr("components",e,!1)||e:e||gr}function mr(e){return vr("directives",e)}function vr(e,t,n=!0,r=!1){const o=Kt||so;if(o){const n=o.type;if("components"===e){const e=yo(n);if(e&&(e===t||e===C(t)||e===$(C(t))))return n}const i=br(o[e]||n[e],t)||br(o.appContext[e],t);return!i&&r?n:i}}function br(e,t){return e&&(e[t]||e[C(t)]||e[$(C(t))])}const wr=Symbol(void 0),Or=Symbol(void 0),Sr=Symbol(void 0),Ar=Symbol(void 0),Er=[];let Nr=null;function Tr(e=!1){Er.push(Nr=e?null:[])}function Ir(){Er.pop(),Nr=Er[Er.length-1]||null}function Br(e,t,n,r,o){const i=Ur(e,t,n,r,o,!0);return i.dynamicChildren=Nr||h,Ir(),Nr&&Nr.push(i),i}function Pr(e){return!!e&&!0===e.__v_isVNode}function Rr(e,t){return e.type===t.type&&e.key===t.key}const xr="__vInternal",Dr=({key:e})=>null!=e?e:null,Lr=({ref:e})=>null!=e?I(e)||nt(e)||T(e)?{i:Kt,r:e}:e:null,Ur=function(e,t=null,n=null,o=0,i=null,s=!1){e&&e!==gr||(e=Sr);if(Pr(e)){const r=kr(e,t,!0);return n&&$r(r,n),r}u=e,T(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){(Qe(t)||xr in t)&&(t=v({},t));let{class:e,style:n}=t;e&&!I(e)&&(t.class=a(e)),P(n)&&(Qe(n)&&!S(n)&&(n=v({},n)),t.style=r(n))}const c=I(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:P(e)?4:T(e)?2:0,f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Dr(t),ref:t&&Lr(t),scopeId:Wt,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null};if($r(f,n),128&c){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let r,o;return 32&t?(r=rn(n.default),o=rn(n.fallback)):(r=rn(n),o=qr(null)),{content:r,fallback:o}}(f);f.ssContent=e,f.ssFallback=t}!s&&Nr&&(o>0||6&c)&&32!==o&&Nr.push(f);return f};function kr(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,a=t?Yr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Dr(a),ref:t&&t.ref?n&&o?S(o)?o.concat(Lr(t)):[o,Lr(t)]:Lr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kr(e.ssContent),ssFallback:e.ssFallback&&kr(e.ssFallback),el:e.el,anchor:e.anchor}}function jr(e=" ",t=0){return Ur(Or,null,e,t)}function Mr(e,t){const n=Ur(Ar,null,e);return n.staticCount=t,n}function Cr(e="",t=!1){return t?(Tr(),Br(Sr,null,e)):Ur(Sr,null,e)}function qr(e){return null==e||"boolean"==typeof e?Ur(Sr):S(e)?Ur(wr,null,e):"object"==typeof e?null===e.el?e:kr(e):Ur(Or,null,String(e))}function Fr(e){return null===e.el?e:kr(e)}function $r(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(S(t))n=16;else if("object"==typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&$t(1),$r(e,n()),n._c&&$t(-1)))}{n=32;const r=t._;r||xr in t?3===r&&Kt&&(1024&Kt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=Kt}}else T(t)?(t={default:t,_ctx:Kt},n=32):(t=String(t),64&r?(n=16,t=[jr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yr(...e){const t=v({},e[0]);for(let n=1;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=a([t.class,o.class]));else if("style"===e)t.style=r([t.style,o.style]);else if(_(e)){const n=t[e],r=o[e];n!==r&&(t[e]=n?[].concat(n,o[e]):r)}else""!==e&&(t[e]=o[e])}return t}function Gr(e,t){if(so){let n=so.provides;const r=so.parent&&so.parent.provides;r===n&&(n=so.provides=Object.create(r)),n[e]=t}else;}function Kr(e,t,n=!1){const r=so||Kt;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&T(t)?t():t}}let Wr=!0;function Hr(e,t,n=[],r=[],o=[],i=!1){const{mixins:s,extends:a,data:u,computed:c,methods:f,watch:l,provide:h,inject:y,components:g,directives:_,beforeMount:m,mounted:b,beforeUpdate:w,updated:O,activated:A,deactivated:E,beforeDestroy:N,beforeUnmount:I,destroyed:B,unmounted:R,render:x,renderTracked:D,renderTriggered:L,errorCaptured:U,expose:k}=t,j=e.proxy,M=e.ctx,C=e.appContext.mixins;if(i&&x&&e.render===d&&(e.render=x),i||(Wr=!1,Vr("beforeCreate","bc",t,e,C),Wr=!0,Jr(e,C,n,r,o)),a&&Hr(e,a,n,r,o,!0),s&&Jr(e,s,n,r,o),y)if(S(y))for(let p=0;p<y.length;p++){const e=y[p];M[e]=Kr(e)}else for(const p in y){const e=y[p];P(e)?M[p]=Kr(e.from||p,e.default,!0):M[p]=Kr(e)}if(f)for(const p in f){const e=f[p];T(e)&&(M[p]=e.bind(j))}if(i?u&&n.push(u):(n.length&&n.forEach((t=>Xr(e,t,j))),u&&Xr(e,u,j)),c)for(const p in c){const e=c[p],t=go({get:T(e)?e.bind(j,j):T(e.get)?e.get.bind(j,j):d,set:!T(e)&&T(e.set)?e.set.bind(j):d});Object.defineProperty(M,p,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}if(l&&r.push(l),!i&&r.length&&r.forEach((e=>{for(const t in e)Zr(e[t],M,j,t)})),h&&o.push(h),!i&&o.length&&o.forEach((e=>{const t=T(e)?e.call(j):e;Reflect.ownKeys(t).forEach((e=>{Gr(e,t[e])}))})),i&&(g&&v(e.components||(e.components=v({},e.type.components)),g),_&&v(e.directives||(e.directives=v({},e.type.directives)),_)),i||Vr("created","c",t,e,C),m&&yn(m.bind(j)),b&&gn(b.bind(j)),w&&_n(w.bind(j)),O&&mn(O.bind(j)),A&&Fn(A.bind(j)),E&&$n(E.bind(j)),U&&((e,t=so)=>{hn("ec",e,t)})(U.bind(j)),D&&On(D.bind(j)),L&&wn(L.bind(j)),I&&vn(I.bind(j)),R&&bn(R.bind(j)),S(k)&&!i)if(k.length){const t=e.exposed||(e.exposed=ct({}));k.forEach((e=>{t[e]=pt(j,e)}))}else e.exposed||(e.exposed=p)}function Vr(e,t,n,r,o){for(let i=0;i<o.length;i++)zr(e,t,o[i],r);zr(e,t,n,r)}function zr(e,t,n,r){const{extends:o,mixins:i}=n,s=n[e];if(o&&zr(e,t,o,r),i)for(let a=0;a<i.length;a++)zr(e,t,i[a],r);s&&yt(s.bind(r.proxy),r,t)}function Jr(e,t,n,r,o){for(let i=0;i<t.length;i++)Hr(e,t[i],n,r,o,!0)}function Xr(e,t,n){Wr=!1;const r=t.call(n,n);Wr=!0,P(r)&&(e.data===p?e.data=Ve(r):v(e.data,r))}function Zr(e,t,n,r){const o=r.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,r):()=>n[r];if(I(e)){const n=t[e];T(n)&&En(o,n)}else if(T(e))En(o,e.bind(n));else if(P(e))if(S(e))e.forEach((e=>Zr(e,t,n,r)));else{const r=T(e.handler)?e.handler.bind(n):t[e.handler];T(r)&&En(o,r,e)}}function Qr(e,t,n){const r=n.appContext.config.optionMergeStrategies,{mixins:o,extends:i}=t;i&&Qr(e,i,n),o&&o.forEach((t=>Qr(e,t,n)));for(const s in t)r&&O(r,s)?e[s]=r[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const eo=e=>e?co(e)?e.exposed?e.exposed:e.proxy:eo(e.parent):null,to=v(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>eo(e.parent),$root:e=>eo(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:r,extends:o}=t;if(n)return n;const i=e.appContext.mixins;if(!i.length&&!r&&!o)return t;const s={};return i.forEach((t=>Qr(s,t,e))),Qr(s,t,e),t.__merged=s}(e),$forceUpdate:e=>()=>Rt(e.update),$nextTick:e=>Pt.bind(e.proxy),$watch:e=>Tn.bind(e)}),no={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return i[t]}else{if(r!==p&&O(r,t))return s[t]=0,r[t];if(o!==p&&O(o,t))return s[t]=1,o[t];if((c=e.propsOptions[0])&&O(c,t))return s[t]=2,i[t];if(n!==p&&O(n,t))return s[t]=3,n[t];Wr&&(s[t]=4)}}const f=to[t];let l,h;return f?("$attrs"===t&&ae(e,0,t),f(e)):(l=a.__cssModules)&&(l=l[t])?l:n!==p&&O(n,t)?(s[t]=3,n[t]):(h=u.config.globalProperties,O(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;if(o!==p&&O(o,t))o[t]=n;else if(r!==p&&O(r,t))r[t]=n;else if(O(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return void 0!==n[s]||e!==p&&O(e,s)||t!==p&&O(t,s)||(a=i[0])&&O(a,s)||O(r,s)||O(to,s)||O(o.config.globalProperties,s)}},ro=v({},no,{get(e,t){if(t!==Symbol.unscopables)return no.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),oo=er();let io=0;let so=null;const ao=()=>so||Kt,uo=e=>{so=e};function co(e){return 4&e.vnode.shapeFlag}let fo=!1;function lo(e,t,n){T(t)?e.render=t:P(t)&&(e.setupState=ct(t)),po(e)}function po(e,t){const n=e.type;e.render||(e.render=n.render||d,e.render._rc&&(e.withProxy=new Proxy(e.ctx,ro))),so=e,ie(),Hr(e,n),se(),so=null}function ho(e,t=so){t&&(t.effects||(t.effects=[])).push(e)}function yo(e){return T(e)&&e.displayName||e.name}function go(e){const t=function(e){let t,n;return T(e)?(t=e,n=d):(t=e.get,n=e.set),new ht(t,n,T(e)||!e.set)}(e);return ho(t.effect),t}function _o(e,t,n){const r=arguments.length;return 2===r?P(t)&&!S(t)?Pr(t)?Ur(e,null,[t]):Ur(e,t):Ur(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Pr(n)&&(n=[n]),Ur(e,t,n))}function mo(e,t){let n;if(S(e)||I(e)){n=new Array(e.length);for(let r=0,o=e.length;r<o;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(P(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,i=r.length;o<i;o++){const i=r[o];n[o]=t(e[i],i,o)}}else n=[];return n}function vo(e){const t={};for(const n in e)t[Y(n)]=e[n];return t}function bo(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(S(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}const wo="3.0.9",Oo="http://www.w3.org/2000/svg",So="undefined"!=typeof document?document:null;let Ao,Eo;const No={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?So.createElementNS(Oo,e):So.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>So.createTextNode(e),createComment:e=>So.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>So.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const o=r?Eo||(Eo=So.createElementNS(Oo,"svg")):Ao||(Ao=So.createElement("div"));o.innerHTML=e;const i=o.firstChild;let s=i,a=s;for(;s;)a=s,No.insert(s,t,n),s=o.firstChild;return[i,a]}};const To=/\s*!important$/;function Io(e,t,n){if(S(n))n.forEach((n=>Io(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=Po[t];if(n)return n;let r=C(t);if("filter"!==r&&r in e)return Po[t]=r;r=$(r);for(let o=0;o<Bo.length;o++){const n=Bo[o]+r;if(n in e)return Po[t]=n}return t}(e,t);To.test(n)?e.setProperty(F(r),n.replace(To,""),"important"):e[r]=n}}const Bo=["Webkit","Moz","ms"],Po={};const Ro="http://www.w3.org/1999/xlink";let xo=Date.now;"undefined"!=typeof document&&xo()>document.createEvent("Event").timeStamp&&(xo=()=>performance.now());let Do=0;const Lo=Promise.resolve(),Uo=()=>{Do=0};function ko(e,t,n,r){e.addEventListener(t,n,r)}function jo(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[n,a]=function(e){let t;if(Mo.test(e)){let n;for(t={};n=e.match(Mo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[F(e.slice(2)),t]}(t);if(r){ko(e,n,i[t]=function(e,t){const n=e=>{(e.timeStamp||xo())>=n.attached-1&&yt(function(e,t){if(S(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Do||(Lo.then(Uo),Do=xo()))(),n}(r,o),a)}else s&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,a),i[t]=void 0)}}const Mo=/(?:Once|Passive|Capture)$/;const Co=/^on[a-z]/;const qo=(e,{slots:t})=>_o(Rn,Yo(e),t);qo.displayName="Transition";const Fo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$o=qo.props=v({},Rn.props,Fo);function Yo(e){let{name:t="v",type:n,css:r=!0,duration:o,enterFromClass:i=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:u=i,appearActiveClass:c=s,appearToClass:f=a,leaveFromClass:l=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=e;const d={};for(const v in e)v in Fo||(d[v]=e[v]);if(!r)return d;const y=function(e){if(null==e)return null;if(P(e))return[Go(e.enter),Go(e.leave)];{const t=Go(e);return[t,t]}}(o),g=y&&y[0],_=y&&y[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:w,onLeave:O,onLeaveCancelled:S,onBeforeAppear:A=m,onAppear:E=b,onAppearCancelled:N=w}=d,T=(e,t,n)=>{Wo(e,t?f:a),Wo(e,t?c:s),n&&n()},I=(e,t)=>{Wo(e,h),Wo(e,p),t&&t()},B=e=>(t,r)=>{const o=e?E:b,s=()=>T(t,e,r);o&&o(t,s),Ho((()=>{Wo(t,e?u:i),Ko(t,e?f:a),o&&o.length>1||zo(t,n,g,s)}))};return v(d,{onBeforeEnter(e){m&&m(e),Ko(e,i),Ko(e,s)},onBeforeAppear(e){A&&A(e),Ko(e,u),Ko(e,c)},onEnter:B(!1),onAppear:B(!0),onLeave(e,t){const r=()=>I(e,t);Ko(e,l),Qo(),Ko(e,p),Ho((()=>{Wo(e,l),Ko(e,h),O&&O.length>1||zo(e,n,_,r)})),O&&O(e,r)},onEnterCancelled(e){T(e,!1),w&&w(e)},onAppearCancelled(e){T(e,!0),N&&N(e)},onLeaveCancelled(e){I(e),S&&S(e)}})}function Go(e){return H(e)}function Ko(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Wo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ho(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Vo=0;function zo(e,t,n,r){const o=e._endId=++Vo,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:u}=Jo(e,t);if(!s)return r();const c=s+"end";let f=0;const l=()=>{e.removeEventListener(c,p),i()},p=t=>{t.target===e&&++f>=u&&l()};setTimeout((()=>{f<u&&l()}),a+1),e.addEventListener(c,p)}function Jo(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r("transitionDelay"),i=r("transitionDuration"),s=Xo(o,i),a=r("animationDelay"),u=r("animationDuration"),c=Xo(a,u);let f=null,l=0,p=0;"transition"===t?s>0&&(f="transition",l=s,p=i.length):"animation"===t?c>0&&(f="animation",l=c,p=u.length):(l=Math.max(s,c),f=l>0?s>c?"transition":"animation":null,p=f?"transition"===f?i.length:u.length:0);return{type:f,timeout:l,propCount:p,hasTransform:"transition"===f&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function Xo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Zo(t)+Zo(e[n]))))}function Zo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Qo(){return document.body.offsetHeight}const ei=new WeakMap,ti=new WeakMap,ni={name:"TransitionGroup",props:v({},$o,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ao(),r=Bn();let o,i;return mn((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=Jo(r);return o.removeChild(r),i}(o[0].el,n.vnode.el,t))return;o.forEach(ri),o.forEach(oi);const r=o.filter(ii);Qo(),r.forEach((e=>{const n=e.el,r=n.style;Ko(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,Wo(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const s=et(e),a=Yo(s),u=s.tag||wr;o=i,i=t.default?jn(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&kn(t,Dn(t,a,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];kn(t,Dn(t,a,r,n)),ei.set(t,t.el.getBoundingClientRect())}return Ur(u,null,i)}}};function ri(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function oi(e){ti.set(e,e.el.getBoundingClientRect())}function ii(e){const t=ei.get(e),n=ti.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const si=e=>{const t=e.props["onUpdate:modelValue"];return S(t)?e=>K(t,e):t};function ai(e){e.target.composing=!0}function ui(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const ci={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=si(o);const i=r||"number"===e.type;ko(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():i&&(r=H(r)),e._assign(r)})),n&&ko(e,"change",(()=>{e.value=e.value.trim()})),t||(ko(e,"compositionstart",ai),ko(e,"compositionend",ui),ko(e,"change",ui))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:r}},o){if(e._assign=si(o),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&H(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}},fi={created(e,t,n){e._assign=si(n),ko(e,"change",(()=>{const t=e._modelValue,n=hi(e),r=e.checked,o=e._assign;if(S(t)){const e=c(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(E(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(di(e,r))}))},mounted:li,beforeUpdate(e,t,n){e._assign=si(n),li(e,t,n)}};function li(e,{value:t,oldValue:n},r){e._modelValue=t,S(t)?e.checked=c(t,r.props.value)>-1:E(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=u(t,di(e,!0)))}const pi={created(e,{value:t},n){e.checked=u(t,n.props.value),e._assign=si(n),ko(e,"change",(()=>{e._assign(hi(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=si(r),t!==n&&(e.checked=u(t,r.props.value))}};function hi(e){return"_value"in e?e._value:e.value}function di(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const yi=["ctrl","shift","alt","meta"],gi={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>yi.some((n=>e[`${n}Key`]&&!t.includes(n)))},_i=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=gi[t[e]];if(r&&r(n,t))return}return e(n,...r)},mi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vi=(e,t)=>n=>{if(!("key"in n))return;const r=F(n.key);return t.some((e=>e===r||mi[e]===r))?e(n):void 0},bi={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):wi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),wi(e,!0),r.enter(e)):r.leave(e,(()=>{wi(e,!1)})):wi(e,t))},beforeUnmount(e,{value:t}){wi(e,t)}};function wi(e,t){e.style.display=t?e._vod:"none"}const Oi=v({patchProp:(e,t,r,o,i=!1,s,a,u,c)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,o,i);break;case"style":!function(e,t,n){const r=e.style;if(n)if(I(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)Io(r,e,n[e]);if(t&&!I(t))for(const e in t)null==n[e]&&Io(r,e,"")}else e.removeAttribute("style")}(e,r,o);break;default:_(t)?m(t)||jo(e,t,0,o,a):function(e,t,n,r){if(r)return"innerHTML"===t||!!(t in e&&Co.test(t)&&T(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Co.test(t)&&I(n))return!1;return t in e}(e,t,o,i)?function(e,t,n,r,o,i,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,o,i),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,o,s,a,u,c):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,r,o){if(o&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Ro,t.slice(6,t.length)):e.setAttributeNS(Ro,t,r);else{const o=n(t);null==r||o&&!1===r?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}(e,t,o,i))}},forcePatchProp:(e,t)=>"value"===t},No);let Si;function Ai(){return Si||(Si=ar(Oi))}const Ei=(...e)=>{Ai().render(...e)},Ni=(...e)=>{const t=Ai().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(I(e)){return document.querySelector(e)}return e}(e);if(!r)return;const o=t._component;T(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};var Ti="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ii(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function Bi(e){var t={exports:{}};return e(t,t.exports),t.exports}var Pi,Ri,xi=Bi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var n="@cloudbase/js-sdk";t.setSdkName=function(e){n=e},t.getSdkName=function(){return n};var r="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";t.setProtocol=function(e){r=e},t.getProtocol=function(){return r},t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"})),Di=Bi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}})),Li=Bi((function(e,t){var n=Ti&&Ti.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Ti&&Ti.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(xi,t),r(Di,t)}));(Ri=Pi||(Pi={})).local="local",Ri.none="none",Ri.session="session";var Ui=function(){},ki=function(){};function ji(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t}var Mi,Ci=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get StorageType(){return Pi},AbstractSDKRequest:Ui,AbstractStorage:ki,formatUrl:ji}),qi=Bi((function(e,t){var n;e.exports=n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=r.algo={};return r}(Math)})),Fi=(Bi((function(e,t){var n;e.exports=(n=qi,function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),u[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],f=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],f=n[5],l=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var d=c[h-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=c[h-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=y+c[h-7]+_+c[h-16]}var m=r&o^r&i^o&i,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[h]+c[h];p=l,l=f,f=a,a=s+b|0,s=i,i=o,o=r,r=b+(v+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(f),t.HmacSHA256=i._createHmacHelper(f)}(Math),n.SHA256)})),Bi((function(e,t){var n,r,o;e.exports=(r=(n=qi).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),Bi((function(e,t){e.exports=qi.HmacSHA256}))),$i=Bi((function(e,t){var n;e.exports=(n=qi,function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var o=[],i=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=(a|u)<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),Yi=Bi((function(e,t){e.exports=qi.enc.Utf8})),Gi=Bi((function(e,t){var n=Ti&&Ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var r=n(Fi),o=n($i),i=n(Yi);function s(e){var t=o.default.stringify(e);return t=(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isUndefined=function(e){return void 0===e},t.isPalinObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isInstanceOf=function(e,t){return e instanceof t},t.isFormData=function(e){return"[object FormData]"===Object.prototype.toString.call(e)},t.genSeqId=function(){return Math.random().toString(16).slice(2)},t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t},t.createSign=function(e,t){var n=s(i.default.parse(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+s(i.default.parse(JSON.stringify(e)));return n+"."+s(r.default(n,t))},t.toQueryString=function(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},t.getQuery=function(e,t){if("undefined"==typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=n.substr(n.indexOf("?")+1).match(r);return null!=o?o[2]:""},t.getHash=function(e){if("undefined"==typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=function(e,t){var n=t.split("?")[0],r=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var i=(r=o.split("&")).length-1;i>=0;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);n=n+"?"+r.join("&")}return n},t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e},t.execCallback=function(e,t,n){if(void 0===n&&(n=null),e&&"function"==typeof e)return e(t,n);if(t)throw t;return n},t.printWarn=function(e,t){console.warn("["+Li.getSdkName()+"]["+e+"]:"+t)},t.printError=function(e,t){console.error({code:e,msg:"["+Li.getSdkName()+"]["+e+"]:"+t})},t.printInfo=function(e,t){console.log("["+Li.getSdkName()+"]["+e+"]:"+t)},t.throwError=function(e,t){throw new Error(JSON.stringify({code:e,msg:"["+Li.getSdkName()+"]["+e+"]:"+t}))},t.printGroupLog=function(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,o=e.content,i=void 0===o?[]:o,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed;void 0!==u&&u?console.groupCollapsed(t,r):console.group(t,r);for(var c=0,f=i;c<f.length;c++){var l=f[c],p=l.type,h=l.body;switch(p){case"info":console.log(h);break;case"warn":console.warn(h);break;case"error":console.error(h)}}a&&console.trace("stack trace:"),console.groupEnd()},t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))}})),Ki=Ii(Ci),Wi=Bi((function(e,t){var n,r=Ti&&Ti.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Ti&&Ti.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=Ti&&Ti.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=Ti&&Ti.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var a=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return r(t,e),t.prototype.get=function(e){return this._request(o(o({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(o(o({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(o(o({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,i=new FormData;for(var s in t)i.append(s,t[s]);return i.append("key",r),i.append("file",n),this._request(o(o({},e),{data:i,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(o(o({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),(i=document.createElement("a")).href=n,i.setAttribute("download",r),i.style.display="none",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise((function(o){var i,s,a=e.url,u=e.headers,c=void 0===u?{}:u,f=e.data,l=e.responseType,p=e.withCredentials,h=e.body,d=e.onUploadProgress,y=Gi.formatUrl(xi.getProtocol(),a,"get"===r?f:{}),g=new XMLHttpRequest;for(var _ in g.open(r,y),l&&(g.responseType=l),c)g.setRequestHeader(_,c[_]);d&&g.upload.addEventListener("progress",d),g.onreadystatechange=function(){var e={};if(4===g.readyState){var t=g.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift().toLowerCase(),o=t.join(": ");n[r]=o})),e.header=n,e.statusCode=g.status;try{e.data="blob"===l?g.response:JSON.parse(g.responseText)}catch(r){e.data="blob"===l?g.response:g.responseText}clearTimeout(i),o(e)}},t&&n._timeout&&(i=setTimeout((function(){console.warn(n._timeoutMsg),g.abort()}),n._timeout)),s=Gi.isFormData(f)?f:"application/x-www-form-urlencoded"===c["content-type"]?Gi.toQueryString(f):h||(f?JSON.stringify(f):void 0),p&&(g.withCredentials=!0),g.send(s)}))},t}(Ki.AbstractSDKRequest);t.WebRequest=a,t.genAdapter=function(){return{root:window,reqClass:a,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage}}})),Hi=Bi((function(e,t){var n=Ti&&Ti.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Ti&&Ti.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Ti&&Ti.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var i,s,a=o(Wi);(s=i=t.RUNTIME||(t.RUNTIME={})).WEB="web",s.WX_MP="wx_mp",t.useAdapters=function(e){for(var t=0,n=Gi.isArray(e)?e:[e];t<n.length;t++){var r=n[t],o=r.isMatch,i=r.genAdapter,s=r.runtime;if(o())return{adapter:i(),runtime:s}}},t.useDefaultAdapter=function(){return{adapter:a.genAdapter(),runtime:i.WEB}}})),Vi=Bi((function(e,t){var n,r=Ti&&Ti.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Ti&&Ti.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=Ti&&Ti.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var s=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t.tcbCacheObject||(t.tcbCacheObject={}),n}return r(t,e),t.prototype.setItem=function(e,t){this._root.tcbCacheObject[e]=t},t.prototype.getItem=function(e){return this._root.tcbCacheObject[e]},t.prototype.removeItem=function(e){delete this._root.tcbCacheObject[e]},t.prototype.clear=function(){delete this._root.tcbCacheObject},t}(Ki.AbstractStorage);function a(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(Gi.printWarn(Li.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new s(t.root));case"none":return new s(t.root);case"session":return t.sessionStorage?t.sessionStorage:(Gi.printWarn(Li.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new s(t.root));default:return t.localStorage?t.localStorage:(Gi.printWarn(Li.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new s(t.root))}}var u=function(){function e(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,o=e.keys,i=void 0===o?{}:o,s=e.alwaysLocalKeys,u=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=u,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=a(this._persistence,r.adapter),this.keys=i)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),e.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=a(e,this._platformInfo.adapter);for(var r in this.keys){var o=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var i=this._storage.getItem(o);Gi.isUndefined(i)||Gi.isNull(i)||(n.setItem(o,i),this._storage.removeItem(o))}}this._storage=n}}else Gi.printWarn(Li.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},e.prototype.updatePersistenceAsync=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,s,u,c,f;return i(this,(function(i){switch(i.label){case 0:if(e===this._persistence)return[2];for(o in t="local"===this._persistence,this._persistence=e,n=a(e,this._platformInfo.adapter),r=[],this.keys)r.push(o);s=0,i.label=1;case 1:return s<r.length?(u=r[s],c=this.keys[u],t&&this._alwaysLocalKeys.includes(u)?[3,4]:[4,this._storage.getItem(c)]):[3,5];case 2:return f=i.sent(),Gi.isUndefined(f)||Gi.isNull(f)?[3,4]:(n.setItem(c,f),[4,this._storage.removeItem(c)]);case 3:i.sent(),i.label=4;case 4:return s++,[3,1];case 5:return this._storage=n,[2]}}))}))},e.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(o){throw new Error(JSON.stringify({code:Li.ERRORS.OPERATION_FAIL,msg:"["+Li.getSdkName()+"]["+Li.ERRORS.OPERATION_FAIL+"]setStore failed",info:o}))}}else Gi.printWarn(Li.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},e.prototype.setStoreAsync=function(e,t,n){return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:if(!this._storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}}))}))},e.prototype.getStore=function(e,t){var n;if("async"!==this.mode){try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return{}.tcb_token;if(!this._storage)return""}catch(o){return""}t=t||"localCachev1";var r=this._storage.getItem(e);return r&&r.indexOf(t)>=0?JSON.parse(r).content:""}Gi.printWarn(Li.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},e.prototype.getStoreAsync=function(e,t){var n;return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return[2,{}.tcb_token];if(!this._storage)return[2,""]}catch(i){return[2,""]}return t=t||"localCachev1",[4,this._storage.getItem(e)];case 1:return(r=o.sent())&&r.indexOf(t)>=0?[2,JSON.parse(r).content]:[2,""]}}))}))},e.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):Gi.printWarn(Li.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},e.prototype.removeStoreAsync=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},e}();t.CloudbaseCache=u})),zi=Bi((function(e,t){var n,r=Ti&&Ti.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Ti&&Ti.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var i=function(e,t){this.data=t||null,this.name=e};t.CloudbaseEvent=i;var s=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return r(t,e),t}(i);t.IErrorEvent=s;var a=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this},e.prototype.off=function(e,t){return function(e,t,n){if(null==n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(Gi.isInstanceOf(e,s))return console.error(e.error),this;var n=Gi.isString(e)?new i(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var a=0,u=this._listeners[r]?o(this._listeners[r]):[];a<u.length;a++){u[a].call(this,n)}}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();t.CloudbaseEventEmitter=a;var u=new a;t.addEventListener=function(e,t){u.on(e,t)},t.activateEvent=function(e,t){void 0===t&&(t={}),u.fire(e,t)},t.removeEventListener=function(e,t){u.off(e,t)}})),Ji=Bi((function(e,t){var n=Ti&&Ti.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=Ti&&Ti.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var o=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(o=-1!==navigator.userAgent.indexOf("Firefox"));var i=o?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,s=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function a(e){var t=e.err,n=e.className,r=e.methodName,i=e.sourceLink;if(!i)return null;var a,u=t.stack.split("\n"),c=o?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),f=o?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),l=u.findIndex((function(e){return c.test(e)}));if(-1!==l){var p=u.filter((function(e,t){return t>l}));p.unshift(u[l].replace(f,n+"."+r).replace(s,i)),(a=new Error).stack=(o?"@debugger":"Error")+"\n"+p.join("\n")}return a}t.catchErrorsDecorator=function(e){var t=e.mode,o=void 0===t?"async":t,u=e.customInfo,c=void 0===u?{}:u,f=e.title,l=e.messages,p=void 0===l?[]:l;return function(e,t,u){if(Li.IS_DEBUG_MODE){var l=c.className||e.constructor.name,h=c.methodName||t,d=u.value,y=function(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return i.test(e)}));if(-1!==r){var o=s.exec(n[r+1]||"");t=o?o[0]:""}return t}(new Error);u.value="sync"===o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a({err:new Error,className:l,methodName:h,sourceLink:y});try{return d.apply(this,e)}catch(u){var r=u,o=u.message,i={title:f||l+"."+h+" failed",content:[{type:"error",body:u}]};if(o&&/^\{.*\}$/.test(o)){var s=JSON.parse(o);i.subtitle=o,s.code&&(r=n||u,i.content=p.map((function(e){return{type:"info",body:e}})))}throw Gi.printGroupLog(i),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,o,i,s,u;return r(this,(function(r){switch(r.label){case 0:t=a({err:new Error,className:l,methodName:h,sourceLink:y}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,d.apply(this,e)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),o=n,i=n.message,s={title:f||l+"."+h+" failed",content:[{type:"error",body:n}]},i&&/^\{.*\}$/.test(i)&&(u=JSON.parse(i),s.subtitle=u,u.code&&(o=t||n,s.content=p.map((function(e){return{type:"info",body:e}})))),Gi.printGroupLog(s),o;case 4:return[2]}}))}))}}}}})),Xi=Bi((function(e,t){var n=Ti&&Ti.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Ti&&Ti.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ji,t)})),Zi=Bi((function(e,t){var n=Ti&&Ti.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Ti&&Ti.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Ti&&Ti.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var i=o(Li);t.constants=i;var s=o(Hi);t.adapters=s;var a=o(Vi);t.cache=a;var u=o(zi);t.events=u;var c=o(Gi);t.utils=c;var f=o(Xi);t.helpers=f})),Qi=(Mi=function(e,t){return(Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Mi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),es=function(){return(es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ts=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ns=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};var rs=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return Qi(t,e),t.prototype.post=function(e){var t=this;return new Promise((function(n,r){var o=e.url,i=e.data,s=e.headers,a=wx.request({url:ji("https:",o),data:i,timeout:t._timeout,method:"POST",header:s,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(t._timeout&&-1!==t._restrictedMethods.indexOf("post")&&"request:fail timeout"===e.errMsg)){console.warn(t._timeoutMsg);try{a.abort()}catch(n){}}}})}))},t.prototype.upload=function(e){var t=this,n=this;return new Promise((function(r){return ts(t,void 0,void 0,(function(){var t,o,i,s,a,u;return ns(this,(function(c){return t=e.url,o=e.file,i=e.data,s=e.headers,a=e.onUploadProgress,u=wx.uploadFile({url:t,filePath:o,name:"file",formData:es({},i),header:s,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&i.success_action_status&&(t.statusCode=parseInt(i.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("upload")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{u.abort()}catch(t){}}}}),a&&u.onProgressUpdate((function(e){a(e)})),[2]}))}))}))},t.prototype.download=function(e){var t=this,n=this;return new Promise((function(r,o){var i=e.url,s=e.headers,a=wx.downloadFile({url:ji("https:",i),header:s,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){o(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("download")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{a.abort()}catch(t){}}}})}))},t}(Ui),os={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},is=function(e,t){void 0===t&&(t={});var n=wx.connectSocket(es({url:e},t));return{set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};var ss={genAdapter:function(){return{root:{},reqClass:rs,wsClass:is,localStorage:os,primaryStorage:Pi.local,getAppSign:function(){var e=wx.getAccountInfoSync();return"undefined"!=typeof App||"undefined"!=typeof getApp||wx.onAppHide||wx.offAppHide||wx.onAppShow||wx.offAppShow?e&&e.miniProgram?e.miniProgram.appId:"":e&&e.plugin?e.plugin.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0},runtime:"wx_mp"},as=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},us=Zi.constants.ERRORS,cs={};function fs(e,t){var n=t.name,r=t.namespace,o=t.entity,i=t.injectEvents,s=t.IIFE,a=void 0!==s&&s;if(cs[n]||r&&e[r])throw new Error(JSON.stringify({code:us.INVALID_OPERATION,msg:"Duplicate component "+n}));if(a){if(!o||"function"!=typeof o)throw new Error(JSON.stringify({code:us.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(e)}if(cs[n]=t,r?e.prototype[r]=o:ls(e.prototype,o),i){var u=i.bus,c=i.events;if(!u||!c||0===c.length)return;var f=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={}),(e.prototype.events||{})[n]?e.prototype.events[n].events=as(e.prototype.events[n].events,c):e.prototype.events[n]={bus:u,events:c},e.prototype.fire=function(e,t){for(var n in f(e,t),this.events){var r=this.events[n],o=r.bus;if(r.events.includes(e)){o.fire(e,t);break}}}}}function ls(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=ls(e[n],t[n]));return e}var ps={},hs=function(){return(hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ds=Zi.cache.CloudbaseCache,ys={},gs={};function _s(e){var t=e.env,n=e.persistence,r=e.platformInfo,o={accessTokenKey:"access_token_"+t,accessTokenExpireKey:"access_token_expire_"+t,refreshTokenKey:"refresh_token_"+t,anonymousUuidKey:"anonymous_uuid_"+t,loginTypeKey:"login_type_"+t,userInfoKey:"user_info_"+t};ys[t]?ys[t].updatePersistence(n):ys[t]=new ds(hs(hs({},e),{keys:o,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),gs[t]=gs[t]||new ds(hs(hs({},e),{keys:o,platformInfo:r,persistence:"local"}))}function ms(e){return ys[e]}function vs(e){return gs[e]}var bs=Zi.constants.setSdkName,ws=Zi.constants.setProtocol,Os="",Ss="@cloudbase/js-sdk";var As,Es,Ns="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",Ts="//tcb-api.tencentcloudapi.com/web";function Is(e,t){Ts=e,t&&(Ns=t,ws(t))}(Es=As||(As={})).ANONYMOUS="ANONYMOUS",Es.WECHAT="WECHAT",Es.CUSTOM="CUSTOM",Es.NULL="NULL";var Bs="loginStateExpire",Ps="refreshAccessToken",Rs=function(){return(Rs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xs=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ds=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ls=Zi.constants.ERRORS,Us=Zi.utils.genSeqId,ks=Zi.utils.isFormData,js=Zi.utils.formatUrl,Ms=Zi.utils.createSign,Cs=Zi.adapters.RUNTIME,qs=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function Fs(e,t,n){var r=e[t];e[t]=function(t){var o={},i={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(o,s),Object.assign(i,a)}));var s=t.data;return s&&function(){if(ks(s))for(var e in o)s.append(e,o[e]);else t.data=Rs(Rs({},s),o)}(),t.headers=Rs(Rs({},t.headers||{}),i),r.call(e,t)}}function $s(){var e=Us();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+Os,"x-seqid":e}}}var Ys=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new ps.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=ms(this.config.env),this._localCache=vs(this.config.env),Fs(this._reqClass,"post",[$s]),Fs(this._reqClass,"upload",[$s]),Fs(this._reqClass,"download",[$s])}return e.prototype.post=function(e){return xs(this,void 0,void 0,(function(){return Ds(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.post(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.upload=function(e){return xs(this,void 0,void 0,(function(){return Ds(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.upload(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.download=function(e){return xs(this,void 0,void 0,(function(){return Ds(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.download(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.refreshAccessToken=function(){return xs(this,void 0,void 0,(function(){var e,t,n;return Ds(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u;return Ds(this,(function(c){switch(c.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(!c.sent())throw new Error(JSON.stringify({code:Ls.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=c.sent(),s=Number,[4,this._cache.getStoreAsync(n)];case 3:return i=s.apply(void 0,[c.sent()]),a=!0,(u=this._shouldRefreshAccessTokenHook)?[4,this._shouldRefreshAccessTokenHook(o,i)]:[3,5];case 4:u=!c.sent(),c.label=5;case 5:return u&&(a=!1),o&&i&&!(i<Date.now())||!a?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,c.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:i}]}}))}))},e.prototype.request=function(e,t,n){return xs(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,f,l,p,h,d,y,g,_,m,v,b,w,O,S,A,E,N;return Ds(this,(function(T){switch(T.label){case 0:return r="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",i=Rs({action:e,dataVersion:"2020-01-10",env:this.config.env},t),-1!==qs.indexOf(e)?[3,3]:(s=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(s)]);case 1:return T.sent()?(a=i,[4,this.getAccessToken()]):[3,3];case 2:a.access_token=T.sent().accessToken,T.label=3;case 3:if("storage.uploadFile"===e){for(c in u=new FormData)u.hasOwnProperty(c)&&void 0!==u[c]&&u.append(c,i[c]);o="multipart/form-data"}else for(c in o="application/json;charset=UTF-8",u={},i)void 0!==i[c]&&(u[c]=i[c]);return f={headers:{"content-type":o}},(null==n?void 0:n.onUploadProgress)&&(f.onUploadProgress=n.onUploadProgress),this.config.region&&(f.headers["X-TCB-Region"]=this.config.region),(l=this._localCache.getStore(r))&&(f.headers["X-TCB-Trace"]=l),ps.runtime!==Cs.WEB&&(p=this.config,h=p.appSign,d=p.appSecret,y=Date.now(),g=d.appAccessKey,_=d.appAccessKeyId,m=Ms({data:u,timestamp:y,appAccessKeyId:_,appSign:h},g),f.headers["X-TCB-App-Source"]="timestamp="+y+";appAccessKeyId="+_+";appSign="+h+";sign="+m),v=t.parse,b=t.inQuery,w=t.search,O={env:this.config.env},v&&(O.parse=!0),b&&(O=Rs(Rs({},b),O)),A=js((S={BASE_URL:Ts,PROTOCOL:Ns}).PROTOCOL,S.BASE_URL,O),w&&(A+=w),[4,this.post(Rs({url:A,data:u},f))];case 4:if(E=T.sent(),(N=E.header&&E.header["x-tcb-trace"])&&this._localCache.setStore(r,N),200!==Number(E.status)&&200!==Number(E.statusCode)||!E.data)throw new Error("network request error");return[2,E]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),xs(this,void 0,void 0,(function(){var n;return Ds(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return"ACCESS_TOKEN_EXPIRED"!==(n=r.sent()).data.code||-1!==qs.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:Ls.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(){return xs(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,f,l,p;return Ds(this,(function(h){switch(h.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,o=e.loginTypeKey,i=e.anonymousUuidKey,[4,this._cache.removeStoreAsync(t)];case 1:return h.sent(),[4,this._cache.removeStoreAsync(n)];case 2:return h.sent(),[4,this._cache.getStoreAsync(r)];case 3:if(!(s=h.sent()))throw new Error(JSON.stringify({code:Ls.INVALID_OPERATION,msg:"not login"}));return a={refresh_token:s},[4,this.request("auth.fetchAccessTokenWithRefreshToken",a)];case 4:return(u=h.sent()).data.code?"SIGN_PARAM_INVALID"!==(c=u.data.code)&&"REFRESH_TOKEN_EXPIRED"!==c&&"INVALID_REFRESH_TOKEN"!==c?[3,11]:[4,this._cache.getStoreAsync(o)]:[3,12];case 5:return h.sent()===As.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===c?[4,this._cache.getStoreAsync(i)]:[3,9];case 6:return f=h.sent(),[4,this._cache.getStoreAsync(r)];case 7:return l=h.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:l})];case 8:return p=h.sent(),this._setRefreshToken(p.refresh_token),[2,this._refreshAccessToken()];case 9:return ia.fire(Bs),[4,this._cache.removeStoreAsync(r)];case 10:h.sent(),h.label=11;case 11:throw new Error(JSON.stringify({code:Ls.NETWORK_ERROR,msg:"refresh access_token failed："+u.data.code}));case 12:return u.data.access_token?(ia.fire(Ps),[4,this._cache.setStoreAsync(t,u.data.access_token)]):[3,15];case 13:return h.sent(),[4,this._cache.setStoreAsync(n,u.data.access_token_expire+Date.now())];case 14:return h.sent(),[2,{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire}];case 15:return u.data.refresh_token?[4,this._cache.removeStoreAsync(r)]:[3,19];case 16:return h.sent(),[4,this._cache.setStoreAsync(r,u.data.refresh_token)];case 17:return h.sent(),[4,this._refreshAccessToken()];case 18:h.sent(),h.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return xs(this,void 0,void 0,(function(){var t,n,r,o;return Ds(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e}(),Gs={};var Ks=function(){return(Ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ws=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Hs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vs=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},zs=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Js=Zi.adapters.useAdapters,Xs=Zi.adapters.useDefaultAdapter,Zs=Zi.adapters.RUNTIME,Qs=Zi.constants.ERRORS,ea=Zi.constants.COMMUNITY_SITE_URL,ta=Zi.utils.printWarn,na=Zi.helpers.catchErrorsDecorator,ra={timeout:15e3,persistence:"session"},oa={},ia=new(function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return ps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return ms(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return vs(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return e=this._config.env,Gs[e];var e},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:Qs.INVALID_PARAMS,msg:"env must not be specified"}));if(ps.adapter||this._useDefaultAdapter(),this.requestClient=new ps.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+Ss+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),ps.runtime!==Zs.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:Qs.INVALID_PARAMS,msg:"invalid appSecret"}));var n=ps.adapter.getAppSign?ps.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:Qs.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:Qs.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=Ks(Ks({},ra),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,o=r.env,i=r.persistence,s=r.debug,a=r.timeout,u=r.appSecret,c=r.appSign;_s({env:o,persistence:i,debug:s,platformInfo:this.platform}),function(e){Gs[e.env]=new Ys(Rs(Rs({},e),{throw:!0}))}({env:o,region:t.region||"",timeout:a,appSecret:u,appSign:c}),t.region&&function(e,t,n){Is(t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web",n)}(o,t.region||"");var f=new e(this._config);return f.requestClient=this.requestClient,f},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,_s({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){oa[e.name]=e},e.prototype.invokeExtension=function(e,t){return Vs(this,void 0,void 0,(function(){var n;return zs(this,(function(r){switch(r.label){case 0:if(!(n=oa[e]))throw new Error(JSON.stringify({code:Qs.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=Js(e)||{},n=t.adapter,r=t.runtime;n&&(ps.adapter=n),r&&(ps.runtime=r)},e.prototype.registerHook=function(t){!function(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:us.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var o=e.prototype[r];if("function"!=typeof o)throw new Error(JSON.stringify({code:us.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,as([this],e)),o.call.apply(o,as([this],e))}}(e,t)},e.prototype.registerComponent=function(t){fs(e,t)},e.prototype.registerVersion=function(e){!function(e){Os=e}(e)},e.prototype.registerSdkName=function(e){!function(e){Ss=e,bs(e)}(e)},e.prototype.registerEndPoint=function(e,t){Is(e,t)},e.prototype._useDefaultAdapter=function(){var e=Xs(),t=e.adapter,n=e.runtime;ps.adapter=t,ps.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>6e5:return ta(Qs.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),6e5;case e<100:return ta(Qs.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),100;default:return e}},Ws([na({mode:"sync",title:"Cloudbase 初始化失败",messages:["请确认以下各项：","  1 - 调用 cloudbase.init() 的语法或参数是否正确","  2 - 如果是非浏览器环境，是否配置了安全应用来源（https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ea]}),Hs("design:type",Function),Hs("design:paramtypes",[Object]),Hs("design:returntype",e)],e.prototype,"init",null),Ws([na({title:"调用扩展能力失败",messages:["请确认以下各项：","  1 - 调用 invokeExtension() 的语法或参数是否正确","  2 - 被调用的扩展能力是否已经安装并通过 registerExtension() 注册","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ea]}),Hs("design:type",Function),Hs("design:paramtypes",[String,Object]),Hs("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}());ia.useAdapters(ss);var sa,aa=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ua=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ca=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return aa(this,void 0,void 0,(function(){var e,t,n,r,o,i;return ua(this,(function(s){switch(s.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return r=s.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=s.sent(),r?o&&o>Date.now()?[4,(i=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,4]:[3,7];case 3:return s.sent(),[2,i];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return s.sent(),[4,this._cache.removeStoreAsync(n)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return aa(this,void 0,void 0,(function(){var t,n,r,o;return ua(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return aa(this,void 0,void 0,(function(){var n,r,o;return ua(this,(function(i){switch(i.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return i.sent(),[4,this._cache.setStoreAsync(o,t)];case 2:return i.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return aa(this,void 0,void 0,(function(){var e;return ua(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,[4,this.setLocalUserInfo(e)];case 2:return t.sent(),[2,e]}}))}))},e.prototype.setLocalUserInfo=function(e){return aa(this,void 0,void 0,(function(){var t;return ua(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"}(sa||(sa={}));var fa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),la=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ha=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},da=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ya=Zi.constants.getSdkName,ga=Zi.constants.ERRORS,_a=Zi.constants.COMMUNITY_SITE_URL,ma=Zi.adapters.RUNTIME,va=Zi.utils.getQuery,ba=Zi.utils.getHash,wa=Zi.utils.removeParam,Oa=Zi.utils.printWarn,Sa=Zi.helpers.catchErrorsDecorator,Aa=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._runtime=t.runtime,i._appid=n,i._scope=r,i._state=o||"weixin",i}return fa(t,e),t.prototype.signIn=function(){return ha(this,void 0,void 0,(function(){return da(this,(function(e){return[2,Oa(ga.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return ha(this,void 0,void 0,(function(){return da(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return ha(this,void 0,void 0,(function(){var t;return da(this,(function(n){return(t=Ea())?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),ha(this,void 0,void 0,(function(){var t,n,r,o,i,s;return da(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,(r=Ea())?(o=this._appid,i=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),s=this._runtime===ma.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:o,loginType:i,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null]}))}))},t.prototype._redirect=function(){var e=wa("code",location.href);e=wa("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+ya()+"]["+ga.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return ha(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c;return da(this,(function(f){switch(f.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,i=n.refreshTokenKey,s=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=f.sent(),u=a.refreshToken,[4,this._cache.setStoreAsync(i,u)];case 2:return f.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:f.sent(),f.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(o,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:f.sent(),f.label=6;case 6:return Tu.fire(Ru.LOGIN_STATE_CHANGED),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return f.sent(),[4,(c=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return f.sent(),[2,c]}}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),ha(this,void 0,void 0,(function(){var o,i,s,a,u,c;return da(this,(function(f){return o=r.withUnionId,i=void 0!==o&&o,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),"auth.signIn",c=this._runtime===ma.WX_MP?"1":"0",[2,this._request.send("auth.signIn",{appid:e,loginType:t,hybridMiniapp:c,syncUserInfo:u,loginCredential:n,withUnionId:i,createUser:a}).then((function(e){if(e.code)throw new Error("["+ya()+"]["+ga.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+ya()+"]["+ga.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},la([Sa({title:"跳转微信公众号授权失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().signInWithRedirect() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_a]}),pa("design:type",Function),pa("design:paramtypes",[]),pa("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),la([Sa({title:"微信公众号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_a]}),pa("design:type",Function),pa("design:paramtypes",[Object]),pa("design:returntype",Promise)],t.prototype,"getRedirectResult",null),la([Sa({title:"获取微信重定向绑定结果",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getLinkRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_a]}),pa("design:type",Function),pa("design:paramtypes",[Object]),pa("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(ca);function Ea(){return va("code")||ba("code")}var Na,Ta,Ia,Ba=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ra=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},xa=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Da=Zi.constants.ERRORS,La=Zi.constants.COMMUNITY_SITE_URL,Ua=Zi.utils.throwError,ka=Zi.utils.isString,ja=Zi.events.addEventListener,Ma=Zi.helpers.catchErrorsDecorator,Ca=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),ja(Ru.ANONYMOUS_CONVERTED,n._onConverted),n}return Ba(t,e),t.prototype.signIn=function(){return Ra(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return xa(this,(function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return o=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o})];case 4:return(i=a.sent()).uuid&&i.refresh_token?[4,this._setAnonymousUUID(i.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(i.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.ANONYMOUS,persistence:"local"}),Tu.fire(Ru.LOGIN_STATE_CHANGED),[4,(s=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:Da.OPERATION_FAIL,msg:JSON.stringify(i)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return Ra(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return xa(this,(function(u){switch(u.label){case 0:return ka(e)||Ua(Da.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 2:return i=u.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:i,ticket:e})];case 3:return(s=u.sent()).refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return u.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return u.sent(),[4,this._request.refreshAccessToken()];case 6:return u.sent(),Tu.fire(Ru.ANONYMOUS_CONVERTED,{env:this._config.env}),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{loginType:sa.CUSTOM,persistence:"local"}),[4,(a=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 7:return u.sent(),[2,a];case 8:Ua(Da.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),u.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return Ra(this,void 0,void 0,(function(){var t,n,r;return xa(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return o.sent(),[4,this._cache.setStoreAsync(r,sa.ANONYMOUS)];case 3:return o.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return Ra(this,void 0,void 0,(function(){return xa(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return Ra(this,void 0,void 0,(function(){return xa(this,(function(t){switch(t.label){case 0:return e.data.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return t.sent(),[2]}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([Ma({title:"匿名登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了匿名登录","  2 - 调用 auth().anonymouseProvider().signIn() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+La]}),Pa("design:type",Function),Pa("design:paramtypes",[]),Pa("design:returntype",Promise)],t.prototype,"signIn",null),t}(ca),qa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ya=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ga=Zi.constants.ERRORS,Ka=Zi.constants.COMMUNITY_SITE_URL,Wa=Zi.utils.isString,Ha=Zi.helpers.catchErrorsDecorator,Va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qa(t,e),t.prototype.signIn=function(e){return $a(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return Ya(this,(function(u){switch(u.label){case 0:if(!Wa(e))throw new Error(JSON.stringify({code:Ga.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,o=(r=this._request).send,i=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,o.apply(r,i.concat([(s.refresh_token=u.sent()||"",s)]))];case 2:return(n=u.sent()).refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return u.sent(),[4,this._request.refreshAccessToken()];case 4:return u.sent(),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.CUSTOM,persistence:this._config.persistence}),Tu.fire(Ru.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return u.sent(),[4,(a=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 6:return u.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:Ga.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([Ha({title:"自定义登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了自定义登录","  2 - 调用 auth().customAuthProvider().signIn() 的语法或参数是否正确","  3 - ticket 是否归属于当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Ka]}),Fa("design:type",Function),Fa("design:paramtypes",[String]),Fa("design:returntype",Promise)],t.prototype,"signIn",null),t}(ca),za=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ja=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Xa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Za=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Qa=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},eu=Zi.utils.throwError,tu=Zi.utils.isString,nu=Zi.constants.ERRORS,ru=Zi.constants.COMMUNITY_SITE_URL,ou=Zi.helpers.catchErrorsDecorator,iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return za(t,e),t.prototype.signIn=function(e,t){return Za(this,void 0,void 0,(function(){var n,r,o,i,s;return Qa(this,(function(a){switch(a.label){case 0:return tu(e)||eu(nu.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),o=r.refresh_token,i=r.access_token,s=r.access_token_expire,o?[4,this.setRefreshToken(o)]:[3,8];case 2:return a.sent(),i&&s?[4,this.setAccessToken(i,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),Tu.fire(Ru.LOGIN_STATE_CHANGED),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.EMAIL,persistence:this._config.persistence}),[2,new Bu({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?eu(nu.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):eu(nu.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return Za(this,void 0,void 0,(function(){return Qa(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return Za(this,void 0,void 0,(function(){return Qa(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return Za(this,void 0,void 0,(function(){return Qa(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return Za(this,void 0,void 0,(function(){return Qa(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},Ja([ou({title:"邮箱密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().emailAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 邮箱地址与密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ru]}),Xa("design:type",Function),Xa("design:paramtypes",[String,String]),Xa("design:returntype",Promise)],t.prototype,"signIn",null),Ja([ou({title:"邮箱注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithEmailAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ru]}),Xa("design:type",Function),Xa("design:paramtypes",[String,String]),Xa("design:returntype",Promise)],t.prototype,"signUp",null),Ja([ou({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用 auth().sendPasswordResetEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经与当前用户绑定","  4 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ru]}),Xa("design:type",Function),Xa("design:paramtypes",[String]),Xa("design:returntype",Promise)],t.prototype,"resetPassword",null),Ja([ou({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ru]}),Xa("design:type",Function),Xa("design:paramtypes",[String,String]),Xa("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),Ja([ou({title:"邮箱激活失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+ru]}),Xa("design:type",Function),Xa("design:paramtypes",[String]),Xa("design:returntype",Promise)],t.prototype,"activate",null),t}(ca),su=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},uu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},cu=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},fu=Zi.utils.printWarn,lu=Zi.constants.ERRORS,pu=Zi.constants.COMMUNITY_SITE_URL,hu=Zi.helpers.catchErrorsDecorator,du=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return su(t,e),t.prototype.signIn=function(e,t){return uu(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,f;return cu(this,(function(l){switch(l.label){case 0:if("string"!=typeof e)throw new Error(JSON.stringify({code:lu.INVALID_PARAMS,msg:"username must be a string"}));return"string"!=typeof t&&(t="",fu(lu.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,i=(o=this._request).send,s=["auth.signIn"],a={loginType:sa.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,i.apply(o,s.concat([(a.refresh_token=l.sent()||"",a)]))];case 2:return r=l.sent(),u=r.refresh_token,c=r.access_token_expire,f=r.access_token,u?[4,this.setRefreshToken(u)]:[3,9];case 3:return l.sent(),f&&c?[4,this.setAccessToken(f,c)]:[3,5];case 4:return l.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:l.sent(),l.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return l.sent(),Tu.fire(Ru.LOGIN_STATE_CHANGED),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.USERNAME,persistence:this._config.persistence}),[2,new Bu({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:lu.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:lu.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([hu({title:"用户名密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().signInWithUsernameAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","  3 - 用户名密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+pu]}),au("design:type",Function),au("design:paramtypes",[String,String]),au("design:returntype",Promise)],t.prototype,"signIn",null),t}(ca),yu=function(){return(yu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},gu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},_u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vu=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},bu=Zi.events.CloudbaseEventEmitter,wu=Zi.adapters.RUNTIME,Ou=Zi.utils.printWarn,Su=Zi.utils.throwError,Au=Zi.constants.ERRORS,Eu=Zi.constants.COMMUNITY_SITE_URL,Nu=Zi.helpers.catchErrorsDecorator,Tu=new bu,Iu=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return mu(this,void 0,void 0,(function(){return vu(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,f,l,p,h,d,y;return vu(this,(function(g){switch(g.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=g.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=g.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=g.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=g.sent(),o=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return o.wxPublicId=g.sent(),i=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return i.unionId=g.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=g.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=g.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=g.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=g.sent(),f=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return f.avatarUrl=g.sent(),l=this,[4,this._getLocalUserInfoAsync("email")];case 12:return l.email=g.sent(),p=this,h=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return p.hasPassword=h.apply(void 0,[g.sent()]),d=this,y={},[4,this._getLocalUserInfoAsync("country")];case 14:return y.country=g.sent(),[4,this._getLocalUserInfoAsync("province")];case 15:return y.province=g.sent(),[4,this._getLocalUserInfoAsync("city")];case 16:return d.location=(y.city=g.sent(),y),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!=typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r,o,i;return vu(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,o=n;r<o.length;r++)if((i=o[r]).wxOpenId&&i.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return mu(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return vu(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,o=e.province,i=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:o,country:i,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e){return this._request.send("auth.updateEmail",{newEmail:e})},e.prototype.updateUsername=function(e){return"string"!=typeof e&&Su(Au.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return mu(this,void 0,void 0,(function(){var e;return vu(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,this._setLocalUserInfo(e),[2,e]}}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;return this._cache.getStore(t)[e]},e.prototype._getLocalUserInfoAsync=function(e){return mu(this,void 0,void 0,(function(){var t;return vu(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return[2,n.sent()[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},gu([Nu({title:"绑定自定义登录失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithTicket() 的语法或参数是否正确","  2 - 此账户是否已经绑定自定义登录","  3 - ticket 参数是否归属当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",Promise)],e.prototype,"linkWithTicket",null),gu([Nu({title:"绑定第三方登录方式失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithRedirect() 的语法或参数是否正确","  2 - 此账户是否已经绑定此第三方","  3 - 此第三方是否已经授权","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[Object]),_u("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),gu([Nu({title:"获取账户列表失败",messages:["请确认以下各项：","  1 - 调用 User.getLinkedUidList() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),gu([Nu({title:"设置微信主账号失败",messages:["请确认以下各项：","  1 - 调用 User.setPrimaryUid() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),gu([Nu({title:"接触绑定失败",messages:["请确认以下各项：","  1 - 调用 User.unlink() 的语法或参数是否正确","  2 - 当前账户是否已经与此登录方式解绑","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",void 0)],e.prototype,"unlink",null),gu([Nu({title:"更新用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.update() 的语法或参数是否正确","  2 - 用户信息中是否包含非法值","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[Object]),_u("design:returntype",Promise)],e.prototype,"update",null),gu([Nu({title:"更新密码失败",messages:["请确认以下各项：","  1 - 调用 User.updatePassword() 的语法或参数是否正确","  3 - 新密码中是否包含非法字符","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String,String]),_u("design:returntype",void 0)],e.prototype,"updatePassword",null),gu([Nu({title:"更新邮箱地址失败",messages:["请确认以下各项：","  1 - 调用 User.updateEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",void 0)],e.prototype,"updateEmail",null),gu([Nu({title:"更新用户名失败",messages:["请确认以下各项：","  1 - 调用 User.updateUsername() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",void 0)],e.prototype,"updateUsername",null),gu([Nu({title:"刷新本地用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.refresh() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"refresh",null),e}(),Bu=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||Su(Au.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new Iu({cache:n,request:r})}return e.prototype.checkLocalState=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return vu(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o=this._cache.getStore(t),i=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a;return vu(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return i=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===sa.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===sa.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===sa.WECHAT||this.loginType===sa.WECHAT_OPEN||this.loginType===sa.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===sa.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),e}(),Pu=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||wu.WEB,Tu.on(Ru.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}Ou(Au.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return mu(this,void 0,void 0,(function(){var e;return vu(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return(e=t.sent())?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return mu(this,void 0,void 0,(function(){return vu(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return mu(this,void 0,void 0,(function(){var e;return vu(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new Aa(yu(yu({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Ca(yu(yu({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new Va(yu(yu({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new iu(yu(yu({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new du(yu(yu({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return mu(this,void 0,void 0,(function(){return vu(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return mu(this,void 0,void 0,(function(){var t;return vu(this,(function(n){switch(n.label){case 0:return"string"!=typeof e&&Su(Au.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return[2,null==(t=n.sent().data)?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return mu(this,void 0,void 0,(function(){return vu(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return mu(this,void 0,void 0,(function(){return vu(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return mu(this,void 0,void 0,(function(){return vu(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return vu(this,(function(a){switch(a.label){case 0:return[4,this.getLoginType()];case 1:if(a.sent()===sa.ANONYMOUS)throw new Error(JSON.stringify({code:Au.INVALID_OPERATION,msg:"anonymous user doesn't support signOut action"}));return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(t)];case 2:return(i=a.sent())?[4,this._request.send(o,{refresh_token:i})]:[2];case 3:return s=a.sent(),this._cache.removeStoreAsync(t),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),Tu.fire(Ru.LOGIN_STATE_CHANGED),Tu.fire(Ru.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:sa.NULL,persistence:this._config.persistence}),[2,s]}}))}))},e.prototype.onLoginStateChanged=function(e){return mu(this,void 0,void 0,(function(){var t,n=this;return vu(this,(function(r){switch(r.label){case 0:return Tu.on(Ru.LOGIN_STATE_CHANGED,(function(){return mu(n,void 0,void 0,(function(){var t;return vu(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){Tu.on(Ru.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){Tu.on(Ru.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){Tu.on(Ru.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;Tu.on(Ru.LOGIN_TYPE_CHANGED,(function(){return mu(t,void 0,void 0,(function(){var t;return vu(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey;if(this._cache.getStore(e)){var t=new Bu({envId:this._config.env,cache:this._cache,request:this._request});return t.checkLocalState(),t}return null}Ou(Au.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return mu(this,void 0,void 0,(function(){var e,t;return vu(this,(function(n){switch(n.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return n.sent()?[4,(t=new Bu({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,3];case 2:return n.sent(),[2,t];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return mu(this,void 0,void 0,(function(){var e;return vu(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return(e=t.sent()).code?[2,e]:[2,yu(yu({},e.data),{requestId:e.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return mu(this,void 0,void 0,(function(){var e,t,n,r;return vu(this,(function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return[2,{"x-cloudbase-credentials":o.sent()+"/@@/"+r}]}}))}))},e.prototype._onLoginTypeChanged=function(e){return mu(this,void 0,void 0,(function(){var t,n,r;return vu(this,(function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,t.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}}))}))},gu([Nu({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 调用 auth().getCurrenUser() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"getCurrenUser",null),gu([Nu({title:"获取用户是否被占用失败",messages:["请确认以下各项：","  1 - 调用 auth().isUsernameRegistered() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[String]),_u("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),gu([Nu({title:"用户登出失败",messages:["请确认以下各项：","  1 - 调用 auth().signOut() 的语法或参数是否正确","  2 - 当前用户是否为匿名登录（匿名登录不支持signOut）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"signOut",null),gu([Nu({title:"获取本地登录态失败",messages:["请确认以下各项：","  1 - 调用 auth().getLoginState() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"getLoginState",null),gu([Nu({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 是否已登录","  2 - 调用 auth().getUserInfo() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+Eu]}),_u("design:type",Function),_u("design:paramtypes",[]),_u("design:returntype",Promise)],e.prototype,"getUserInfo",null),e}(),Ru={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"},xu={name:"auth",namespace:"auth",injectEvents:{bus:Tu,events:[Ru.LOGIN_TYPE_CHANGED,Ru.LOGIN_STATE_EXPIRED,Ru.LOGIN_STATE_CHANGED,Ru.ACCESS_TOKEN_REFRESHD,Ru.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"session"}),this.authInstance)return Ou(Au.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,o=e.persistence||n.primaryStorage;o&&o!==this.config.persistence&&this.updateConfig({persistence:o});var i=this.config,s=i.env,a=i.persistence,u=i.debug;return this.authInstance=new Pu({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(xu)}catch(dd){}function Du(e){try{e.registerComponent(xu)}catch(dd){console.warn(dd)}}(Ia=Ta||(Ta={})).DocIDError="文档ID不合法",Ia.CollNameError="集合名称不合法",Ia.OpStrError="操作符不合法",Ia.DirectionError="排序字符不合法",Ia.IntergerError="must be integer",Ia.QueryParamTypeError="查询参数必须为对象",Ia.QueryParamValueError="查询参数对象值不能均为undefined";var Lu,Uu,ku,ju,Mu="Number",Cu="Object",qu="Array",Fu="GeoPoint",$u="GeoLineString",Yu="GeoPolygon",Gu="GeoMultiPoint",Ku="GeoMultiLineString",Wu="GeoMultiPolygon",Hu="Date",Vu="ServerDate",zu="BsonDate",Ju=["desc","asc"],Xu=["<","<=","==",">=",">"];(Uu=Lu||(Lu={})).lt="<",Uu.gt=">",Uu.lte="<=",Uu.gte=">=",Uu.eq="==",(Na={})[Lu.eq]="$eq",Na[Lu.lt]="$lt",Na[Lu.lte]="$lte",Na[Lu.gt]="$gt",Na[Lu.gte]="$gte",(ju=ku||(ku={})).WHERE="WHERE",ju.DOC="DOC";var Zu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qu=[],ec={},tc=function(e){function t(t,n){if(n!==ec)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return Zu(t,e),t.for=function(e){for(var n=0,r=Qu.length;n<r;n++)if(Qu[n].target===e)return Qu[n].instance;var o=new t(e,ec);return Qu.push({target:e,instance:o}),o},t}((function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})})),nc=tc.for("UNSET_FIELD_NAME"),rc=tc.for("UPDATE_COMMAND"),oc=tc.for("QUERY_COMMAND"),ic=tc.for("LOGIC_COMMAND"),sc=tc.for("GEO_POINT"),ac=tc.for("SYMBOL_GEO_LINE_STRING"),uc=tc.for("SYMBOL_GEO_POLYGON"),cc=tc.for("SYMBOL_GEO_MULTI_POINT"),fc=tc.for("SYMBOL_GEO_MULTI_LINE_STRING"),lc=tc.for("SYMBOL_GEO_MULTI_POLYGON"),pc=tc.for("SERVER_DATE"),hc=tc.for("REGEXP"),dc=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return pc},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();function yc(e){return new dc(e)}var gc,_c,mc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},vc=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),r={};return Array.isArray(t)&&(r=[]),n.forEach((function(n){var o,i=t[n];switch(e.whichType(i)){case Fu:o=new Ic(i.coordinates[0],i.coordinates[1]);break;case $u:o=new Bc(i.coordinates.map((function(e){return new Ic(e[0],e[1])})));break;case Yu:o=new Rc(i.coordinates.map((function(e){return new Bc(e.map((function(e){var t=mc(e,2),n=t[0],r=t[1];return new Ic(n,r)})))})));break;case Gu:o=new xc(i.coordinates.map((function(e){return new Ic(e[0],e[1])})));break;case Ku:o=new Lc(i.coordinates.map((function(e){return new Bc(e.map((function(e){var t=mc(e,2),n=t[0],r=t[1];return new Ic(n,r)})))})));break;case Wu:o=new kc(i.coordinates.map((function(e){return new Rc(e.map((function(e){return new Bc(e.map((function(e){var t=mc(e,2),n=t[0],r=t[1];return new Ic(n,r)})))})))})));break;case Hu:o=new Date(1e3*i.$timestamp);break;case Cu:case qu:o=e.formatField(i);break;case Vu:o=new Date(i.$date);break;default:o=i}Array.isArray(r)?r.push(o):r[n]=o})),r},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===Hu)return zu;if(t===Cu){if(e instanceof Ic)return Fu;if(e instanceof Date)return Hu;if(e instanceof dc)return Vu;e.$timestamp?t=Hu:e.$date?t=Vu:Ic.validate(e)?t=Fu:Bc.validate(e)?t=$u:Rc.validate(e)?t=Yu:xc.validate(e)?t=Gu:Lc.validate(e)?t=Ku:kc.validate(e)&&(t=Wu)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}(),bc=function(){function e(){}return e.isGeopoint=function(e,t){if(vc.whichType(t)!==Mu)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+Ta.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===Ju.indexOf(e))throw new Error(Ta.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===Xu.indexOf(e))throw new Error(Ta.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(Ta.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(Ta.DocIDError);return!0},e}(),wc=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Oc=function(e){return"object"===wc(e)},Sc=function(e){return"number"===wc(e)},Ac=function(e){return Array.isArray(e)},Ec=function(e){return"date"===wc(e)},Nc=function(e){return"regexp"===wc(e)},Tc=function(e){return e&&e._internalType instanceof tc},Ic=function(){function e(e,t){bc.isGeopoint("longitude",e),bc.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&Ac(e.coordinates)&&bc.isGeopoint("longitude",e.coordinates[0])&&bc.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return sc},enumerable:!0,configurable:!0}),e}(),Bc=function(){function e(e){if(!Ac(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof Ic))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!Ac(e.coordinates))return!1;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!Sc(i[0])||!Sc(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return ac},enumerable:!0,configurable:!0}),e}(),Pc=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rc=function(){function e(e){if(!Ac(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Bc))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]");if(!Bc.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("Polygon"!==e.type||!Ac(e.coordinates))return!1;try{for(var i=Pc(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;if(!this.isCloseLineString(a))return!1;try{for(var u=(r=void 0,Pc(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!Sc(f[0])||!Sc(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return lc},enumerable:!0,configurable:!0}),e}(),xc=function(){function e(e){if(!Ac(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof Ic))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!Ac(e.coordinates))return!1;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!Sc(i[0])||!Sc(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return cc},enumerable:!0,configurable:!0}),e}(),Dc=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lc=function(){function e(e){if(!Ac(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Bc))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("MultiLineString"!==e.type||!Ac(e.coordinates))return!1;try{for(var i=Dc(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(r=void 0,Dc(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!Sc(f[0])||!Sc(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return fc},enumerable:!0,configurable:!0}),e}(),Uc=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kc=function(){function e(e){var t,n;if(!Ac(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=Uc(e),o=r.next();!o.done;o=r.next()){var i=o.value;if(!(i instanceof Rc))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof i+"[]")}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,o,i,s;if("MultiPolygon"!==e.type||!Ac(e.coordinates))return!1;try{for(var a=Uc(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(r=void 0,Uc(c)),l=f.next();!l.done;l=f.next()){var p=l.value;try{for(var h=(i=void 0,Uc(p)),d=h.next();!d.done;d=h.next()){var y=d.value;if(!Sc(y[0])||!Sc(y[1]))return!1}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){r={error:_}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return uc},enumerable:!0,configurable:!0}),e}(),jc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Point:Ic,LineString:Bc,Polygon:Rc,MultiPoint:xc,MultiLineString:Lc,MultiPolygon:kc}),Mc=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};(_c=gc||(gc={})).SET="set",_c.REMOVE="remove",_c.INC="inc",_c.MUL="mul",_c.PUSH="push",_c.PULL="pull",_c.PULL_ALL="pullAll",_c.POP="pop",_c.SHIFT="shift",_c.UNSHIFT="unshift",_c.ADD_TO_SET="addToSet",_c.BIT="bit",_c.RENAME="rename",_c.MAX="max",_c.MIN="min";var Cc,qc,Fc=function(){function e(e,t,n){this._internalType=rc,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||nc}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function $c(e){return e&&e instanceof Fc&&e._internalType===rc}(qc=Cc||(Cc={})).AND="and",qc.OR="or",qc.NOT="not",qc.NOR="nor";var Yc=function(){function e(e,t,n){if(this._internalType=ic,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||nc,this.fieldName!==nc)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var r=0,o=t.length;r<o;r++){(Gc(i=t[r])||zc(i))&&(t[r]=i._setFieldName(this.fieldName))}}else{var i;(Gc(i=t)||zc(i))&&(t=i._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Cc.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Cc.OR,r,this.fieldName)},e}();function Gc(e){return e&&e instanceof Yc&&e._internalType===ic}var Kc,Wc,Hc=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(Wc=Kc||(Kc={})).EQ="eq",Wc.NEQ="neq",Wc.GT="gt",Wc.GTE="gte",Wc.LT="lt",Wc.LTE="lte",Wc.IN="in",Wc.NIN="nin",Wc.ALL="all",Wc.ELEM_MATCH="elemMatch",Wc.EXISTS="exists",Wc.SIZE="size",Wc.MOD="mod",Wc.GEO_NEAR="geoNear",Wc.GEO_WITHIN="geoWithin",Wc.GEO_INTERSECTS="geoIntersects";var Vc=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=oc,o}return Hc(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case Kc.IN:case Kc.NIN:return(e={})["$"+this.operator]=this.operands,e;default:return(t={})["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(Kc.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(Kc.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(Kc.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(Kc.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(Kc.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(Kc.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(Kc.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(Kc.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof Ic))throw new TypeError('"geometry" must be of type Point. Received type '+typeof e.geometry);if(void 0!==e.maxDistance&&!Sc(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof e.maxDistance);if(void 0!==e.minDistance&&!Sc(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof e.minDistance);var n=new t(Kc.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof kc||e.geometry instanceof Rc))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof e.geometry);var n=new t(Kc.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof Ic||e.geometry instanceof Bc||e.geometry instanceof Rc||e.geometry instanceof xc||e.geometry instanceof Lc||e.geometry instanceof kc))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof e.geometry);var n=new t(Kc.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(Yc);function zc(e){return e&&e instanceof Vc&&e._internalType===oc}function Jc(e){return zc(e)}var Xc={};for(var Zc in Kc)Xc[Zc]="$"+Zc;for(var Zc in Cc)Xc[Zc]="$"+Zc;for(var Zc in gc)Xc[Zc]="$"+Zc;function Qc(e){return Xc[e]||"$"+e}Xc[Kc.NEQ]="$ne",Xc[gc.REMOVE]="$unset",Xc[gc.SHIFT]="$pop",Xc[gc.UNSHIFT]="$push";var ef=function(){return(ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},nf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tf(arguments[t]));return e};function rf(e){return of(e,[e])}function of(e,t){if(!Tc(e)){if(Ec(e))return{$date:+e};if(Nc(e))return{$regex:e.source,$options:e.flags};if(Ac(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return of(e,nf(t,[e]))}));if(Oc(e)){var n=ef({},e);for(var r in n){if(t.indexOf(n[r])>-1)throw new Error("Cannot convert circular structure to JSON");n[r]=of(n[r],nf(t,[n[r]]))}return n}return e}switch(e._internalType){case sc:return e.toJSON();case pc:case hc:return e.parse();default:return e.toJSON?e.toJSON():e}}var sf=function(){return(sf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},af=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},uf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(af(arguments[t]));return e};function cf(e,t,n,r){var o=sf({},e);for(var i in e)if(!/^\$/.test(i)){var s=e[i];if(s&&Oc(s)&&!t(s)){if(r.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var a=cf(s,t,uf(n,[i]),uf(r,[s]));o[i]=a;var u=!1;for(var c in a)/^\$/.test(c)?u=!0:(o[i+"."+c]=a[c],delete o[i][c]);u||delete o[i]}}return o}function ff(e){return cf(e,pf,[],[e])}function lf(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?Ac(e[r])?e[r].push(t[r]):Oc(e[r])?Oc(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+wc(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+wc(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]}function pf(e){return Tc(e)||Ec(e)||Nc(e)}function hf(e){return rf(e)}var df=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return $c(e)?this.encodeUpdateCommand(e):"object"===wc(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===nc)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case gc.PUSH:case gc.PULL:case gc.PULL_ALL:case gc.POP:case gc.SHIFT:case gc.UNSHIFT:case gc.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,r,o,i=Qc(e.operator);switch(e.operator){case gc.REMOVE:return(t={})[i]=((n={})[e.fieldName]="",n),t;default:return(r={})[i]=((o={})[e.fieldName]=e.operands[0],o),r}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,r,o,i,s,a,u,c,f,l=Qc(e.operator);switch(e.operator){case gc.PUSH:var p=void 0;return p=Ac(e.operands)?{$each:e.operands.map(hf)}:e.operands,(t={})[l]=((n={})[e.fieldName]=p,n),t;case gc.UNSHIFT:p={$each:e.operands.map(hf),$position:0};return(r={})[l]=((o={})[e.fieldName]=p,o),r;case gc.POP:return(i={})[l]=((s={})[e.fieldName]=1,s),i;case gc.SHIFT:return(a={})[l]=((u={})[e.fieldName]=-1,u),a;default:return(c={})[l]=((f={})[e.fieldName]=hf(e.operands),f),c}},e.prototype.encodeUpdateObject=function(e){var t=ff(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if($c(r)){t[n]=r._setFieldName(n),lf(t,this.encodeUpdateCommand(t[n]),n)}else{t[n]=r=hf(r);var o=new Fc(gc.SET,[r],n);lf(t,this.encodeUpdateCommand(o),n)}}return t},e}(),yf={};function gf(e){if(!bp.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return yf[t]||(yf[t]=new bp.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new bp.reqClass(e.config)}}})),yf[t]}var _f=function(){return(_f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mf=function(){function e(e,t,n,r){var o=this;void 0===r&&(r={}),this.watch=function(e){return gf(o._db).watch(_f(_f({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new bp.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||Mc();var n={collectionName:this._coll,data:rf(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||Mc(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1,r=function(e){if("object"==typeof e)for(var t in e)e[t]instanceof Fc?n=!0:"object"==typeof e[t]&&r(e[t])};if(r(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var o={collectionName:this._coll,queryType:ku.DOC,data:rf(e),multi:!1,merge:!1,upsert:!0};return this.id&&(o.query={_id:this.id}),this.request.send("database.updateDocument",o).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||Mc(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:df.encode(e),query:n,queryType:ku.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||Mc();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:ku.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||Mc();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:ku.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=vc.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}(),vf=function(){function e(){}return e.encode=function(e){return(new bf).encodeQuery(e)},e}(),bf=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return pf(e)?Gc(e)?this.encodeLogicCommand(e):zc(e)?this.encodeQueryCommand(e):((n={})[t]=this.encodeQueryObject(e),n):Oc(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,o,i,s,a,u=this;switch(e.operator){case Cc.NOR:case Cc.AND:case Cc.OR:var c=Qc(e.operator),f=e.operands.map((function(t){return u.encodeQuery(t,e.fieldName)}));return(t={})[c]=f,t;case Cc.NOT:c=Qc(e.operator);var l=e.operands[0];if(Nc(l))return(n={})[e.fieldName]=((r={})[c]=this.encodeRegExp(l),r),n;f=this.encodeQuery(l)[e.fieldName];return(o={})[e.fieldName]=((i={})[c]=f,i),o;default:c=Qc(e.operator);if(1===e.operands.length){var p=this.encodeQuery(e.operands[0]);return(s={})[c]=p,s}f=e.operands.map(this.encodeQuery.bind(this));return(a={})[c]=f,a}},e.prototype.encodeQueryCommand=function(e){return Jc(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,r,o,i,s,a,u,c;if(e.fieldName===nc)throw new Error("Cannot encode a comparison command with unset field name");var f=Qc(e.operator);switch(e.operator){case Kc.EQ:case Kc.NEQ:case Kc.LT:case Kc.LTE:case Kc.GT:case Kc.GTE:case Kc.ELEM_MATCH:case Kc.EXISTS:case Kc.SIZE:case Kc.MOD:return(t={})[e.fieldName]=((n={})[f]=hf(e.operands[0]),n),t;case Kc.IN:case Kc.NIN:case Kc.ALL:return(r={})[e.fieldName]=((o={})[f]=hf(e.operands),o),r;case Kc.GEO_NEAR:var l=e.operands[0];return(i={})[e.fieldName]={$nearSphere:{$geometry:l.geometry.toJSON(),$maxDistance:l.maxDistance,$minDistance:l.minDistance}},i;case Kc.GEO_WITHIN:l=e.operands[0];return(s={})[e.fieldName]={$geoWithin:{$geometry:l.geometry.toJSON()}},s;case Kc.GEO_INTERSECTS:l=e.operands[0];return(a={})[e.fieldName]={$geoIntersects:{$geometry:l.geometry.toJSON()}},a;default:return(u={})[e.fieldName]=((c={})[f]=hf(e.operands[0]),c),u}},e.prototype.encodeQueryObject=function(e){var t=ff(e);for(var n in t){var r=t[n];if(Gc(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(Jc(r)){t[n]=r._setFieldName(n);o=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else pf(r)&&(t[n]=hf(r))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?Ac(e[r])?e[r]=e[r].concat(t[r]):Oc(e[r])?Oc(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+wc(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+wc(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}(),wf=function(){return(wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Of=function(){function e(e,t,n,r,o){var i=this;this.watch=function(e){return gf(i._db).watch(wf(wf({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify(i._fieldFilters||{}),limit:i._queryOptions.limit,orderBy:i._fieldOrders?i._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=o||{},this._request=new bp.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||Mc();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:ku.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:vc.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}})).catch((function(t){e(t)})),e.promise},e.prototype.count=function(e){e=e||Mc();var t={collectionName:this._coll,queryType:ku.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})).catch((function(t){e(t)})),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(Ta.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(Ta.QueryParamValueError);return new e(this._db,this._coll,vf.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){bc.isFieldPath(t),bc.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},e.prototype.limit=function(t){bc.isInteger("limit",t);var n=wf({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){bc.isInteger("offset",t);var n=wf({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||Mc(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:ku.WHERE,multi:!0,merge:!0,upsert:!1,data:df.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})).catch((function(e){t(e)})),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!=typeof t[n]&&(t[n]=1):t[n]=0;var r=wf({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||Mc(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:vf.encode(this._fieldFilters),queryType:ku.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})).catch((function(t){e(t)})),e.promise},e}(),Sf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ef(e,t){return e(t={exports:{}},t.exports),t.exports}for(var Nf=function(e){var t=Uf(e),n=t[0],r=t[1];return 3*(n+r)/4-r},Tf=function(e){var t,n,r=Uf(e),o=r[0],i=r[1],s=new Rf(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)t=Pf[e.charCodeAt(n)]<<18|Pf[e.charCodeAt(n+1)]<<12|Pf[e.charCodeAt(n+2)]<<6|Pf[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===i&&(t=Pf[e.charCodeAt(n)]<<2|Pf[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===i&&(t=Pf[e.charCodeAt(n)]<<10|Pf[e.charCodeAt(n+1)]<<4|Pf[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},If=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(kf(e,s,s+i>a?a:s+i));1===r?(t=e[n-1],o.push(Bf[t>>2]+Bf[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(Bf[t>>10]+Bf[t>>4&63]+Bf[t<<2&63]+"="));return o.join("")},Bf=[],Pf=[],Rf="undefined"!=typeof Uint8Array?Uint8Array:Array,xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Df=0,Lf=xf.length;Df<Lf;++Df)Bf[Df]=xf[Df],Pf[xf.charCodeAt(Df)]=Df;function Uf(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function kf(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Bf[(o=r)>>18&63]+Bf[o>>12&63]+Bf[o>>6&63]+Bf[63&o]);return i.join("")}Pf["-".charCodeAt(0)]=62,Pf["_".charCodeAt(0)]=63;var jf={byteLength:Nf,toByteArray:Tf,fromByteArray:If},Mf=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?o-1:0,p=n?-1:1,h=e[t+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=p,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=c}return(h?-1:1)*s*Math.pow(2,i-r)},Cf=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+h]=255&s,h+=d,s/=256,c-=8);e[n+h-d]|=128*y},qf=Ef((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),s=r.write(e,t);s!==n&&(r=r.slice(0,s));return r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var s=function(e){if(i.isBuffer(e)){var t=0|l(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return r?-1:k(e).length;t=(""+t).toLowerCase(),o=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var f=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var l=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){l=!1;break}if(l)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return M(k(t,e.length-n),e,n,r)}function v(e,t,n,r){return M(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return v(e,t,n,r)}function w(e,t,n,r){return M(j(t),e,n,r)}function O(e,t,n,r){return M(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?jf.fromByteArray(e):jf.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(dd){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return u(e)},i.allocUnsafeSlow=function(e){return u(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(C(s,Uint8Array)&&(s=i.from(s)),!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(r,o),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F[e[i]];return o}function B(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return t=+t,n>>>=0,o||x(e,0,n,4),Cf(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||x(e,0,n,8),Cf(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),Mf(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),Mf(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),Mf(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),Mf(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var s=o-1;s>=0;--s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=i.isBuffer(e)?e:i.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var U=/[^+/0-9A-Za-z-_]/g;function k(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return jf.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var F=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}));qf.Buffer,qf.SlowBuffer,qf.INSPECT_MAX_BYTES,qf.kMaxLength;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Ff=function(e,t){return(Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var $f=function(){return($f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Yf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Kf(e){return this instanceof Kf?(this.v=e,this):new Kf(e)}var Wf=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Ff(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return $f},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(dd){i(dd)}}function a(e){try{u(r.throw(e))}catch(dd){i(dd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(dd){i=[6,dd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Yf,__read:Gf,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gf(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},__await:Kf,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof Kf?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(dd){f(i[0][3],dd)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Kf(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Yf(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Hf={},Vf="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},zf=/%[sdj%]/g;function Jf(e){if(!cl(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(Qf(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(zf,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])al(s)||!pl(s)?i+=" "+s:i+=" "+Qf(s);return i}var Xf,Zf={};function Qf(e,t){var n={seen:[],stylize:tl};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),sl(t)?n.showHidden=t:t&&bl(n,t),fl(n.showHidden)&&(n.showHidden=!1),fl(n.depth)&&(n.depth=2),fl(n.colors)&&(n.colors=!1),fl(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=el),nl(n,e,n.depth)}function el(e,t){var n=Qf.styles[t];return n?"["+Qf.colors[n][0]+"m"+e+"["+Qf.colors[n][1]+"m":e}function tl(e,t){return e}function nl(e,t,n){if(e.customInspect&&t&&yl(t.inspect)&&t.inspect!==Qf&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return cl(r)||(r=nl(e,r,n)),r}var o=function(e,t){if(fl(t))return e.stylize("undefined","undefined");if(cl(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(ul(t))return e.stylize(""+t,"number");if(sl(t))return e.stylize(""+t,"boolean");if(al(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),dl(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return rl(t);if(0===i.length){if(yl(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(ll(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(hl(t))return e.stylize(Date.prototype.toString.call(t),"date");if(dl(t))return rl(t)}var u,c="",f=!1,l=["{","}"];(il(t)&&(f=!0,l=["[","]"]),yl(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return ll(t)&&(c=" "+RegExp.prototype.toString.call(t)),hl(t)&&(c=" "+Date.prototype.toUTCString.call(t)),dl(t)&&(c=" "+rl(t)),0!==i.length||f&&0!=t.length?n<0?ll(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)wl(t,String(s))?i.push(ol(e,t,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(ol(e,t,n,r,o,!0))})),i}(e,t,n,s,i):i.map((function(r){return ol(e,t,n,s,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,l)):l[0]+c+l[1]}function rl(e){return"["+Error.prototype.toString.call(e)+"]"}function ol(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),wl(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=al(n)?nl(e,u.value,null):nl(e,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),fl(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function il(e){return Array.isArray(e)}function sl(e){return"boolean"==typeof e}function al(e){return null===e}function ul(e){return"number"==typeof e}function cl(e){return"string"==typeof e}function fl(e){return void 0===e}function ll(e){return pl(e)&&"[object RegExp]"===gl(e)}function pl(e){return"object"===babelHelpers.typeof(e)&&null!==e}function hl(e){return pl(e)&&"[object Date]"===gl(e)}function dl(e){return pl(e)&&("[object Error]"===gl(e)||e instanceof Error)}function yl(e){return"function"==typeof e}function gl(e){return Object.prototype.toString.call(e)}function _l(e){return e<10?"0"+e.toString(10):e.toString(10)}Qf.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Qf.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ml=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function vl(){var e=new Date,t=[_l(e.getHours()),_l(e.getMinutes()),_l(e.getSeconds())].join(":");return[e.getDate(),ml[e.getMonth()],t].join(" ")}function bl(e,t){if(!t||!pl(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function wl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ol={inherits:Vf,_extend:bl,log:function(){console.log("%s - %s",vl(),Jf.apply(null,arguments))},isBuffer:function(e){return Buffer.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===babelHelpers.typeof(e)||void 0===e},isFunction:yl,isError:dl,isDate:hl,isObject:pl,isRegExp:ll,isUndefined:fl,isSymbol:function(e){return"symbol"===babelHelpers.typeof(e)},isString:cl,isNumber:ul,isNullOrUndefined:function(e){return null==e},isNull:al,isBoolean:sl,isArray:il,inspect:Qf,deprecate:function e(t,n){if(fl(global.process))return function(){return e(t,n).apply(this,arguments)};var r=!1;return function(){return r||(console.error(n),r=!0),t.apply(this,arguments)}},format:Jf,debuglog:function(e){if(fl(Xf)&&(Xf=""),e=e.toUpperCase(),!Zf[e])if(new RegExp("\\b"+e+"\\b","i").test(Xf)){Zf[e]=function(){var t=Jf.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Zf[e]=function(){};return Zf[e]}},Sl=Ef((function(e,t){function n(e){for(var t=qf.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")},t.randomBytes=n,"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=function(e){return window.crypto.getRandomValues(qf.Buffer.alloc(e))};else{try{t.randomBytes=Hf.randomBytes}catch(dd){}null==t.randomBytes&&(t.randomBytes=n)}function r(e){return"object"==typeof e&&null!==e}t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.haveBuffer=function(){return void 0!==Sf&&void 0!==Sf.Buffer},t.isBuffer=function(e){var t;return"object"==typeof e&&"Buffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)},t.isDate=function(e){return r(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=r,t.deprecate=function(e,t){if("undefined"==typeof window&&"undefined"==typeof self)return Ol.deprecate(e,t);var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(console.warn(t),n=!0),e.apply.apply(e,Wf.__spreadArrays([this],r))}}}));Af(Sl),Sl.deprecate,Sl.isObjectLike,Sl.isDate,Sl.isBuffer,Sl.haveBuffer,Sl.isBigUInt64Array,Sl.isBigInt64Array,Sl.isUint8Array,Sl.randomBytes,Sl.normalizedFunctionString;var Al=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(Sl.isBuffer(e))return e;if(ArrayBuffer.isView(e))return qf.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return qf.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}}));Af(Al),Al.ensureBuffer;var El=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.parseUUID=function(e){if("string"!=typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+typeof e);if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}}));Af(El),El.parseUUID;var Nl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=qf.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=qf.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=qf.Buffer.from(t):this.buffer=Al.ensureBuffer(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=qf.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=qf.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(Al.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.fromExtendedJSON=function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=qf.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=qf.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=qf.Buffer.from(El.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));Af(Nl),Nl.Binary;var Tl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));Af(Tl),Tl.Code;var Il=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return Sl.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var n=function(){function e(t,n,r,o){if(!(this instanceof e))return new e(t,n,r,o);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=n,Object.defineProperty(n.prototype,"_bsontype",{value:"DBRef"})}));Af(Il),Il.DBRef,Il.isDBRefLike;var Bl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}var r=4294967296,o=0x10000000000000000,i=o/2,s={},a={},u=function(){function e(t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),!(this instanceof e))return new e(t,n,r);this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=a[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(a[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=s[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(s[t]=r),r)},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=o)return e.MAX_UNSIGNED_VALUE}else{if(t<=-i)return e.MIN_VALUE;if(t+1>=i)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%r|0,t/r|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var f=e.fromNumber(Math.pow(r,u));s=s.mul(f).add(e.fromNumber(c))}else s=(s=s.mul(i)).add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return Sl.isObjectLike(e)&&!0===e.__isLong__},e.fromValue=function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,f=0,l=0,p=0;return l+=(p+=i+(65535&t.low))>>>16,p&=65535,f+=(l+=o+u)>>>16,l&=65535,c+=(f+=r+a)>>>16,f&=65535,c+=n+s,c&=65535,e.fromBits(l<<16|p,c<<16|f,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,i,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;s=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(o=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(o)),s=o.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=e.ZERO}for(i=this;i.gte(t);){o=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(o)/Math.LN2),u=a<=48?1:Math.pow(2,a-48),c=e.fromNumber(o),f=c.mul(t);f.isNegative()||f.gt(i);)o-=u,f=(c=e.fromNumber(o,this.unsigned)).mul(t);c.isZero()&&(c=e.ONE),s=s.add(c),i=i.sub(f)}return s},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,s=this.low>>>16,a=65535&this.low,u=t.high>>>16,c=65535&t.high,f=t.low>>>16,l=65535&t.low,p=0,h=0,d=0,y=0;return d+=(y+=a*l)>>>16,y&=65535,h+=(d+=s*l)>>>16,d&=65535,h+=(d+=a*f)>>>16,d&=65535,p+=(h+=i*l)>>>16,h&=65535,p+=(h+=s*f)>>>16,h&=65535,p+=(h+=a*c)>>>16,h&=65535,p+=o*l+i*f+s*c+a*u,p&=65535,e.fromBits(d<<16|y,p<<16|h,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(i),c=(s.sub(u.mul(i)).toInt()>>>0).toString(t);if((s=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'")'},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=u,Object.defineProperty(u.prototype,"__isLong__",{value:!0}),Object.defineProperty(u.prototype,"_bsontype",{value:"Long"})}));Af(Bl),Bl.Long;var Pl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,o=/^(\+|-)?NaN$/i,i=6111,s=-6176,a=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=/^([-+])?(\d+)?$/;function l(e){return!isNaN(parseInt(e,10))}function p(e){var t=Bl.Long.fromNumber(1e9),n=Bl.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new Bl.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function h(e,t){throw new TypeError('"'+e+'" is not a valid Decimal128 string - '+t)}var d=function(){function e(t){if(!(this instanceof e))return new e(t);this.bytes=t}return e.fromString=function(t){var p,d=!1,y=!1,g=!1,_=0,m=0,v=0,b=0,w=0,O=[0],S=0,A=0,E=0,N=0,T=0,I=0,B=new Bl.Long(0,0),P=new Bl.Long(0,0),R=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var x=t.match(n),D=t.match(r),L=t.match(o);if(!x&&!D&&!L||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(x){var U=x[2],k=x[4],j=x[5],M=x[6];k&&void 0===M&&h(t,"missing exponent power"),k&&void 0===U&&h(t,"missing exponent base"),void 0===k&&(j||M)&&h(t,"missing e before exponent")}if("+"!==t[R]&&"-"!==t[R]||(d="-"===t[R++]),!l(t[R])&&"."!==t[R]){if("i"===t[R]||"I"===t[R])return new e(qf.Buffer.from(d?u:c));if("N"===t[R])return new e(qf.Buffer.from(a))}for(;l(t[R])||"."===t[R];)"."!==t[R]?(S<34&&("0"!==t[R]||g)&&(g||(w=m),g=!0,O[A++]=parseInt(t[R],10),S+=1),g&&(v+=1),y&&(b+=1),m+=1,R+=1):(y&&h(t,"contains multiple periods"),y=!0,R+=1);if(y&&!m)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[R]||"E"===t[R]){var C=t.substr(++R).match(f);if(!C||!C[2])return new e(qf.Buffer.from(a));T=parseInt(C[0],10),R+=C[0].length}if(t[R])return new e(qf.Buffer.from(a));if(E=0,S){if(N=S-1,1!==(_=v))for(;"0"===t[w+_-1];)_-=1}else E=0,N=0,O[0]=0,v=1,S=1,_=0;for(T<=b&&b-T>16384?T=s:T-=b;T>i;){if((N+=1)-E>34){if(O.join("").match(/^0+$/)){T=i;break}h(t,"overflow")}T-=1}for(;T<s||S<v;){if(0===N&&_<S){T=s,_=0;break}if(S<v?v-=1:N-=1,T<i)T+=1;else{if(O.join("").match(/^0+$/)){T=i;break}h(t,"overflow")}}if(N-E+1<_){var q=m;y&&(w+=1,q+=1),d&&(w+=1,q+=1);var F=parseInt(t[w+N+1],10),$=0;if(F>=5&&($=1,5===F))for($=O[N]%2==1?1:0,I=w+N+2;I<q;I++)if(parseInt(t[I],10)){$=1;break}if($)for(var Y=N;Y>=0;Y--)if(++O[Y]>9&&(O[Y]=0,0===Y)){if(!(T<i))return new e(qf.Buffer.from(d?u:c));T+=1,O[Y]=1}}if(B=Bl.Long.fromNumber(0),P=Bl.Long.fromNumber(0),0===_)B=Bl.Long.fromNumber(0),P=Bl.Long.fromNumber(0);else if(N-E<17){Y=E;for(P=Bl.Long.fromNumber(O[Y++]),B=new Bl.Long(0,0);Y<=N;Y++)P=(P=P.multiply(Bl.Long.fromNumber(10))).add(Bl.Long.fromNumber(O[Y]))}else{Y=E;for(B=Bl.Long.fromNumber(O[Y++]);Y<=N-17;Y++)B=(B=B.multiply(Bl.Long.fromNumber(10))).add(Bl.Long.fromNumber(O[Y]));for(P=Bl.Long.fromNumber(O[Y++]);Y<=N;Y++)P=(P=P.multiply(Bl.Long.fromNumber(10))).add(Bl.Long.fromNumber(O[Y]))}var G,K,W,H,V=function(e,t){if(!e&&!t)return{high:Bl.Long.fromNumber(0),low:Bl.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new Bl.Long(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new Bl.Long(t.getLowBits(),0),s=n.multiply(o),a=n.multiply(i),u=r.multiply(o),c=r.multiply(i);return s=s.add(a.shiftRightUnsigned(32)),a=new Bl.Long(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new Bl.Long(c.getLowBits(),0))}}(B,Bl.Long.fromString("100000000000000000"));V.low=V.low.add(P),G=V.low,K=P,W=G.high>>>0,H=K.high>>>0,(W<H||W===H&&G.low>>>0<K.low>>>0)&&(V.high=V.high.add(Bl.Long.fromNumber(1))),p=T+6176;var z={low:Bl.Long.fromNumber(0),high:Bl.Long.fromNumber(0)};V.high.shiftRightUnsigned(49).and(Bl.Long.fromNumber(1)).equals(Bl.Long.fromNumber(1))?(z.high=z.high.or(Bl.Long.fromNumber(3).shiftLeft(61)),z.high=z.high.or(Bl.Long.fromNumber(p).and(Bl.Long.fromNumber(16383).shiftLeft(47))),z.high=z.high.or(V.high.and(Bl.Long.fromNumber(0x7fffffffffff)))):(z.high=z.high.or(Bl.Long.fromNumber(16383&p).shiftLeft(49)),z.high=z.high.or(V.high.and(Bl.Long.fromNumber(562949953421311)))),z.low=V.low,d&&(z.high=z.high.or(Bl.Long.fromString("9223372036854775808")));var J=qf.Buffer.alloc(16);return R=0,J[R++]=255&z.low.low,J[R++]=z.low.low>>8&255,J[R++]=z.low.low>>16&255,J[R++]=z.low.low>>24&255,J[R++]=255&z.low.high,J[R++]=z.low.high>>8&255,J[R++]=z.low.high>>16&255,J[R++]=z.low.high>>24&255,J[R++]=255&z.high.low,J[R++]=z.high.low>>8&255,J[R++]=z.high.low>>16&255,J[R++]=z.high.low>>24&255,J[R++]=255&z.high.high,J[R++]=z.high.high>>8&255,J[R++]=z.high.high>>16&255,J[R++]=z.high.high>>24&255,new e(J)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var o,i,s,a=0,u=!1,c={parts:[0,0,0,0]},f=[];a=0;var l=this.bytes,h=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,d=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,y=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,g=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24;a=0,{low:new Bl.Long(h,d),high:new Bl.Long(y,g)}.high.lessThan(Bl.Long.ZERO)&&f.push("-");var _=g>>26&31;if(_>>3==3){if(30===_)return f.join("")+"Infinity";if(31===_)return"NaN";e=g>>15&16383,o=8+(g>>14&1)}else o=g>>14&7,e=g>>17&16383;var m=e-6176;if(c.parts[0]=(16383&g)+((15&o)<<14),c.parts[1]=y,c.parts[2]=d,c.parts[3]=h,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])u=!0;else for(s=3;s>=0;s--){var v=0,b=p(c);if(c=b.quotient,v=b.rem.low)for(i=8;i>=0;i--)n[9*s+i]=v%10,v=Math.floor(v/10)}if(u)t=1,n[a]=0;else for(t=36;!n[a];)t-=1,a+=1;var w=t-1+m;if(w>=34||w<=-7||m>0){if(t>34)return f.push("0"),m>0?f.push("E+"+m):m<0&&f.push("E"+m),f.join("");f.push(""+n[a++]),(t-=1)&&f.push(".");for(r=0;r<t;r++)f.push(""+n[a++]);f.push("E"),w>0?f.push("+"+w):f.push(""+w)}else if(m>=0)for(r=0;r<t;r++)f.push(""+n[a++]);else{var O=t+m;if(O>0)for(r=0;r<O;r++)f.push(""+n[a++]);else f.push("0");for(f.push(".");O++<0;)f.push("0");for(r=0;r<t-Math.max(O-1,0);r++)f.push(""+n[a++])}return f.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'Decimal128.fromString("'+this.toString()+'")'},e}();t.Decimal128=d,Object.defineProperty(d.prototype,"_bsontype",{value:"Decimal128"})}));Af(Pl),Pl.Decimal128;var Rl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));Af(Rl),Rl.Double;var xl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));Af(xl),xl.Int32;var Dl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));Af(Dl),Dl.MaxKey;var Ll=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));Af(Ll),Ll.MinKey;var Ul=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=Sl.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),o=[],i=0;i<256;i++)o[i]=(i<=15?"0":"")+i.toString(16);for(var s=[],a=0;a<10;)s[48+a]=a++;for(;a<16;)s[55+a]=s[87+a]=a++;var u=Symbol("id"),c=function(){function e(t){if(!(this instanceof e))return new e(t);if(t instanceof e&&(this[u]=t.id,this.__id=t.__id),"object"==typeof t&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[u]=qf.Buffer.from(t.toHexString(),"hex"):this[u]="string"==typeof t.id?qf.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[u]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[u]=Al.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=qf.Buffer.from(t);12===n.byteLength&&(this[u]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[u]=qf.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[u]},set:function(t){this[u]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),o=qf.Buffer.alloc(12);return o.writeUInt32BE(t,0),o[4]=n[0],o[5]=n[1],o[6]=n[2],o[7]=n[3],o[8]=n[4],o[11]=255&r,o[10]=r>>8&255,o[9]=r>>16&255,o},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof qf.Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?qf.Buffer.from(t).equals(this.id):"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=qf.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(qf.Buffer.from(t,"hex"))},e.isValid=function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||(t instanceof qf.Buffer&&12===t.length||"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex"))))))},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=~~(16777215*Math.random()),e}();t.ObjectId=c,Object.defineProperty(c.prototype,"generate",{value:Sl.deprecate((function(e){return c.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(c.prototype,"getInc",{value:Sl.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"get_inc",{value:Sl.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c,"get_inc",{value:Sl.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"_bsontype",{value:"ObjectID"})}));Af(Ul),Ul.ObjectId;var kl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.pattern=t,this.options=null!=n?n:"",this.options.split("").sort().join("");for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option ["+this.options[r]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=n,Object.defineProperty(n.prototype,"_bsontype",{value:"BSONRegExp"})}));Af(kl),kl.BSONRegExp;var jl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));Af(jl),jl.BSONSymbol;var Ml=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=Bl.Long;var n=function(e){function t(n,r){var o=this;return o instanceof t?(o=Bl.Long.isLong(n)?e.call(this,n.low,n.high,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(n,r)}return Wf.__extends(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(Bl.Long.fromInt(e,!0))},t.fromNumber=function(e){return new t(Bl.Long.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(Bl.Long.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp.i,e.$timestamp.t)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp("+this.getLowBits().toString()+", "+this.getHighBits().toString()+")"},t.MAX_VALUE=Bl.Long.MAX_UNSIGNED_VALUE,t}(t.LongWithoutOverridesClass);t.Timestamp=n}));Af(Ml),Ml.Timestamp,Ml.LongWithoutOverridesClass;var Cl=Ef((function(e,t){function n(e){return Sl.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var r=2147483647,o=-2147483648,i=0x8000000000000000,s=-0x8000000000000000,a={$oid:Ul.ObjectId,$binary:Nl.Binary,$uuid:Nl.Binary,$symbol:jl.BSONSymbol,$numberInt:xl.Int32,$numberDecimal:Pl.Decimal128,$numberDouble:Rl.Double,$numberLong:Bl.Long,$minKey:Ll.MinKey,$maxKey:Dl.MaxKey,$regex:kl.BSONRegExp,$regularExpression:kl.BSONRegExp,$timestamp:Ml.Timestamp};function u(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=o&&e<=r)return new xl.Int32(e);if(e>=s&&e<=i)return Bl.Long.fromNumber(e)}return new Rl.Double(e)}if(null==e||"object"!=typeof e)return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter((function(t){return t.startsWith("$")&&null!=e[t]})),c=0;c<n.length;c++){var f=a[n[c]];if(f)return f.fromExtendedJSON(e,t)}if(null!=e.$date){var l=e.$date,p=new Date;return t.legacy?"number"==typeof l?p.setTime(l):"string"==typeof l&&p.setTime(Date.parse(l)):"string"==typeof l?p.setTime(Date.parse(l)):Bl.Long.isLong(l)?p.setTime(l.toNumber()):"number"==typeof l&&t.relaxed&&p.setTime(l),p}if(null!=e.$code){var h=Object.assign({},e);return e.$scope&&(h.$scope=u(e.$scope)),Tl.Code.fromExtendedJSON(e)}if(null!=e.$ref||null!=e.$dbPointer){var d=e.$ref?e:e.$dbPointer;if(d instanceof Il.DBRef)return d;var y=Object.keys(d).filter((function(e){return e.startsWith("$")})),g=!0;if(y.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(g=!1)})),g)return Il.DBRef.fromExtendedJSON(d)}return e}function c(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function f(e,t){if(Array.isArray(e))return function(e,t){return e.map((function(e){return f(e,t)}))}(e,t);if(void 0===e)return null;if(e instanceof Date){var a=e.getTime(),u=a>-1&&a<2534023188e5;return t.legacy?t.relaxed&&u?{$date:e.getTime()}:{$date:c(e)}:t.relaxed&&u?{$date:c(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var p=e>=s&&e<=i;if(e>=o&&e<=r)return{$numberInt:e.toString()};if(p)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var h=e.flags;if(void 0===h){var d=e.toString().match(/[gimuy]*$/);d&&(h=d[0])}return new kl.BSONRegExp(e.source,h).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var o={};for(var i in e)o[i]=f(e[i],t);return o}if(n(e)){var s=e;if("function"!=typeof s.toExtendedJSON){var a=l[e._bsontype];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);s=a(s)}return"Code"===r&&s.scope?s=new Tl.Code(s.code,f(s.scope,t)):"DBRef"===r&&s.oid&&(s=new Il.DBRef(s.collection,f(s.oid,t),s.db,s.fields)),s.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+typeof r)}(e,t):e}var l={Binary:function(e){return new Nl.Binary(e.value(),e.sub_type)},Code:function(e){return new Tl.Code(e.code,e.scope)},DBRef:function(e){return new Il.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new Pl.Decimal128(e.bytes)},Double:function(e){return new Rl.Double(e.value)},Int32:function(e){return new xl.Int32(e.value)},Long:function(e){return Bl.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new Dl.MaxKey},MinKey:function(){return new Ll.MinKey},ObjectID:function(e){return new Ul.ObjectId(e)},ObjectId:function(e){return new Ul.ObjectId(e)},BSONRegExp:function(e){return new kl.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new jl.BSONSymbol(e.value)},Timestamp:function(e){return Ml.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){return u(t,n)}))}function n(e,t,n,r){null!=n&&"object"==typeof n&&(r=n,n=0),null==t||"object"!=typeof t||Array.isArray(t)||(r=t,t=void 0,n=0);var o=f(e,r=Object.assign({},{relaxed:!0,legacy:!1},r));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(t.EJSON||(t.EJSON={}))}));Af(Cl),Cl.EJSON,Cl.isBSONType;var ql=Ef((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e};var o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof Sf&&Sf)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=n=o.Map:t.Map=n=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}()}));Af(ql),ql.Map;var Fl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));Af(Fl),Fl.BSON_BINARY_SUBTYPE_USER_DEFINED,Fl.BSON_BINARY_SUBTYPE_MD5,Fl.BSON_BINARY_SUBTYPE_UUID_NEW,Fl.BSON_BINARY_SUBTYPE_UUID,Fl.BSON_BINARY_SUBTYPE_BYTE_ARRAY,Fl.BSON_BINARY_SUBTYPE_FUNCTION,Fl.BSON_BINARY_SUBTYPE_DEFAULT,Fl.BSON_DATA_MAX_KEY,Fl.BSON_DATA_MIN_KEY,Fl.BSON_DATA_DECIMAL128,Fl.BSON_DATA_LONG,Fl.BSON_DATA_TIMESTAMP,Fl.BSON_DATA_INT,Fl.BSON_DATA_CODE_W_SCOPE,Fl.BSON_DATA_SYMBOL,Fl.BSON_DATA_CODE,Fl.BSON_DATA_DBPOINTER,Fl.BSON_DATA_REGEXP,Fl.BSON_DATA_NULL,Fl.BSON_DATA_DATE,Fl.BSON_DATA_BOOLEAN,Fl.BSON_DATA_OID,Fl.BSON_DATA_UNDEFINED,Fl.BSON_DATA_BINARY,Fl.BSON_DATA_ARRAY,Fl.BSON_DATA_OBJECT,Fl.BSON_DATA_STRING,Fl.BSON_DATA_NUMBER,Fl.JS_INT_MIN,Fl.JS_INT_MAX,Fl.BSON_INT64_MIN,Fl.BSON_INT64_MAX,Fl.BSON_INT32_MIN,Fl.BSON_INT32_MAX;var $l=Ef((function(e,t){function n(e,t,n){var o=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=r(i.toString(),e[i],t,!0,n);else for(var s in e.toBSON&&(e=e.toBSON()),e)o+=r(s,e[s],t,!1,n);return o}function r(e,t,r,o,i){switch(void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),t&&t.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+qf.Buffer.byteLength(e,"utf8")+1+4+qf.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=Fl.JS_INT_MIN&&t<=Fl.JS_INT_MAX&&t>=Fl.BSON_INT32_MIN&&t<=Fl.BSON_INT32_MAX?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return o||!i?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||Sl.isDate(t))return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+qf.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,i):(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+4+qf.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===Nl.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+qf.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s.$db=t.db),(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+n(s,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+qf.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+qf.Buffer.byteLength(t.pattern,"utf8")+1+qf.Buffer.byteLength(t.options,"utf8")+1:(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+qf.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+qf.Buffer.byteLength(Sl.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,i);if(r)return(null!=e?qf.Buffer.byteLength(e,"utf8")+1:0)+1+4+qf.Buffer.byteLength(Sl.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));Af($l),$l.calculateObjectSize;var Yl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0;t.validateUtf8=function(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if(128!=(192&i))return!1;r-=1}else if(128&i)if(192==(224&i))r=1;else if(224==(240&i))r=2;else{if(240!=(248&i))return!1;r=3}}return!r}}));Af(Yl),Yl.validateUtf8;var Gl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=Bl.Long.fromNumber(Fl.JS_INT_MAX),r=Bl.Long.fromNumber(Fl.JS_INT_MIN),o={};function i(e,t,a,u){void 0===u&&(u=!1);var c=null!=a.evalFunctions&&a.evalFunctions,f=null!=a.cacheFunctions&&a.cacheFunctions,l=null==a.fieldsAsRaw?null:a.fieldsAsRaw,p=null!=a.raw&&a.raw,h="boolean"==typeof a.bsonRegExp&&a.bsonRegExp,d=null!=a.promoteBuffers&&a.promoteBuffers,y=null==a.promoteLongs||a.promoteLongs,g=null==a.promoteValues||a.promoteValues,_=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var m=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(m<5||m>e.length)throw new Error("corrupt bson message");for(var v=u?[]:{},b=0;;){var w=e[t++];if(0===w)break;for(var O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var S=u?b++:e.toString("utf8",t,O);if(t=O+1,w===Fl.BSON_DATA_STRING){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Yl.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var A=e.toString("utf8",t,t+H-1);v[S]=A,t+=H}else if(w===Fl.BSON_DATA_OID){var E=qf.Buffer.alloc(12);e.copy(E,0,t,t+12),v[S]=new Ul.ObjectId(E),t+=12}else if(w===Fl.BSON_DATA_INT&&!1===g)v[S]=new xl.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(w===Fl.BSON_DATA_INT)v[S]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(w===Fl.BSON_DATA_NUMBER&&!1===g)v[S]=new Rl.Double(e.readDoubleLE(t)),t+=8;else if(w===Fl.BSON_DATA_NUMBER)v[S]=e.readDoubleLE(t),t+=8;else if(w===Fl.BSON_DATA_DATE){var N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[S]=new Date(new Bl.Long(N,T).toNumber())}else if(w===Fl.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");v[S]=1===e[t++]}else if(w===Fl.BSON_DATA_OBJECT){var I=t;if((K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)<=0||K>e.length-t)throw new Error("bad embedded document length in bson");v[S]=p?e.slice(t,t+K):i(e,I,a,!1),t+=K}else if(w===Fl.BSON_DATA_ARRAY){I=t;var B=a,P=t+(K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(l&&l[S]){for(var R in B={},a)B[R]=a[R];B.raw=!0}if(v[S]=i(e,I,B,!0),0!==e[(t+=K)-1])throw new Error("invalid array terminator byte");if(t!==P)throw new Error("corrupted array bson")}else if(w===Fl.BSON_DATA_UNDEFINED)v[S]=void 0;else if(w===Fl.BSON_DATA_NULL)v[S]=null;else if(w===Fl.BSON_DATA_LONG){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var x=new Bl.Long(N,T);v[S]=y&&!0===g&&x.lessThanOrEqual(n)&&x.greaterThanOrEqual(r)?x.toNumber():x}else if(w===Fl.BSON_DATA_DECIMAL128){var D=qf.Buffer.alloc(16);e.copy(D,0,t,t+16),t+=16;var L=new Pl.Decimal128(D);"toObject"in L&&"function"==typeof L.toObject?v[S]=L.toObject():v[S]=L}else if(w===Fl.BSON_DATA_BINARY){var U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,k=U,j=e[t++];if(U<0)throw new Error("Negative binary type element size found");if(U>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(j===Nl.Binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}v[S]=d&&g?e.slice(t,t+U):new Nl.Binary(e.slice(t,t+U),j)}else{var M=qf.Buffer.alloc(U);if(j===Nl.Binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(O=0;O<U;O++)M[O]=e[t+O];v[S]=d&&g?M:new Nl.Binary(M,j)}t+=U}else if(w===Fl.BSON_DATA_REGEXP&&!1===h){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var C=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var q=e.toString("utf8",t,O);t=O+1;var F=new Array(q.length);for(O=0;O<q.length;O++)switch(q[O]){case"m":F[O]="m";break;case"s":F[O]="g";break;case"i":F[O]="i"}v[S]=new RegExp(C,F.join(""))}else if(w===Fl.BSON_DATA_REGEXP&&!0===h){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");C=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");q=e.toString("utf8",t,O);t=O+1,v[S]=new kl.BSONRegExp(C,q)}else if(w===Fl.BSON_DATA_SYMBOL){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var $=e.toString("utf8",t,t+H-1);v[S]=g?$:new jl.BSONSymbol($),t+=H}else if(w===Fl.BSON_DATA_TIMESTAMP){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[S]=new Ml.Timestamp(N,T)}else if(w===Fl.BSON_DATA_MIN_KEY)v[S]=new Ll.MinKey;else if(w===Fl.BSON_DATA_MAX_KEY)v[S]=new Dl.MaxKey;else if(w===Fl.BSON_DATA_CODE){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var Y=e.toString("utf8",t,t+H-1);v[S]=c?f?s(Y,o,v):s(Y):new Tl.Code(Y),t+=H}else if(w===Fl.BSON_DATA_CODE_W_SCOPE){var G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(G<13)throw new Error("code_w_scope total size shorter minimum expected length");if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");Y=e.toString("utf8",t,t+H-1),I=t+=H;var K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,W=i(e,I,a,!1);if(t+=K,G<8+K+H)throw new Error("code_w_scope total size is too short, truncating scope");if(G>8+K+H)throw new Error("code_w_scope total size is too long, clips outer document");c?(v[S]=f?s(Y,o,v):s(Y),v[S].scope=W):v[S]=new Tl.Code(Y,W)}else{if(w!==Fl.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+w.toString(16)+' for fieldname "'+S+'"');var H;if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Yl.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var V=e.toString("utf8",t,t+H-1);t+=H;var z=qf.Buffer.alloc(12);e.copy(z,0,t,t+12);E=new Ul.ObjectId(z);t+=12,v[S]=new Il.DBRef(V,E)}}if(m!==t-_){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var J=Object.keys(v).filter((function(e){return e.startsWith("$")})),X=!0;if(J.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(X=!1)})),!X)return v;if(Il.isDBRefLike(v)){var Z=Object.assign({},v);return delete Z.$ref,delete Z.$id,delete Z.$db,new Il.DBRef(v.$ref,v.$id,v.$db,Z)}return v}function s(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is "+o);if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length "+e.length+" must be >= bson size "+o);if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length "+e.length+" must === bson size "+o);if(o+r>e.byteLength)throw new Error("(bson size "+o+" + options.index "+r+" must be <= buffer length "+e.byteLength+")");if(0!==e[r+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return i(e,r,t,n)}}));Af(Gl),Gl.deserialize;var Kl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,n,r,o){var i,s,a="big"===n,u=8*o-r-1,c=(1<<u)-1,f=c>>1,l=-7,p=a?0:o-1,h=a?1:-1,d=e[t+p];for(p+=h,i=d&(1<<-l)-1,d>>=-l,l+=u;l>0;i=256*i+e[t+p],p+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+p],p+=h,l-=8);if(0===i)i=1-f;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=f}return(d?-1:1)*s*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var s,a,u,c="big"===r,f=8*i-o-1,l=(1<<f)-1,p=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=c?i-1:0,y=c?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,o),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0)),isNaN(t)&&(a=0);o>=8;)e[n+d]=255&a,d+=y,a/=256,o-=8;for(s=s<<o|a,isNaN(t)&&(s+=8),f+=o;f>0;)e[n+d]=255&s,d+=y,s/=256,f-=8;e[n+d-y]|=128*g}}));Af(Kl),Kl.writeIEEE754,Kl.readIEEE754;var Wl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function i(e,t,n,r,o){e[r++]=Fl.BSON_DATA_STRING;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");e[(r=r+i+1)-1]=0;var s=e.write(n,r+4,void 0,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function s(e,t,n,r,o){Number.isInteger(n)&&n>=Fl.BSON_INT32_MIN&&n<=Fl.BSON_INT32_MAX?(e[r++]=Fl.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=Fl.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,Kl.writeIEEE754(e,n,r,"little",52,8),r+=8);return r}function a(e,t,n,r,o){return e[r++]=Fl.BSON_DATA_NULL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function u(e,t,n,r,o){return e[r++]=Fl.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function c(e,t,n,r,o){e[r++]=Fl.BSON_DATA_DATE,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=Bl.Long.fromNumber(n.getTime()),s=i.getLowBits(),a=i.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function f(e,t,r,o,i){if(e[o++]=Fl.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return o+=e.write(r.source,o,void 0,"utf8"),e[o++]=0,r.ignoreCase&&(e[o++]=105),r.global&&(e[o++]=115),r.multiline&&(e[o++]=109),e[o++]=0,o}function l(e,t,r,o,i){if(e[o++]=Fl.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return o+=e.write(r.pattern,o,void 0,"utf8"),e[o++]=0,o+=e.write(r.options.split("").sort().join(""),o,void 0,"utf8"),e[o++]=0,o}function p(e,t,n,r,o){return null===n?e[r++]=Fl.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=Fl.BSON_DATA_MIN_KEY:e[r++]=Fl.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function h(e,t,n,r,o){if(e[r++]=Fl.BSON_DATA_OID,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function d(e,t,n,r,o){e[r++]=Fl.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=Fl.BSON_BINARY_SUBTYPE_DEFAULT,e.set(Al.ensureBuffer(n),r),r+=i}function y(e,t,n,r,o,i,s,a,u,c){void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===c&&(c=[]);for(var f=0;f<c.length;f++)if(c[f]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?Fl.BSON_DATA_ARRAY:Fl.BSON_DATA_OBJECT,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var l=E(e,n,o,r,i+1,s,a,c);return c.pop(),l}function g(e,t,n,r,o){return e[r++]=Fl.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function _(e,t,n,r,o){e[r++]="Long"===n._bsontype?Fl.BSON_DATA_LONG:Fl.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.getLowBits(),s=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function m(e,t,n,r,o){return n=n.valueOf(),e[r++]=Fl.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function v(e,t,n,r,o){return e[r++]=Fl.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,Kl.writeIEEE754(e,n.value,r,"little",52,8),r+=8}function b(e,t,n,r,o,i,s){e[r++]=Fl.BSON_DATA_CODE,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=Sl.normalizedFunctionString(n),u=e.write(a,r+4,void 0,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function w(e,t,n,r,o,i,s,a,u){if(void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),n.scope&&"object"==typeof n.scope){e[r++]=Fl.BSON_DATA_CODE_W_SCOPE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var c=r,f="string"==typeof n.code?n.code:n.code.toString();r+=4;var l=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;var p=E(e,n.scope,o,r,i+1,s,a);r=p-1;var h=p-c;e[c++]=255&h,e[c++]=h>>8&255,e[c++]=h>>16&255,e[c++]=h>>24&255,e[r++]=0}else{e[r++]=Fl.BSON_DATA_CODE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;f=n.code.toString();var d=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&d,e[r+1]=d>>8&255,e[r+2]=d>>16&255,e[r+3]=d>>24&255,r=r+4+d-1,e[r++]=0}return r}function O(e,t,n,r,o){e[r++]=Fl.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.value(!0),s=n.position;return n.sub_type===Nl.Binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===Nl.Binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),e.set(i,r),r+=n.position}function S(e,t,n,r,o){e[r++]=Fl.BSON_DATA_SYMBOL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function A(e,t,n,r,o,i,s){e[r++]=Fl.BSON_DATA_OBJECT,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var c=E(e,u=Object.assign(u,n.fields),!1,r,o+1,i),f=c-a;return e[a++]=255&f,e[a++]=f>>8&255,e[a++]=f>>16&255,e[a++]=f>>24&255,c}function E(e,t,E,N,T,I,B,P){void 0===E&&(E=!1),void 0===N&&(N=0),void 0===T&&(T=0),void 0===I&&(I=!1),void 0===B&&(B=!0),void 0===P&&(P=[]),N=N||0,(P=P||[]).push(t);var R=N+4;if(Array.isArray(t))for(var x=0;x<t.length;x++){var D=""+x;if((M=t[x])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}if("string"==typeof M)R=i(e,D,M,R,!0);else if("number"==typeof M)R=s(e,D,M,R,!0);else{if("bigint"==typeof M)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof M)R=u(e,D,M,R,!0);else if(M instanceof Date||Sl.isDate(M))R=c(e,D,M,R,!0);else if(void 0===M)R=a(e,D,0,R,!0);else if(null===M)R=a(e,D,0,R,!0);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R,!0);else if(Sl.isBuffer(M)||Sl.isUint8Array(M))R=d(e,D,M,R,!0);else if(M instanceof RegExp||o(M))R=f(e,D,M,R,!0);else if("object"==typeof M&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!0,P);else if("object"==typeof M&&Cl.isBSONType(M)&&"Decimal128"===M._bsontype)R=g(e,D,M,R,!0);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R,!0);else if("Double"===M._bsontype)R=v(e,D,M,R,!0);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,!0);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B,!0);else if("Binary"===M._bsontype)R=O(e,D,M,R,!0);else if("Symbol"===M._bsontype)R=S(e,D,M,R,!0);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I,!0);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R,!0);else if("Int32"===M._bsontype)R=m(e,D,M,R,!0);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R,!0);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}else if(t instanceof ql.Map)for(var L=t.entries(),U=!1;!U;){var k=L.next();if(!(U=!!k.done)){D=k.value[0];var j=typeof(M=k.value[1]);if("string"==typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(E){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===j)R=i(e,D,M,R);else if("number"===j)R=s(e,D,M,R);else{if("bigint"===j||Sl.isBigInt64Array(M)||Sl.isBigUInt64Array(M))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)R=u(e,D,M,R);else if(M instanceof Date||Sl.isDate(M))R=c(e,D,M,R);else if(null===M||void 0===M&&!1===B)R=a(e,D,0,R);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R);else if(Sl.isBuffer(M)||Sl.isUint8Array(M))R=d(e,D,M,R);else if(M instanceof RegExp||o(M))R=f(e,D,M,R);else if("object"===j&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!1,P);else if("object"===j&&"Decimal128"===M._bsontype)R=g(e,D,M,R);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R);else if("Double"===M._bsontype)R=v(e,D,M,R);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,I);else if("Binary"===M._bsontype)R=O(e,D,M,R);else if("Symbol"===M._bsontype)R=S(e,D,M,R);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R);else if("Int32"===M._bsontype)R=m(e,D,M,R);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!=typeof t)throw new TypeError("toBSON function did not return an object")}for(var D in t){var M;if((M=t[D])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}j=typeof M;if("string"==typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(E){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===j)R=i(e,D,M,R);else if("number"===j)R=s(e,D,M,R);else{if("bigint"===j)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)R=u(e,D,M,R);else if(M instanceof Date||Sl.isDate(M))R=c(e,D,M,R);else if(void 0===M)!1===B&&(R=a(e,D,0,R));else if(null===M)R=a(e,D,0,R);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R);else if(Sl.isBuffer(M)||Sl.isUint8Array(M))R=d(e,D,M,R);else if(M instanceof RegExp||o(M))R=f(e,D,M,R);else if("object"===j&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!1,P);else if("object"===j&&"Decimal128"===M._bsontype)R=g(e,D,M,R);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R);else if("Double"===M._bsontype)R=v(e,D,M,R);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,I);else if("Binary"===M._bsontype)R=O(e,D,M,R);else if("Symbol"===M._bsontype)R=S(e,D,M,R);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R);else if("Int32"===M._bsontype)R=m(e,D,M,R);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}P.pop(),e[R++]=0;var C=R-N;return e[N++]=255&C,e[N++]=C>>8&255,e[N++]=C>>16&255,e[N++]=C>>24&255,R}t.serializeInto=E}));Af(Wl),Wl.serializeInto;var Hl=Ef((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return Nl.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return Tl.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return Il.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return Pl.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return Rl.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return xl.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return Bl.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return ql.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return Dl.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return Ll.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return Ul.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return Ul.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return kl.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return jl.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return Ml.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return Fl.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return Fl.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return Fl.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return Fl.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return Fl.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return Fl.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return Fl.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return Fl.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return Fl.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return Fl.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return Fl.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return Fl.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return Fl.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return Fl.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return Fl.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return Fl.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return Fl.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return Fl.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return Fl.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return Fl.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return Fl.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return Fl.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return Fl.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return Fl.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return Fl.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return Fl.BSON_INT64_MIN}});var n=Cl;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return n.EJSON}});var r=Ml;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return r.LongWithoutOverridesClass}});var o=17825792,i=qf.Buffer.alloc(o);function s(e){i.length<e&&(i=qf.Buffer.alloc(e))}function a(e,t){void 0===t&&(t={});var n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,s="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,a="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:o;i.length<a&&(i=qf.Buffer.alloc(a));var u=Wl.serializeInto(i,e,n,0,0,r,s,[]),c=qf.Buffer.alloc(u);return i.copy(c,0,0,c.length),c}function u(e,t,n){void 0===n&&(n={});var r="boolean"==typeof n.checkKeys&&n.checkKeys,o="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,s="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,a="number"==typeof n.index?n.index:0,u=Wl.serializeInto(i,e,r,0,0,o,s);return i.copy(t,a,0,u),a+u-1}function c(e,t){return void 0===t&&(t={}),Gl.deserialize(Al.ensureBuffer(e),t)}function f(e,t){void 0===t&&(t={});var n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return $l.calculateObjectSize(e,n,r)}function l(e,t,n,r,o,i){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),a=Al.ensureBuffer(e),u=t,c=0;c<n;c++){var f=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[o+c]=Gl.deserialize(a,s),u+=f}return u}t.setInternalBufferSize=s,t.serialize=a,t.serializeWithBufferAndIndex=u,t.deserialize=c,t.calculateObjectSize=f,t.deserializeStream=l;var p={Binary:Nl.Binary,Code:Tl.Code,DBRef:Il.DBRef,Decimal128:Pl.Decimal128,Double:Rl.Double,Int32:xl.Int32,Long:Bl.Long,Map:ql.Map,MaxKey:Dl.MaxKey,MinKey:Ll.MinKey,ObjectId:Ul.ObjectId,ObjectID:Ul.ObjectId,BSONRegExp:kl.BSONRegExp,BSONSymbol:jl.BSONSymbol,Timestamp:Ml.Timestamp,EJSON:Cl.EJSON,setInternalBufferSize:s,serialize:a,serializeWithBufferAndIndex:u,deserialize:c,calculateObjectSize:f,deserializeStream:l};t.default=p}));Af(Hl),Hl.deserializeStream,Hl.calculateObjectSize,Hl.deserialize,Hl.serializeWithBufferAndIndex,Hl.serialize,Hl.setInternalBufferSize,Hl.ObjectID,Hl.Decimal128,Hl.BSONRegExp,Hl.MaxKey,Hl.MinKey,Hl.Int32,Hl.Double,Hl.Timestamp,Hl.Long,Hl.ObjectId,Hl.Binary,Hl.DBRef,Hl.BSONSymbol,Hl.Map,Hl.Code,Hl.LongWithoutOverridesClass;var Vl=Hl.EJSON;Hl.BSON_INT64_MIN,Hl.BSON_INT64_MAX,Hl.BSON_INT32_MIN,Hl.BSON_INT32_MAX,Hl.BSON_DATA_UNDEFINED,Hl.BSON_DATA_TIMESTAMP,Hl.BSON_DATA_SYMBOL,Hl.BSON_DATA_STRING,Hl.BSON_DATA_REGEXP,Hl.BSON_DATA_OID,Hl.BSON_DATA_OBJECT,Hl.BSON_DATA_NUMBER,Hl.BSON_DATA_NULL,Hl.BSON_DATA_MIN_KEY,Hl.BSON_DATA_MAX_KEY,Hl.BSON_DATA_LONG,Hl.BSON_DATA_INT,Hl.BSON_DATA_DECIMAL128,Hl.BSON_DATA_DBPOINTER,Hl.BSON_DATA_DATE,Hl.BSON_DATA_CODE_W_SCOPE,Hl.BSON_DATA_CODE,Hl.BSON_DATA_BOOLEAN,Hl.BSON_DATA_BINARY,Hl.BSON_DATA_ARRAY,Hl.BSON_BINARY_SUBTYPE_UUID_NEW,Hl.BSON_BINARY_SUBTYPE_UUID,Hl.BSON_BINARY_SUBTYPE_USER_DEFINED,Hl.BSON_BINARY_SUBTYPE_MD5,Hl.BSON_BINARY_SUBTYPE_FUNCTION,Hl.BSON_BINARY_SUBTYPE_DEFAULT,Hl.BSON_BINARY_SUBTYPE_BYTE_ARRAY;var zl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(dd){i(dd)}}function a(e){try{u(r.throw(e))}catch(dd){i(dd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Jl=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(dd){i=[6,dd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Xl=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new bp.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return zl(this,void 0,void 0,(function(){var e;return Jl(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return(e=t.sent())&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Vl.parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return(t={})[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",vf.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}(),Zl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(e){function t(t,n){return e.call(this,t,n)||this}return Zl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new mf(this._db,this._coll,e)},t.prototype.add=function(e,t){return new mf(this._db,this._coll,void 0).create(e,t)},t.prototype.aggregate=function(){return new Xl(this._db,this._coll)},t}(Of),ep={eq:function(e){return new Vc(Kc.EQ,[e])},neq:function(e){return new Vc(Kc.NEQ,[e])},lt:function(e){return new Vc(Kc.LT,[e])},lte:function(e){return new Vc(Kc.LTE,[e])},gt:function(e){return new Vc(Kc.GT,[e])},gte:function(e){return new Vc(Kc.GTE,[e])},in:function(e){return new Vc(Kc.IN,e)},nin:function(e){return new Vc(Kc.NIN,e)},all:function(e){return new Vc(Kc.ALL,e)},elemMatch:function(e){return new Vc(Kc.ELEM_MATCH,[e])},exists:function(e){return new Vc(Kc.EXISTS,[e])},size:function(e){return new Vc(Kc.SIZE,[e])},mod:function(e){return new Vc(Kc.MOD,[e])},geoNear:function(e){return new Vc(Kc.GEO_NEAR,[e])},geoWithin:function(e){return new Vc(Kc.GEO_WITHIN,[e])},geoIntersects:function(e){return new Vc(Kc.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ac(arguments[0])?arguments[0]:Array.from(arguments);return new Yc(Cc.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ac(arguments[0])?arguments[0]:Array.from(arguments);return new Yc(Cc.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ac(arguments[0])?arguments[0]:Array.from(arguments);return new Yc(Cc.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ac(arguments[0])?arguments[0]:Array.from(arguments);return new Yc(Cc.NOT,n)},set:function(e){return new Fc(gc.SET,[e])},remove:function(){return new Fc(gc.REMOVE,[])},inc:function(e){return new Fc(gc.INC,[e])},mul:function(e){return new Fc(gc.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Oc(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=Ac(t[0])?t[0]:Array.from(t);return new Fc(gc.PUSH,e)},pull:function(e){return new Fc(gc.PULL,e)},pullAll:function(e){return new Fc(gc.PULL_ALL,e)},pop:function(){return new Fc(gc.POP,[])},shift:function(){return new Fc(gc.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ac(arguments[0])?arguments[0]:Array.from(arguments);return new Fc(gc.UNSHIFT,n)},addToSet:function(e){return new Fc(gc.ADD_TO_SET,e)},rename:function(e){return new Fc(gc.RENAME,[e])},bit:function(e){return new Fc(gc.BIT,[e])},max:function(e){return new Fc(gc.MAX,[e])},min:function(e){return new Fc(gc.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return"string"===wc(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Xl},abs:function(e){return new tp("abs",e)},add:function(e){return new tp("add",e)},ceil:function(e){return new tp("ceil",e)},divide:function(e){return new tp("divide",e)},exp:function(e){return new tp("exp",e)},floor:function(e){return new tp("floor",e)},ln:function(e){return new tp("ln",e)},log:function(e){return new tp("log",e)},log10:function(e){return new tp("log10",e)},mod:function(e){return new tp("mod",e)},multiply:function(e){return new tp("multiply",e)},pow:function(e){return new tp("pow",e)},sqrt:function(e){return new tp("sqrt",e)},subtract:function(e){return new tp("subtract",e)},trunc:function(e){return new tp("trunc",e)},arrayElemAt:function(e){return new tp("arrayElemAt",e)},arrayToObject:function(e){return new tp("arrayToObject",e)},concatArrays:function(e){return new tp("concatArrays",e)},filter:function(e){return new tp("filter",e)},in:function(e){return new tp("in",e)},indexOfArray:function(e){return new tp("indexOfArray",e)},isArray:function(e){return new tp("isArray",e)},map:function(e){return new tp("map",e)},range:function(e){return new tp("range",e)},reduce:function(e){return new tp("reduce",e)},reverseArray:function(e){return new tp("reverseArray",e)},size:function(e){return new tp("size",e)},slice:function(e){return new tp("slice",e)},zip:function(e){return new tp("zip",e)},and:function(e){return new tp("and",e)},not:function(e){return new tp("not",e)},or:function(e){return new tp("or",e)},cmp:function(e){return new tp("cmp",e)},eq:function(e){return new tp("eq",e)},gt:function(e){return new tp("gt",e)},gte:function(e){return new tp("gte",e)},lt:function(e){return new tp("lt",e)},lte:function(e){return new tp("lte",e)},neq:function(e){return new tp("ne",e)},cond:function(e){return new tp("cond",e)},ifNull:function(e){return new tp("ifNull",e)},switch:function(e){return new tp("switch",e)},dateFromParts:function(e){return new tp("dateFromParts",e)},dateFromString:function(e){return new tp("dateFromString",e)},dayOfMonth:function(e){return new tp("dayOfMonth",e)},dayOfWeek:function(e){return new tp("dayOfWeek",e)},dayOfYear:function(e){return new tp("dayOfYear",e)},isoDayOfWeek:function(e){return new tp("isoDayOfWeek",e)},isoWeek:function(e){return new tp("isoWeek",e)},isoWeekYear:function(e){return new tp("isoWeekYear",e)},millisecond:function(e){return new tp("millisecond",e)},minute:function(e){return new tp("minute",e)},month:function(e){return new tp("month",e)},second:function(e){return new tp("second",e)},hour:function(e){return new tp("hour",e)},week:function(e){return new tp("week",e)},year:function(e){return new tp("year",e)},literal:function(e){return new tp("literal",e)},mergeObjects:function(e){return new tp("mergeObjects",e)},objectToArray:function(e){return new tp("objectToArray",e)},allElementsTrue:function(e){return new tp("allElementsTrue",e)},anyElementTrue:function(e){return new tp("anyElementTrue",e)},setDifference:function(e){return new tp("setDifference",e)},setEquals:function(e){return new tp("setEquals",e)},setIntersection:function(e){return new tp("setIntersection",e)},setIsSubset:function(e){return new tp("setIsSubset",e)},setUnion:function(e){return new tp("setUnion",e)},concat:function(e){return new tp("concat",e)},dateToString:function(e){return new tp("dateToString",e)},indexOfBytes:function(e){return new tp("indexOfBytes",e)},indexOfCP:function(e){return new tp("indexOfCP",e)},split:function(e){return new tp("split",e)},strLenBytes:function(e){return new tp("strLenBytes",e)},strLenCP:function(e){return new tp("strLenCP",e)},strcasecmp:function(e){return new tp("strcasecmp",e)},substr:function(e){return new tp("substr",e)},substrBytes:function(e){return new tp("substrBytes",e)},substrCP:function(e){return new tp("substrCP",e)},toLower:function(e){return new tp("toLower",e)},toUpper:function(e){return new tp("toUpper",e)},meta:function(e){return new tp("meta",e)},addToSet:function(e){return new tp("addToSet",e)},avg:function(e){return new tp("avg",e)},first:function(e){return new tp("first",e)},last:function(e){return new tp("last",e)},max:function(e){return new tp("max",e)},min:function(e){return new tp("min",e)},push:function(e){return new tp("push",e)},stdDevPop:function(e){return new tp("stdDevPop",e)},stdDevSamp:function(e){return new tp("stdDevSamp",e)},sum:function(e){return new tp("sum",e)},let:function(e){return new tp("let",e)}},project:{slice:function(e){return new np("slice",e)},elemMatch:function(e){return new np("elemMatch",e)}}},tp=function(e,t){this["$"+e]=t},np=function(e,t){this["$"+e]=t},rp=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return hc},enumerable:!0,configurable:!0}),e}();function op(e){return new rp(e)}var ip={code:"INSERT_DOC_FAIL",message:"insert document failed"},sp={code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"},ap=function(){return(ap=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},up=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(dd){i(dd)}}function a(e){try{u(r.throw(e))}catch(dd){i(dd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},cp=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(dd){i=[6,dd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},fp="database.updateDocInTransaction",lp=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return up(this,void 0,void 0,(function(){var t,n,r,o;return cp(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:Vl.stringify(rf(e),{relaxed:!1})},this.id&&(t._id=this.id),[4,this._request.send("database.insertDocInTransaction",t)];case 1:if((n=i.sent()).code)throw n;if(r=Vl.parse(n.inserted),1==(o=Vl.parse(n.ok))&&1==r)return[2,ap(ap({},n),{ok:o,inserted:r})];throw new Error(ip.message)}}))}))},e.prototype.get=function(){return up(this,void 0,void 0,(function(){var e,t;return cp(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.getInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,{data:"null"!==t.data?vc.formatField(Vl.parse(t.data)):Vl.parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return up(this,void 0,void 0,(function(){var t,n;return cp(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Vl.stringify(rf(e),{relaxed:!1}),upsert:!0},[4,this._request.send(fp,t)];case 1:if((n=r.sent()).code)throw n;return[2,ap(ap({},n),{updated:Vl.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return up(this,void 0,void 0,(function(){var t,n;return cp(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Vl.stringify(df.encode(e),{relaxed:!1})},[4,this._request.send(fp,t)];case 1:if((n=r.sent()).code)throw n;return[2,ap(ap({},n),{updated:Vl.parse(n.updated)})]}}))}))},e.prototype.delete=function(){return up(this,void 0,void 0,(function(){var e,t;return cp(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.deleteDocInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,ap(ap({},t),{deleted:Vl.parse(t.deleted)})]}}))}))},e}(),pp=function(e,t){this._coll=t,this._transaction=e},hp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dp=function(e){function t(t,n){return e.call(this,t,n)||this}return hp(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new lp(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;return void 0!==e._id&&(t=e._id),new lp(this._transaction,this._coll,t).create(e)},t}(pp),yp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(dd){i(dd)}}function a(e){try{u(r.throw(e))}catch(dd){i(dd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},gp=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(dd){i=[6,dd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},_p=function(){function e(e){this._db=e,this._request=new bp.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return yp(this,void 0,void 0,(function(){var e;return gp(this,(function(t){switch(t.label){case 0:return[4,this._request.send("database.startTransaction")];case 1:if((e=t.sent()).code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new dp(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return yp(this,void 0,void 0,(function(){var e,t;return gp(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send("database.commitTransaction",e)];case 1:if((t=n.sent()).code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return yp(this,void 0,void 0,(function(){var t,n;return gp(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send("database.abortTransaction",t)];case 1:if((n=r.sent()).code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();function mp(){return yp(this,void 0,void 0,(function(){var e;return gp(this,(function(t){switch(t.label){case 0:return[4,(e=new _p(this)).init()];case 1:return t.sent(),[2,e]}}))}))}function vp(e,t){return void 0===t&&(t=3),yp(this,void 0,void 0,(function(){var n,r,o,i,s=this;return gp(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,10]),[4,(n=new _p(this)).init()];case 1:return a.sent(),[4,e(n)];case 2:if(r=a.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return a.sent(),[2,r];case 4:if(o=a.sent(),!1===n.inited)throw o;return i=function(e){return yp(s,void 0,void 0,(function(){return gp(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,i(o)]:[3,6];case 5:a.sent(),a.label=6;case 6:return o&&o.code===sp.code?[4,vp.bind(this)(e,--t)]:[3,8];case 7:return[2,a.sent()];case 8:return[4,i(o)];case 9:return a.sent(),[3,10];case 10:return[2]}}))}))}var bp=function(){function e(e){this.config=e,this.Geo=jc,this.serverDate=yc,this.command=ep,this.RegExp=op,this.startTransaction=mp,this.runTransaction=vp,this.logicCommand=Yc,this.updateCommand=Fc,this.queryCommand=Vc}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new Ql(this,e)},e.prototype.createCollection=function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)},e}();
/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const wp="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Op=e=>wp?Symbol(e):"_vr_"+e,Sp=Op("rvlm"),Ap=Op("rvd"),Ep=Op("r"),Np=Op("rl"),Tp=Op("rvl"),Ip="undefined"!=typeof window;const Bp=Object.assign;function Pp(e,t){const n={};for(const r in t){const o=t[r];n[r]=Array.isArray(o)?o.map(e):e(o)}return n}let Rp=()=>{};const xp=/\/$/;function Dp(e,t,n="/"){let r,o={},i="",s="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,s=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],1!==s&&"."!==i){if(".."!==i)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function Lp(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Up(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!jp(e[n],t[n]))return!1;return!0}function jp(e,t){return Array.isArray(e)?Mp(e,t):Array.isArray(t)?Mp(t,e):e===t}function Mp(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var Cp,qp,Fp,$p;function Yp(e){if(!e)if(Ip){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(xp,"")}(qp=Cp||(Cp={})).pop="pop",qp.push="push",($p=Fp||(Fp={})).back="back",$p.forward="forward",$p.unknown="";const Gp=/^[^#]+#/;function Kp(e,t){return e.replace(Gp,"#")+t}const Wp=()=>({left:window.pageXOffset,top:window.pageYOffset});function Hp(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function Vp(e,t){return(history.state?history.state.position-t:-1)+e}const zp=new Map;function Jp(e,t){const{pathname:n,search:r,hash:o}=t;if(e.indexOf("#")>-1){let e=o.slice(1);return"/"!==e[0]&&(e="/"+e),Lp(e,"")}return Lp(n,e)+r+o}function Xp(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Wp():null}}function Zp(e){const{history:t,location:n}=window;let r={value:Jp(e,n)},o={value:t.state};function i(r,i,s){const a=e.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](i,"",u),o.value=i}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const s=Bp({},o.value,t.state,{forward:e,scroll:Wp()});i(s.current,s,!0),i(e,Bp({},Xp(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){i(e,Bp({},t.state,Xp(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function Qp(e){const t=Zp(e=Yp(e)),n=function(e,t,n,r){let o=[],i=[],s=null;const a=({state:i})=>{const a=Jp(e,location),u=n.value,c=t.value;let f=0;if(i){if(n.value=a,t.value=i,s&&s===u)return void(s=null);f=c?i.position-c.position:0}else r(a);o.forEach((e=>{e(n.value,u,{delta:f,type:Cp.pop,direction:f?f>0?Fp.forward:Fp.back:Fp.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(Bp({},e.state,{scroll:Wp()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=Bp({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Kp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function eh(e){return(e=location.host?e||location.pathname+location.search:"").indexOf("#")<0&&(e+="#"),Qp(e)}function th(e){return"string"==typeof e||"symbol"==typeof e}const nh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},rh=Op("nf");var oh,ih;function sh(e,t){return Bp(new Error,{type:e,[rh]:!0},t)}function ah(e,t){return e instanceof Error&&rh in e&&(null==t||!!(e.type&t))}(ih=oh||(oh={}))[ih.aborted=4]="aborted",ih[ih.cancelled=8]="cancelled",ih[ih.duplicated=16]="duplicated";const uh={sensitive:!1,strict:!1,start:!0,end:!0},ch=/[.+*?^${}()[\]/\\]/g;function fh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function lh(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=fh(r[n],o[n]);if(e)return e;n++}return o.length-r.length}const ph={type:0,value:""},hh=/[a-zA-Z0-9_]/;function dh(e,t,n){const r=function(e,t){const n=Bp({},uh,t);let r=[],o=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let t=0;t<u.length;t++){const r=u[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(ch,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:f}=r;i.push({name:e,repeatable:n,optional:c});const l=f||"[^/]+?";if("[^/]+?"!==l){s+=10;try{new RegExp(`(${l})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${l}): `+a.message)}}let p=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;t||(p=c&&u.length<2?`(?:/${p})`:"/"+p),c&&(p+="?"),o+=p,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===l&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,u=i in t?t[i]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[ph]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a,u=0,c="",f="";function l(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:f,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;u<e.length;)if(a=e[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&l(),s()):":"===a?(l(),n=1):p();break;case 4:p(),n=r;break;case 1:"("===a?n=2:hh.test(a)?p():(l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==f[f.length-1]?f=f.slice(0,-1)+a:n=3:f+=a;break;case 3:l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,f="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),l(),s(),o}(e.path),n),o=Bp(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function yh(e,t){const n=[],r=new Map;function o(e,n,r){let a=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:gh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const c=vh(t,e),f=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(Bp({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let l,p;for(const t of f){let{path:f}=t;if(n&&"/"!==f[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(f&&r+f)}if(l=dh(t,n,c),r?r.alias.push(l):(p=p||l,p!==l&&p.alias.push(l),a&&e.name&&!_h(l)&&i(e.name)),"children"in u){let e=u.children;for(let t=0;t<e.length;t++)o(e[t],l,r&&r.children[t])}r=r||l,s(l)}return p?()=>{i(p)}:Rp}function i(e){if(th(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<n.length&&lh(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!_h(e)&&r.set(e.record.name,e)}return t=vh({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,s,a={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw sh(1,{location:e});s=o.record.name,a=Bp(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=o.stringify(a)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(a=o.parse(i),s=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw sh(1,{location:e,currentLocation:t});s=o.record.name,a=Bp({},t.params,e.params),i=o.stringify(a)}const u=[];let c=o;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:i,params:a,matched:u,meta:mh(u)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function gh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function _h(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mh(e){return e.reduce(((e,t)=>Bp(e,t.meta)),{})}function vh(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const bh=/#/g,wh=/&/g,Oh=/\//g,Sh=/=/g,Ah=/\?/g,Eh=/\+/g,Nh=/%5B/g,Th=/%5D/g,Ih=/%5E/g,Bh=/%60/g,Ph=/%7B/g,Rh=/%7C/g,xh=/%7D/g,Dh=/%20/g;function Lh(e){return encodeURI(""+e).replace(Rh,"|").replace(Nh,"[").replace(Th,"]")}function Uh(e){return Lh(e).replace(Eh,"%2B").replace(Dh,"+").replace(bh,"%23").replace(wh,"%26").replace(Bh,"`").replace(Ph,"{").replace(xh,"}").replace(Ih,"^")}function kh(e){return function(e){return Lh(e).replace(bh,"%23").replace(Ah,"%3F")}(e).replace(Oh,"%2F")}function jh(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Mh(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(Eh," ");let o=e.indexOf("="),i=jh(o<0?e:e.slice(0,o)),s=o<0?null:jh(e.slice(o+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function Ch(e){let t="";for(let n in e){t.length&&(t+="&");const r=e[n];if(n=Uh(n).replace(Sh,"%3D"),null==r){void 0!==r&&(t+=n);continue}let o=Array.isArray(r)?r.map((e=>e&&Uh(e))):[r&&Uh(r)];for(let e=0;e<o.length;e++)t+=(e?"&":"")+n,null!=o[e]&&(t+="="+o[e])}return t}function qh(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Fh(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function $h(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,a)=>{const u=e=>{var u;!1===e?a(sh(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(u=e)||u&&"object"==typeof u?a(sh(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),s())},c=e.call(r&&r.instances[o],t,n,u);let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch((e=>a(e)))}))}function Yh(e,t,n,r){const o=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=a)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(a.__vccOpts||a)[t];i&&o.push($h(i,n,r,s,e))}else{let i=a();i=i.catch(console.error),o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(a=o).__esModule||wp&&"Module"===a[Symbol.toStringTag]?o.default:o;var a;s.components[e]=i;const u=(i.__vccOpts||i)[t];return u&&$h(u,n,r,s,e)()}))))}}var i;return o}function Gh(e){const t=Kr(Ep),n=Kr(Np),r=go((()=>t.resolve(at(e.to)))),o=go((()=>{let{matched:e}=r.value,{length:t}=e;const o=e[t-1];let i=n.matched;if(!o||!i.length)return-1;let s=i.findIndex(Up.bind(null,o));if(s>-1)return s;let a=Wh(e[t-2]);return t>1&&Wh(o)===a&&i[i.length-1].path!==a?i.findIndex(Up.bind(null,e[t-2])):s})),i=go((()=>o.value>-1&&function(e,t){for(let n in t){let r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),s=go((()=>o.value>-1&&o.value===n.matched.length-1&&kp(n.params,r.value.params)));return{route:r,href:go((()=>r.value.href)),isActive:i,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[at(e.replace)?"replace":"push"](at(e.to)):Promise.resolve()}}}const Kh=rr({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t,attrs:n}){const r=Ve(Gh(e)),{options:o}=Kr(Ep),i=go((()=>({[Hh(e.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[Hh(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const o=t.default&&t.default(r);return e.custom?o:_o("a",Bp({"aria-current":r.isExactActive?e.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:i.value}),o)}}});function Wh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Hh=(e,t,n)=>null!=e?e:null!=t?t:n;function Vh(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const zh=rr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Kr(Tp),o=go((()=>e.route||r.value)),i=Kr(Ap,0),s=go((()=>o.value.matched[i]));Gr(Ap,i+1),Gr(Sp,s),Gr(Tp,o);const a=rt();return En((()=>[a.value,s.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&Up(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=s.value,u=i&&i.components[e.name],c=e.name;if(!u)return Vh(n.default,{Component:u,route:r});const f=i.props[e.name],l=f?!0===f?r.params:"function"==typeof f?f(r):f:null,p=_o(u,Bp({},l,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[c]=null)},ref:a}));return Vh(n.default,{Component:p,route:r})||p}}});function Jh(e){const t=yh(e.routes,e);let n=e.parseQuery||Mh,r=e.stringifyQuery||Ch,o=e.history;const i=Fh(),s=Fh(),a=Fh(),u=ot(nh);let c=nh;Ip&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Pp.bind(null,(e=>""+e)),l=Pp.bind(null,kh),p=Pp.bind(null,jh);function h(e,i){if(i=Bp({},i||u.value),"string"==typeof e){let r=Dp(n,e,i.path),s=t.resolve({path:r.path},i),a=o.createHref(r.fullPath);return Bp(r,s,{params:p(s.params),hash:jh(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in e?s=Bp({},e,{path:Dp(n,e.path,i.path).path}):(s=Bp({},e,{params:l(e.params)}),i.params=l(i.params));let a=t.resolve(s,i);const c=e.hash||"";a.params=f(p(a.params));const h=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Bp({},e,{hash:(d=c,Lh(d).replace(Ph,"{").replace(xh,"}").replace(Ih,"^")),path:a.path}));var d;let y=o.createHref(h);return Bp({fullPath:h,hash:c,query:r===Ch?qh(e.query):e.query},a,{redirectedFrom:void 0,href:y})}function d(e){return"string"==typeof e?Dp(n,e,u.value.path):Bp({},e)}function y(e,t){if(c!==e)return sh(8,{from:t,to:e})}function g(e){return m(e)}function _(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=d(r):{path:r}),Bp({query:e.query,hash:e.hash,params:e.params},r)}}function m(e,t){const n=c=h(e),o=u.value,i=e.state,s=e.force,a=!0===e.replace,f=_(n);if(f)return m(Bp(d(f),{state:i,force:s,replace:a}),t||n);const l=n;let p;return l.redirectedFrom=t,!s&&function(e,t,n){let r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Up(t.matched[r],n.matched[o])&&kp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(p=sh(16,{to:l,from:o}),P(o,o,!0,!1)),(p?Promise.resolve(p):b(l,o)).catch((e=>ah(e)?e:I(e))).then((e=>{if(e){if(ah(e,2))return m(Bp(d(e.to),{state:i,force:s,replace:a}),t||l)}else e=O(l,o,!0,a,i);return w(l,o,e),e}))}function v(e,t){const n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e,t){let n;const[r,o,a]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>Up(e,i)))?r.push(i):n.push(i));const a=e.matched[s];a&&(t.matched.find((e=>Up(e,a)))||o.push(a))}return[n,r,o]}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(e,t);n=Yh(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push($h(r,e,t))}));const u=v.bind(null,e,t);return n.push(u),Xh(n).then((()=>{n=[];for(const r of i.list())n.push($h(r,e,t));return n.push(u),Xh(n)})).then((()=>{n=Yh(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push($h(r,e,t))}));return n.push(u),Xh(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const o of r.beforeEnter)n.push($h(o,e,t));else n.push($h(r.beforeEnter,e,t));return n.push(u),Xh(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Yh(a,"beforeRouteEnter",e,t),n.push(u),Xh(n)))).then((()=>{n=[];for(const r of s.list())n.push($h(r,e,t));return n.push(u),Xh(n)})).catch((e=>ah(e,8)?e:Promise.reject(e)))}function w(e,t,n){for(const r of a.list())r(e,t,n)}function O(e,t,n,r,i){const s=y(e,t);if(s)return s;const a=t===nh,c=Ip?history.state:{};n&&(r||a?o.replace(e.fullPath,Bp({scroll:a&&c&&c.scroll},i)):o.push(e.fullPath,i)),u.value=e,P(e,t,n,a),B()}let S;function A(){S=o.listen(((e,t,n)=>{let r=h(e);const i=_(r);if(i)return void m(Bp(i,{replace:!0}),r).catch(Rp);c=r;const s=u.value;Ip&&function(e,t){zp.set(e,t)}(Vp(s.fullPath,n.delta),Wp()),b(r,s).catch((e=>ah(e,12)?e:ah(e,2)?(m(e.to,r).catch(Rp),Promise.reject()):(n.delta&&o.go(-n.delta,!1),I(e)))).then((e=>{(e=e||O(r,s,!1))&&n.delta&&o.go(-n.delta,!1),w(r,s,e)})).catch(Rp)}))}let E,N=Fh(),T=Fh();function I(e){return B(e),T.list().forEach((t=>t(e))),Promise.reject(e)}function B(e){E||(E=!0,A(),N.list().forEach((([t,n])=>e?n(e):t())),N.reset())}function P(t,n,r,o){const{scrollBehavior:i}=e;if(!Ip||!i)return Promise.resolve();let s=!r&&function(e){const t=zp.get(e);return zp.delete(e),t}(Vp(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return Pt().then((()=>i(t,n,s))).then((e=>e&&Hp(e))).catch(I)}const R=e=>o.go(e);let x;const D=new Set;return{currentRoute:u,addRoute:function(e,n){let r,o;return th(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:h,options:e,push:g,replace:function(e){return g(Bp(d(e),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:T.add,isReady:function(){return E&&u.value!==nh?Promise.resolve():new Promise(((e,t)=>{N.add([e,t])}))},install(e){e.component("RouterLink",Kh),e.component("RouterView",zh),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{get:()=>at(u)}),Ip&&!x&&u.value===nh&&(x=!0,g(o.location).catch((e=>{})));const t={};for(let r in nh)t[r]=go((()=>u.value[r]));e.provide(Ep,this),e.provide(Np,Ve(t)),e.provide(Tp,u);let n=e.unmount;D.add(e),e.unmount=function(){D.delete(e),D.size<1&&(S(),u.value=nh,x=!1,E=!1),n()}}}}function Xh(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var Zh=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function Qh(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}var ed=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},td={namespaced:{configurable:!0}};td.namespaced.get=function(){return!!this._rawModule.namespaced},ed.prototype.addChild=function(e,t){this._children[e]=t},ed.prototype.removeChild=function(e){delete this._children[e]},ed.prototype.getChild=function(e){return this._children[e]},ed.prototype.hasChild=function(e){return e in this._children},ed.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},ed.prototype.forEachChild=function(e){Qh(this._children,e)},ed.prototype.forEachGetter=function(e){this._rawModule.getters&&Qh(this._rawModule.getters,e)},ed.prototype.forEachAction=function(e){this._rawModule.actions&&Qh(this._rawModule.actions,e)},ed.prototype.forEachMutation=function(e){this._rawModule.mutations&&Qh(this._rawModule.mutations,e)},Object.defineProperties(ed.prototype,td);var nd=function(e){this.register([],e,!1)};function rd(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;rd(e.concat(r),t.getChild(r),n.modules[r])}}function od(e){return new id(e)}nd.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},nd.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},nd.prototype.update=function(e){rd([],this.root,e)},nd.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new ed(t,n);0===e.length?this.root=o:this.get(e.slice(0,-1)).addChild(e[e.length-1],o);t.modules&&Qh(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},nd.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},nd.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var id=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new nd(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var o=this,i=this.dispatch,s=this.commit;this.dispatch=function(e,t){return i.call(o,e,t)},this.commit=function(e,t,n){return s.call(o,e,t,n)},this.strict=r;var a=this._modules.root.state;fd(this,a,[],this._modules.root),cd(this,a),n.forEach((function(e){return e(t)})),(void 0===e.devtools||e.devtools)&&function(e){Zh&&(e._devtoolHook=Zh,Zh.emit("vuex:init",e),Zh.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){Zh.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){Zh.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},sd={state:{configurable:!0}};function ad(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function ud(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;fd(e,n,[],e._modules.root,!0),cd(e,n,t)}function cd(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};Qh(o,(function(t,n){i[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return i[n]()},enumerable:!0})})),e._state=Ve({data:t}),e.strict&&function(e){En((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null}))}function fd(e,t,n,r,o){var i=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!i&&!o){var a=ld(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){a[u]=r.state}))}var c=r.context=function(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=pd(n,r,o),s=i.payload,a=i.options,u=i.type;return a&&a.root||(u=t+u),e.dispatch(u,s)},commit:r?e.commit:function(n,r,o){var i=pd(n,r,o),s=i.payload,a=i.options,u=i.type;a&&a.root||(u=t+u),e.commit(u,s,a)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return ld(e.state,n)}}}),o}(e,s,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,s+n,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,o=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var o,i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,r,o,c)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,s+n,t,c)})),r.forEachChild((function(r,i){fd(e,t,n.concat(i),r,o)}))}function ld(e,t){return t.reduce((function(e,t){return e[t]}),e)}function pd(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}id.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this},sd.state.get=function(){return this._state.data},sd.state.set=function(e){},id.prototype.commit=function(e,t,n){var r=this,o=pd(e,t,n),i=o.type,s=o.payload,a={type:i,payload:s},u=this._mutations[i];u&&(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},id.prototype.dispatch=function(e,t){var n=this,r=pd(e,t),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(dd){}var u=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){u.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(dd){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(dd){}t(e)}))}))}},id.prototype.subscribe=function(e,t){return ad(e,this._subscribers,t)},id.prototype.subscribeAction=function(e,t){return ad("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},id.prototype.watch=function(e,t,n){var r=this;return En((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},id.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},id.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),fd(this,this.state,e,this._modules.get(e),n.preserveState),cd(this,this.state)},id.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete ld(t.state,e.slice(0,-1))[e[e.length-1]]})),ud(this)},id.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},id.prototype.hotUpdate=function(e){this._modules.update(e),ud(this,!0)},id.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(id.prototype,sd);var hd={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};export{Tr as $,Fn as A,$n as B,kr as C,Zi as D,Zn as E,wr as F,dr as G,pt as H,ao as I,mo as J,_o as K,bo as L,Gr as M,bn as N,bi as O,fi as P,jr as Q,pi as R,vi as S,qo as T,_n as U,vo as V,Kr as W,Pr as X,yn as Y,ni as Z,Sr as _,Bi as a,nt as a0,yr as a1,mr as a2,ci as a3,Ei as a4,at as a5,Vt as a6,zt as a7,Jt as a8,Cn as a9,Mr as aa,Jh as ab,eh as ac,od as ad,Ni as ae,hd as af,bp as b,Ti as c,ia as d,rr as e,Br as f,Ur as g,Yt as h,rt as i,go as j,Ve as k,Sn as l,mn as m,Pt as n,gn as o,Cr as p,Yr as q,Du as r,ot as s,ft as t,_i as u,f as v,En as w,vn as x,_r as y,Xt as z};
