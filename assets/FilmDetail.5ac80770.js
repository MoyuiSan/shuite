import{_ as l}from"./FilmsBox.c0fe10ff.js";import{i as a,a6 as s,a7 as e,a1 as i,$ as t,f as n,g as c,p as m,Q as o,v as d,a8 as f}from"./vendor.7cb940fd.js";import"./index.7d990959.js";const r={data:()=>({loading:!1,post:null,error:null,cloud:cloudbase.init({env:"yui-7gel1hqtaf6fb79d"})}),setup:l=>({fclass:a(""),filmsDetail:a(""),nickname:a("")}),created(){this.cloud.auth({persistence:"local"});const l=this.cloud.database();l.command,l.collection("films").where({_id:this.$route.params.id}).orderBy("created","desc").limit(1).get().then((a=>{this.filmsDetail=a.data[0],l.collection("fclass").where({cid:this.filmsDetail.class}).get().then((l=>{this.fclass=l.data[0].fname})),l.collection("user").where({_openid:this.filmsDetail._openid}).get().then((l=>{this.nickname=l.data[0].nickname})),console.log(this.filmsDetail)}))},methods:{formatterTime:(l,a,s,e)=>moment(s).format("YYYY/MM/DD"),formatterTimeYear:(l,a,s,e)=>moment(l).format("YYYY")},components:{FilmsBox:l}},u=f();s("data-v-3e35cf94");const p={class:"filmdetail"},h={key:0,style:{width:"700px","margin-top":"40px"}},v={key:1,class:"film-box"},D={class:"film-top"},k={class:"film-message"},g={class:"name"},y=c("span",null,"名称:",-1),Y={key:0,class:"fclass"},b=c("span",null,"类型:",-1),x={class:"jianjie"},j=c("span",null,"年份:",-1),w={class:"upload-time"},_=c("span",null,"上传时间:",-1),T={class:"upload-owner"},B=c("span",null,"上传者:",-1),F={class:"rate",style:{display:"flex"}},q=c("span",null,"评分:",-1),M={class:"film-btn"},$=c("i",{class:"el-icon-link"},null,-1),I=c("i",{class:"el-icon-star-off"},null,-1),L=c("i",{class:"el-icon-chat-square"},null,-1),Q={class:"film-main"},R=c("h3",null,"简介",-1),U=c("h3",null,"推荐理由",-1);e();const V=u(((l,a,s,e,f,r)=>{const u=i("el-skeleton"),V=i("el-rate");return t(),n("div",p,[e.fclass||e.nickname?m("",!0):(t(),n("div",h,[c(u,{rows:5,animated:""})])),e.fclass&&e.nickname?(t(),n("div",v,[c("div",D,[e.filmsDetail?(t(),n("img",{key:0,src:e.filmsDetail.tempFileURL},null,8,["src"])):m("",!0),c("div",k,[c("div",g,[y,o(d(e.filmsDetail.name),1)]),e.fclass?(t(),n("div",Y,[b,o(d(e.fclass),1)])):m("",!0),c("div",x,[j,o(d(r.formatterTimeYear(e.filmsDetail.year)),1)]),c("div",w,[_,o(d(r.formatterTime(e.filmsDetail.created)),1)]),c("div",T,[B,o(d(e.nickname),1)]),c("div",F,[q,c(V,{"model-value":e.filmsDetail.rateValue,"allow-half":"",disabled:""},null,8,["model-value"])])])]),c("div",M,[c("a",{href:e.filmsDetail.link,target:"_blank"},[$],8,["href"]),I,L]),c("div",Q,[R,c("p",null,d(e.filmsDetail.jianjie),1),U,c("p",null,d(e.filmsDetail.liyou),1)])])):m("",!0)])}));r.render=V,r.__scopeId="data-v-3e35cf94";export default r;
