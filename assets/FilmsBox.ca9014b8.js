import"./index.2925d606.js";import{a6 as a,a7 as t,d as s,i as e,a1 as l,$ as i,f as o,g as n,Q as d,v as c,p as m,F as r,J as f,a8 as p}from"./vendor.7cb940fd.js";const g={data:()=>({filmsData:[],loading:!0}),props:["filmClass","title"],setup(){},created(){const a=s.init({env:"yui-7gel1hqtaf6fb79d"});a.auth({persistence:"local"});const t=a.database();t.command;const l=e("");return t.collection("films").where({class:this.filmClass}).orderBy("created","desc").limit(5).get().then((a=>{this.filmsData=a.data,setTimeout((()=>{this.loading=!1}),1e3),console.log(a.data)})),{filmsData:l}},methods:{formatterTime:(a,t,s,e)=>a?moment(a).format("YYYY"):"未知"},components:{}},u=p();a("data-v-f52d4286");const h={class:"article-item-title"},v=n("i",{class:"el-icon-magic-stick"},null,-1),y=d("更多"),k={class:"content"},_={class:"content-item"},b={class:"content-item-msg"},D={class:"title"},j={class:"rate"},w=n("div",{class:"image-slot"},[d("加载中"),n("span",{class:"dot"},"...")],-1),x={class:"bottom-message"},Y={class:"content-item nothing"};t();const T=u(((a,t,s,e,p,g)=>{const T=l("router-link"),C=l("lottie-player"),F=l("el-rate"),q=l("el-image");return i(),o(r,null,[n("div",h,[n("h3",null,[v,d(c(s.title),1)]),n(T,{to:"/filmsmore"},{default:u((()=>[y])),_:1})]),n("div",k,[p.loading?(i(),o(C,{key:0,src:"https://assets1.lottiefiles.com/packages/lf20_gmswat4t.json",background:"transparent",speed:"1",style:{width:"300px",height:"300px",color:"black",margin:"0 auto"},loop:"",autoplay:""})):m("",!0),p.loading?m("",!0):(i(!0),o(r,{key:1},f(p.filmsData,((a,t)=>(i(),o("div",_,[n(T,{to:{name:"filmdetail",params:{id:a._id}}},{default:u((()=>[n("div",b,[n("div",D,c(a.name),1),n("p",null,c(a.jianjie),1),n("div",j,[n(F,{"model-value":a.rateValue,"allow-half":"",disabled:""},null,8,["model-value"])])]),n(q,{class:"img",src:a.tempFileURL,lazy:""},{placeholder:u((()=>[w])),_:2},1032,["src"]),n("div",x,c(g.formatterTime(a.year)),1)])),_:2},1032,["to"])])))),256)),p.filmsData.length&&!p.loading?(i(!0),o(r,{key:2},f(5-p.filmsData.length,(a=>(i(),o("div",Y," 暂无数据 ")))),256)):m("",!0)])],64)}));g.render=T,g.__scopeId="data-v-f52d4286";export{g as _};
