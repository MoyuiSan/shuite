import{_ as v}from"./main.bbe50dae.js";import{r as n,o as s,a as o,f as c,b as a,F as r,a6 as d,p as F,d as D,g as m,t as _,e as S}from"./vendor.3a7c3f84.js";const w={data(){return{cloud:cloudbase.init({env:"yui-7gel1hqtaf6fb79d"}),auth:null,shouyeData:[]}},created(){this.auth=this.cloud.auth({persistence:"local"}),this.getMoreFilms()},methods:{getMoreFilms(){const e=this.cloud.database();e.command,e.collection("films").where({class:this.$route.query.fclass}).limit(20).orderBy("created","desc").get().then(i=>{this.shouyeData=i.data})},searchFilm(){this.$refs.ShuiteInput.input?this.getFilmsDataByName(this.$refs.ShuiteInput.input):this.getMoreFilms()},getFilmsDataByName(e){const i=this.cloud.database();i.command;const h=new i.RegExp({regexp:e,options:"i"});i.collection("films").where({name:h}).get().then(u=>{this.shouyeData=u.data})}},components:{}},p=e=>(F("data-v-c29edeb2"),e=e(),D(),e),I={class:"films-more boxshadow"},B=p(()=>a("h2",null,"\u7535\u89C6\u5267",-1)),k={class:"films-box"},M={class:"films-box-items"},N=p(()=>a("div",{class:"image-slot"},[S("\u52A0\u8F7D\u4E2D"),a("span",{class:"dot"},"...")],-1)),V={class:"text",style:{"margin-top":"5px"}},j={style:{color:"#fcc"}},q={class:"films-box-items normal"},C={class:"films-box-items mobile"};function E(e,i,h,u,l,f){const g=n("shuite-input"),y=n("el-image"),b=n("router-link"),x=n("el-tooltip");return s(),o("div",I,[B,c(g,{class:"films-search",subname:e.\u641C\u7D22,onSearch:f.searchFilm,ref:"ShuiteInput"},null,8,["subname","onSearch"]),a("div",k,[(s(!0),o(r,null,d(l.shouyeData,(t,L)=>(s(),o("div",M,[c(y,{src:t.tempFileURL,class:"elimage",lazy:""},{placeholder:m(()=>[N]),_:2},1032,["src"]),c(x,{class:"item",effect:"dark",content:t.name,placement:"top",style:{width:"125px"}},{default:m(()=>[c(b,{to:{name:"filmdetail",params:{id:t._id}}},{default:m(()=>[a("div",V,[a("span",null,_(t.name),1),a("span",j,_(t.rateValue),1)])]),_:2},1032,["to"])]),_:2},1032,["content"])]))),256)),(s(!0),o(r,null,d(6-(l.shouyeData.length%6==0?6:l.shouyeData.length%6),t=>(s(),o("div",q))),256)),(s(!0),o(r,null,d(3-(l.shouyeData.length%3==0?3:l.shouyeData.length%3),t=>(s(),o("div",C))),256))])])}var T=v(w,[["render",E],["__scopeId","data-v-c29edeb2"]]);export{T as default};
