import{_ as a}from"./NewsItem.307de12e.js";import{a7 as e,a8 as s,a3 as t,a1 as o,f as d,g as i,p as l,F as n,J as c,a9 as r}from"./vendor.6d187631.js";const m={data:()=>({newsData:[],vedio:"",isPlay:!1}),created(){this.getNews();const a=this.$cloudbase.database(),e=a.command;a.collection("films").where({playlink:e.neq("")}).limit(5).orderBy("updated","desc").get().then((a=>{if(a.data){const e=a.data.length,s=Math.ceil(Math.random()*e);console.log(s),this.vedio=a.data[s].playlink}}))},methods:{getNews(){const a=this.$cloudbase.database();a.command,a.collection("films").limit(5).orderBy("updated","desc").get().then((a=>{this.newsData=a.data,console.log(a.data,"111")}))},playVedio(){this.isPlay=!0}},components:{"news-item":a}},w=r();e("data-v-381bf740");const h={class:"news-banner boxshadow"},p=i("h4",null,"推荐影片",-1),y={key:1,class:"iframe-vedio news-vedio"},b={class:"news-item boxshadow"};s();const f=w(((a,e,s,r,m,w)=>{const f=t("news-item");return o(),d(n,null,[i("div",h,[p,m.isPlay?(o(),d("iframe",{key:0,src:"//player.bilibili.com/player.html?bvid="+m.vedio+"&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",class:"iframe-vedio"},"\r\n    ",8,["src"])):l("",!0),m.isPlay?l("",!0):(o(),d("div",y,[i("div",{class:"vedio-play boxshadow",onClick:e[1]||(e[1]=(...a)=>w.playVedio&&w.playVedio(...a))},"播放")]))]),m.newsData?(o(!0),d(n,{key:0},c(m.newsData,(a=>(o(),d("div",b,[i(f,{data:a,onGetNews:w.getNews},null,8,["data","onGetNews"])])))),256)):l("",!0)],64)}));m.render=f,m.__scopeId="data-v-381bf740";export default m;
