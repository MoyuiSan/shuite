import{N as f}from"./NewsItem.62fb08dc.js";import{_ as y}from"./main.365dd05e.js";import{r as l,o,c as a,a as m,d as i,b as r,F as _,a7 as g,p as v,g as b}from"./vendor.8020b7fb.js";const N={name:"NewsCard",data(){return{newsData:[],vedio:"",isPlay:!1,loading:!0}},created(){this.getNews();const e=this.$cloudbase.database(),n=e.command;e.collection("shares").where({playlink:n.neq("")}).limit(5).orderBy("updated","desc").get().then(s=>{if(console.log(s),s.data){const d=s.data.length,t=Math.ceil(Math.random()*d);this.vedio=s.data[t-1].playlink}})},mounted(){},methods:{getNews(){const e=this.$cloudbase.database();e.command,e.collection("shares").limit(5).orderBy("updated","desc").get().then(n=>{console.log(n);let s=setTimeout(()=>{this.newsData=n.data,this.loading=!1,clearTimeout(s)},200);s=null})},playVedio(){this.isPlay=!0}},components:{"news-item":f}},k=e=>(v("data-v-48f3f682"),e=e(),b(),e),x={class:"news-banner boxshadow"},C=k(()=>m("h4",null,"\u63A8\u8350\u5F71\u7247",-1)),B=["src"],I={key:1,class:"iframe-vedio news-vedio"},V={key:0,class:"loading"},D={class:"news-item"};function P(e,n,s,d,t,c){const p=l("lottie-player-s"),u=l("shuite-loading"),h=l("news-item");return o(),a(_,null,[m("div",x,[C,t.isPlay?(o(),a("iframe",{key:0,src:"//player.bilibili.com/player.html?bvid="+t.vedio+"&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",class:"iframe-vedio"},`\r
    `,8,B)):i("",!0),t.isPlay?i("",!0):(o(),a("div",I,[r(p,{srcUrl:"https://assets7.lottiefiles.com/private_files/lf30_O7bXs2.json",style:{cursor:"pointer"},speed:.6,onClick:c.playVedio,width:"200px"},null,8,["srcUrl","speed","onClick"])]))]),t.loading?(o(),a("div",V,[r(u,{class:"boxshadow"})])):i("",!0),t.newsData?(o(!0),a(_,{key:1},g(t.newsData,w=>(o(),a("div",D,[r(h,{data:w,onGetNews:c.getNews},null,8,["data","onGetNews"])]))),256)):i("",!0)],64)}var M=y(N,[["render",P],["__scopeId","data-v-48f3f682"]]);export{M as default};
