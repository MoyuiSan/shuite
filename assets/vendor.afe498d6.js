function e(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){if(S(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=r(I(o)?s(o):o);if(i)for(const e in i)t[e]=i[e]}return t}if(P(e))return e}const o=/;(?![^(]*\))/g,i=/:(.+)/;function s(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function a(e){let t="";if(I(e))t=e;else if(S(e))for(let n=0;n<e.length;n++){const r=a(e[n]);r&&(t+=r+" ")}else if(P(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function u(e,t){if(e===t)return!0;let n=N(e),r=N(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=S(e),r=S(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=u(e[r],t[r]);return n}(e,t);if(n=P(e),r=P(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!u(e[n],t[n]))return!1}}return String(e)===String(t)}function c(e,t){return e.findIndex((e=>u(e,t)))}const f=e=>null==e?"":P(e)?JSON.stringify(e,l,2):String(e),l=(e,t)=>A(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:E(t)?{[`Set(${t.size})`]:[...t.values()]}:!P(t)||S(t)||L(t)?t:String(t),p={},h=[],d=()=>{},y=()=>!1,g=/^on[^a-z]/,_=e=>g.test(e),m=e=>e.startsWith("onUpdate:"),v=Object.assign,b=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},w=Object.prototype.hasOwnProperty,O=(e,t)=>w.call(e,t),S=Array.isArray,A=e=>"[object Map]"===D(e),E=e=>"[object Set]"===D(e),N=e=>e instanceof Date,T=e=>"function"==typeof e,I=e=>"string"==typeof e,B=e=>"symbol"==typeof e,P=e=>null!==e&&"object"==typeof e,R=e=>P(e)&&T(e.then)&&T(e.catch),x=Object.prototype.toString,D=e=>x.call(e),L=e=>"[object Object]"===D(e),U=e=>I(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,k=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M=/-(\w)/g,C=j((e=>e.replace(M,((e,t)=>t?t.toUpperCase():"")))),q=/\B([A-Z])/g,F=j((e=>e.replace(q,"-$1").toLowerCase())),$=j((e=>e.charAt(0).toUpperCase()+e.slice(1))),Y=j((e=>e?`on${$(e)}`:"")),G=(e,t)=>e!==t&&(e==e||t==t),K=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},W=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t},z=new WeakMap,V=[];let J;const X=Symbol(""),Z=Symbol("");function Q(e,t=p){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!V.includes(n)){ne(n);try{return oe.push(re),re=!0,V.push(n),J=n,e()}finally{V.pop(),se(),J=V[V.length-1]}}};return n.id=te++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function ee(e){e.active&&(ne(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let te=0;function ne(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let re=!0;const oe=[];function ie(){oe.push(re),re=!1}function se(){const e=oe.pop();re=void 0===e||e}function ae(e,t,n){if(!re||void 0===J)return;let r=z.get(e);r||z.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(J)||(o.add(J),J.deps.push(o))}function ue(e,t,n,r,o,i){const s=z.get(e);if(!s)return;const a=new Set,u=e=>{e&&e.forEach((e=>{(e!==J||e.allowRecurse)&&a.add(e)}))};if("clear"===t)s.forEach(u);else if("length"===n&&S(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&u(e)}));else switch(void 0!==n&&u(s.get(n)),t){case"add":S(e)?U(n)&&u(s.get("length")):(u(s.get(X)),A(e)&&u(s.get(Z)));break;case"delete":S(e)||(u(s.get(X)),A(e)&&u(s.get(Z)));break;case"set":A(e)&&u(s.get(X))}a.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const ce=e("__proto__,__v_isRef,__isVue"),fe=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(B)),le=ge(),pe=ge(!1,!0),he=ge(!0),de=ge(!0,!0),ye={};function ge(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?Ye:$e).get(n))return n;const i=S(n);if(!e&&i&&O(ye,r))return Reflect.get(ye,r,o);const s=Reflect.get(n,r,o);if(B(r)?fe.has(r):ce(r))return s;if(e||ae(n,0,r),t)return s;if(Qe(s)){return!i||!U(r)?s.value:s}return P(s)?e?We(s):Ke(s):s}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];ye[e]=function(...e){const n=Xe(this);for(let t=0,o=this.length;t<o;t++)ae(n,0,t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(Xe)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];ye[e]=function(...e){ie();const n=t.apply(this,e);return se(),n}}));function _e(e=!1){return function(t,n,r,o){const i=t[n];if(!e&&(r=Xe(r),!S(t)&&Qe(i)&&!Qe(r)))return i.value=r,!0;const s=S(t)&&U(n)?Number(n)<t.length:O(t,n),a=Reflect.set(t,n,r,o);return t===Xe(o)&&(s?G(r,i)&&ue(t,"set",n,r):ue(t,"add",n,r)),a}}const me={get:le,set:_e(),deleteProperty:function(e,t){const n=O(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ue(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return B(t)&&fe.has(t)||ae(e,0,t),n},ownKeys:function(e){return ae(e,0,S(e)?"length":X),Reflect.ownKeys(e)}},ve={get:he,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},be=v({},me,{get:pe,set:_e(!0)});v({},ve,{get:de});const we=e=>P(e)?Ke(e):e,Oe=e=>P(e)?We(e):e,Se=e=>e,Ae=e=>Reflect.getPrototypeOf(e);function Ee(e,t,n=!1,r=!1){const o=Xe(e=e.__v_raw),i=Xe(t);t!==i&&!n&&ae(o,0,t),!n&&ae(o,0,i);const{has:s}=Ae(o),a=n?Oe:r?Se:we;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void 0}function Ne(e,t=!1){const n=this.__v_raw,r=Xe(n),o=Xe(e);return e!==o&&!t&&ae(r,0,e),!t&&ae(r,0,o),e===o?n.has(e):n.has(e)||n.has(o)}function Te(e,t=!1){return e=e.__v_raw,!t&&ae(Xe(e),0,X),Reflect.get(e,"size",e)}function Ie(e){e=Xe(e);const t=Xe(this);return Ae(t).has.call(t,e)||(t.add(e),ue(t,"add",e,e)),this}function Be(e,t){t=Xe(t);const n=Xe(this),{has:r,get:o}=Ae(n);let i=r.call(n,e);i||(e=Xe(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?G(t,s)&&ue(n,"set",e,t):ue(n,"add",e,t),this}function Pe(e){const t=Xe(this),{has:n,get:r}=Ae(t);let o=n.call(t,e);o||(e=Xe(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&ue(t,"delete",e,void 0),i}function Re(){const e=Xe(this),t=0!==e.size,n=e.clear();return t&&ue(e,"clear",void 0,void 0),n}function xe(e,t){return function(n,r){const o=this,i=o.__v_raw,s=Xe(i),a=e?Oe:t?Se:we;return!e&&ae(s,0,X),i.forEach(((e,t)=>n.call(r,a(e),a(t),o)))}}function De(e,t,n){return function(...r){const o=this.__v_raw,i=Xe(o),s=A(i),a="entries"===e||e===Symbol.iterator&&s,u="keys"===e&&s,c=o[e](...r),f=t?Oe:n?Se:we;return!t&&ae(i,0,u?Z:X),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[f(e[0]),f(e[1])]:f(e),done:t}},[Symbol.iterator](){return this}}}}function Le(e){return function(...t){return"delete"!==e&&this}}const Ue={get(e){return Ee(this,e)},get size(){return Te(this)},has:Ne,add:Ie,set:Be,delete:Pe,clear:Re,forEach:xe(!1,!1)},ke={get(e){return Ee(this,e,!1,!0)},get size(){return Te(this)},has:Ne,add:Ie,set:Be,delete:Pe,clear:Re,forEach:xe(!1,!0)},je={get(e){return Ee(this,e,!0)},get size(){return Te(this,!0)},has(e){return Ne.call(this,e,!0)},add:Le("add"),set:Le("set"),delete:Le("delete"),clear:Le("clear"),forEach:xe(!0,!1)};function Me(e,t){const n=t?ke:e?je:Ue;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(O(n,r)&&r in t?n:t,r,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{Ue[e]=De(e,!1,!1),je[e]=De(e,!0,!1),ke[e]=De(e,!1,!0)}));const Ce={get:Me(!1,!1)},qe={get:Me(!1,!0)},Fe={get:Me(!0,!1)},$e=new WeakMap,Ye=new WeakMap;function Ge(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>D(e).slice(8,-1))(e))}function Ke(e){return e&&e.__v_isReadonly?e:He(e,!1,me,Ce)}function We(e){return He(e,!0,ve,Fe)}function He(e,t,n,r){if(!P(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=t?Ye:$e,i=o.get(e);if(i)return i;const s=Ge(e);if(0===s)return e;const a=new Proxy(e,2===s?r:n);return o.set(e,a),a}function ze(e){return Ve(e)?ze(e.__v_raw):!(!e||!e.__v_isReactive)}function Ve(e){return!(!e||!e.__v_isReadonly)}function Je(e){return ze(e)||Ve(e)}function Xe(e){return e&&Xe(e.__v_raw)||e}const Ze=e=>P(e)?Ke(e):e;function Qe(e){return Boolean(e&&!0===e.__v_isRef)}function et(e){return rt(e)}function tt(e){return rt(e,!0)}class nt{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:Ze(e)}get value(){return ae(Xe(this),0,"value"),this._value}set value(e){G(Xe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Ze(e),ue(Xe(this),"set","value",e))}}function rt(e,t=!1){return Qe(e)?e:new nt(e,t)}function ot(e){return Qe(e)?e.value:e}const it={get:(e,t,n)=>ot(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Qe(o)&&!Qe(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function st(e){return ze(e)?e:new Proxy(e,it)}function at(e){const t=S(e)?new Array(e.length):{};for(const n in e)t[n]=ct(e,n);return t}class ut{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function ct(e,t){return Qe(e[t])?e[t]:new ut(e,t)}class ft{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=Q(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ue(Xe(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),ae(Xe(this),0,"value"),this._value}set value(e){this._setter(e)}}function lt(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){ht(i,t,n)}return o}function pt(e,t,n,r){if(T(e)){const o=lt(e,t,n,r);return o&&R(o)&&o.catch((e=>{ht(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(pt(e[i],t,n,r));return o}function ht(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,i))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void lt(s,null,10,[e,o,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let dt=!1,yt=!1;const gt=[];let _t=0;const mt=[];let vt=null,bt=0;const wt=[];let Ot=null,St=0;const At=Promise.resolve();let Et=null,Nt=null;function Tt(e){const t=Et||At;return e?t.then(this?e.bind(this):e):t}function It(e){if(!(gt.length&&gt.includes(e,dt&&e.allowRecurse?_t+1:_t)||e===Nt)){const t=function(e){let t=_t+1,n=gt.length;const r=Dt(e);for(;t<n;){const e=t+n>>>1;Dt(gt[e])<r?t=e+1:n=e}return t}(e);t>-1?gt.splice(t,0,e):gt.push(e),Bt()}}function Bt(){dt||yt||(yt=!0,Et=At.then(Lt))}function Pt(e,t,n,r){S(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Bt()}function Rt(e,t=null){if(mt.length){for(Nt=t,vt=[...new Set(mt)],mt.length=0,bt=0;bt<vt.length;bt++)vt[bt]();vt=null,bt=0,Nt=null,Rt(e,t)}}function xt(e){if(wt.length){const e=[...new Set(wt)];if(wt.length=0,Ot)return void Ot.push(...e);for(Ot=e,Ot.sort(((e,t)=>Dt(e)-Dt(t))),St=0;St<Ot.length;St++)Ot[St]();Ot=null,St=0}}const Dt=e=>null==e.id?1/0:e.id;function Lt(e){yt=!1,dt=!0,Rt(e),gt.sort(((e,t)=>Dt(e)-Dt(t)));try{for(_t=0;_t<gt.length;_t++){const e=gt[_t];e&&lt(e,null,14)}}finally{_t=0,gt.length=0,xt(),dt=!1,Et=null,(gt.length||wt.length)&&Lt(e)}}function Ut(e,t,...n){const r=e.vnode.props||p;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=r[e]||p;i?o=n.map((e=>e.trim())):t&&(o=n.map(H))}let a=Y(C(t)),u=r[a];!u&&i&&(a=Y(F(t)),u=r[a]),u&&pt(u,e,6,o);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else(e.emitted={})[a]=!0;pt(c,e,6,o)}}function kt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const r=e.emits;let o={},i=!1;if(!T(e)){const r=e=>{i=!0,v(o,kt(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return r||i?(S(r)?r.forEach((e=>o[e]=null)):v(o,r),e.__emits=o):e.__emits=null}function jt(e,t){return!(!e||!_(t))&&(t=t.slice(2).replace(/Once$/,""),O(e,t[0].toLowerCase()+t.slice(1))||O(e,F(t))||O(e,t))}let Mt=null;function Ct(e){Mt=e}function qt(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:f,renderCache:l,data:p,setupState:h,ctx:d}=e;let y;Mt=e;try{let e;if(4&n.shapeFlag){const t=o||r;y=Lr(f.call(t,t,l,i,h,p,d)),e=u}else{const n=t;0,y=Lr(n.length>1?n(i,{attrs:u,slots:a,emit:c}):n(i,null)),e=t.props?u:$t(u)}let g=y;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=g;t.length&&(1&n||6&n)&&(s&&t.some(m)&&(e=Yt(e,s)),g=Pr(g,e))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),y=g}catch(g){ht(g,e,1),y=Br(_r)}return Mt=null,y}function Ft(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!Ar(r))return;if(r.type!==_r||"v-if"===r.children){if(t)return;t=r}}return t}const $t=e=>{let t;for(const n in e)("class"===n||"style"===n||_(n))&&((t||(t={}))[n]=e[n]);return t},Yt=(e,t)=>{const n={};for(const r in e)m(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Gt(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!jt(n,i))return!0}return!1}function Kt(e){if(T(e)&&(e=e()),S(e)){e=Ft(e)}return Lr(e)}let Wt=0;const Ht=e=>Wt+=e;function zt(e,t,n={},r){let o=e[t];Wt++,wr();const i=o&&Vt(o(n)),s=Sr(yr,{key:n.key||`_${t}`},i||(r?r():[]),i&&1===e._?64:-2);return Wt--,s}function Vt(e){return e.some((e=>!Ar(e)||e.type!==_r&&!(e.type===yr&&!Vt(e.children))))?e:null}function Jt(e,t=Mt){if(!t)return e;const n=(...n)=>{Wt||wr(!0);const r=Mt;Ct(t);const o=e(...n);return Ct(r),Wt||Or(),o};return n._c=!0,n}let Xt=null;const Zt=[];function Qt(e){Zt.push(Xt=e)}function en(){Zt.pop(),Xt=Zt[Zt.length-1]||null}function tn(e){return t=>Jt((function(){Qt(e);const n=t.apply(this,arguments);return en(),n}))}function nn(e,t,n,r=!1){const o={},i={};W(i,Nr,1),rn(e,t,o,i),n?e.props=r?o:He(o,!1,be,qe):e.type.props?e.props=o:e.props=i,e.attrs=i}function rn(e,t,n,r){const[o,i]=e.propsOptions;if(t)for(const s in t){const i=t[s];if(k(s))continue;let a;o&&O(o,a=C(s))?n[a]=i:jt(e.emitsOptions,s)||(r[s]=i)}if(i){const t=Xe(n);for(let r=0;r<i.length;r++){const s=i[r];n[s]=on(o,t,s,t[s],e)}}}function on(e,t,n,r,o){const i=e[n];if(null!=i){const e=O(i,"default");if(e&&void 0===r){const e=i.default;i.type!==Function&&T(e)?(ro(o),r=e(t),ro(null)):r=e}i[0]&&(O(t,n)||e?!i[1]||""!==r&&r!==F(n)||(r=!0):r=!1)}return r}function sn(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const r=e.props,o={},i=[];let s=!1;if(!T(e)){const r=e=>{s=!0;const[n,r]=sn(e,t,!0);v(o,n),r&&i.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!r&&!s)return e.__props=h;if(S(r))for(let a=0;a<r.length;a++){const e=C(r[a]);an(e)&&(o[e]=p)}else if(r)for(const a in r){const e=C(a);if(an(e)){const t=r[a],n=o[e]=S(t)||T(t)?{type:t}:t;if(n){const t=fn(Boolean,n.type),r=fn(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||O(n,"default"))&&i.push(e)}}}return e.__props=[o,i]}function an(e){return"$"!==e[0]}function un(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function cn(e,t){return un(e)===un(t)}function fn(e,t){if(S(t)){for(let n=0,r=t.length;n<r;n++)if(cn(t[n],e))return n}else if(T(t))return cn(t,e)?0:-1;return-1}function ln(e,t,n=to,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ie(),ro(n);const o=pt(t,n,e,r);return ro(null),se(),o});return r?o.unshift(i):o.push(i),i}}const pn=e=>(t,n=to)=>!io&&ln(e,t,n),hn=pn("bm"),dn=pn("m"),yn=pn("bu"),gn=pn("u"),_n=pn("bum"),mn=pn("um"),vn=pn("rtg"),bn=pn("rtc");function wn(e,t){return An(e,null,t)}const On={};function Sn(e,t,n){return An(e,t,n)}function An(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=p,a=to){let u,c,f=!1;if(Qe(e)?(u=()=>e.value,f=!!e._shallow):ze(e)?(u=()=>e,r=!0):u=S(e)?()=>e.map((e=>Qe(e)?e.value:ze(e)?Nn(e):T(e)?lt(e,a,2,[a&&a.proxy]):void 0)):T(e)?t?()=>lt(e,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),lt(e,a,3,[l])}:d,t&&r){const e=u;u=()=>Nn(e())}const l=e=>{c=_.options.onStop=()=>{lt(e,a,4)}};let h=S(e)?[]:On;const y=()=>{if(_.active)if(t){const e=_();(r||f||G(e,h))&&(c&&c(),pt(t,a,3,[e,h===On?void 0:h,l]),h=e)}else _()};let g;y.allowRecurse=!!t,g="sync"===o?y:"post"===o?()=>Qn(y,a&&a.suspense):()=>{!a||a.isMounted?function(e){Pt(e,vt,mt,bt)}(y):y()};const _=Q(u,{lazy:!0,onTrack:i,onTrigger:s,scheduler:g});return uo(_,a),t?n?y():h=_():"post"===o?Qn(_,a&&a.suspense):_(),()=>{ee(_),a&&b(a.effects,_)}}function En(e,t,n){const r=this.proxy;return An(I(e)?()=>r[e]:e.bind(r),t.bind(r),n,this)}function Nn(e,t=new Set){if(!P(e)||t.has(e))return e;if(t.add(e),Qe(e))Nn(e.value,t);else if(S(e))for(let n=0;n<e.length;n++)Nn(e[n],t);else if(E(e)||A(e))e.forEach((e=>{Nn(e,t)}));else for(const n in e)Nn(e[n],t);return e}function Tn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dn((()=>{e.isMounted=!0})),_n((()=>{e.isUnmounting=!0})),e}const In=[Function,Array],Bn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},setup(e,{slots:t}){const n=no(),r=Tn();let o;return()=>{const i=t.default&&Un(t.default(),!0);if(!i||!i.length)return;const s=Xe(e),{mode:a}=s,u=i[0];if(r.isLeaving)return xn(u);const c=Dn(u);if(!c)return xn(u);const f=Rn(c,s,r,n);Ln(c,f);const l=n.subTree,p=l&&Dn(l);let h=!1;const{getTransitionKey:d}=c.type;if(d){const e=d();void 0===o?o=e:e!==o&&(o=e,h=!0)}if(p&&p.type!==_r&&(!Er(c,p)||h)){const e=Rn(p,s,r,n);if(Ln(p,e),"out-in"===a)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},xn(u);"in-out"===a&&(e.delayLeave=(e,t,n)=>{Pn(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=n})}return u}}};function Pn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Rn(e,t,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:l,onLeave:p,onAfterLeave:h,onLeaveCancelled:d,onBeforeAppear:y,onAppear:g,onAfterAppear:_,onAppearCancelled:m}=t,v=String(e.key),b=Pn(n,e),w=(e,t)=>{e&&pt(e,r,9,t)},O={mode:i,persisted:s,beforeEnter(t){let r=a;if(!n.isMounted){if(!o)return;r=y||a}t._leaveCb&&t._leaveCb(!0);const i=b[v];i&&Er(e,i)&&i.el._leaveCb&&i.el._leaveCb(),w(r,[t])},enter(e){let t=u,r=c,i=f;if(!n.isMounted){if(!o)return;t=g||u,r=_||c,i=m||f}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?i:r,[e]),O.delayedLeave&&O.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();w(l,[t]);let i=!1;const s=t._leaveCb=n=>{i||(i=!0,r(),w(n?d:h,[t]),t._leaveCb=void 0,b[o]===e&&delete b[o])};b[o]=e,p?(p(t,s),p.length<=1&&s()):s()},clone:e=>Rn(e,t,n,r)};return O}function xn(e){if(kn(e))return(e=Pr(e)).children=null,e}function Dn(e){return kn(e)?e.children?e.children[0]:void 0:e}function Ln(e,t){6&e.shapeFlag&&e.component?Ln(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Un(e,t=!1){let n=[],r=0;for(let o=0;o<e.length;o++){const i=e[o];i.type===yr?(128&i.patchFlag&&r++,n=n.concat(Un(i.children,t))):(t||i.type!==_r)&&n.push(i)}if(r>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}const kn=e=>e.type.__isKeepAlive;function jn(e,t){Cn(e,"a",t)}function Mn(e,t){Cn(e,"da",t)}function Cn(e,t,n=to){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(ln(t,r,n),n){let e=n.parent;for(;e&&e.parent;)kn(e.parent.vnode)&&qn(r,t,n,e),e=e.parent}}function qn(e,t,n,r){const o=ln(t,e,r,!0);mn((()=>{b(r[t],o)}),n)}const Fn=e=>"_"===e[0]||"$stable"===e,$n=e=>S(e)?e.map(Lr):[Lr(e)],Yn=(e,t,n)=>Jt((e=>$n(t(e))),n),Gn=(e,t)=>{const n=e._ctx;for(const r in e){if(Fn(r))continue;const o=e[r];if(T(o))t[r]=Yn(0,o,n);else if(null!=o){const e=$n(o);t[r]=()=>e}}},Kn=(e,t)=>{const n=$n(t);e.slots.default=()=>n};function Wn(e,t){if(null===Mt)return e;const n=Mt.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,i,s,a=p]=t[o];T(e)&&(e={mounted:e,updated:e}),r.push({dir:e,instance:n,value:i,oldValue:void 0,arg:s,modifiers:a})}return e}function Hn(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);const u=a.dir[r];u&&pt(u,n,8,[e.el,a,e,t])}}function zn(){return{app:null,config:{isNativeTag:y,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:y,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Vn=0;function Jn(e,t){return function(n,r=null){null==r||P(r)||(r=null);const o=zn(),i=new Set;let s=!1;const a=o.app={_uid:Vn++,_component:n,_props:r,_container:null,_context:o,version:go,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&T(e.install)?(i.add(e),e.install(a,...t)):T(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0)),a),component:(e,t)=>t?(o.components[e]=t,a):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,a):o.directives[e],mount(i,u){if(!s){const c=Br(n,r);return c.appContext=o,u&&t?t(c,i):e(c,i),s=!0,a._container=i,i.__vue_app__=a,c.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,a)};return a}}function Xn(e){return T(e)?{setup:e,name:e.name}:e}const Zn={scheduler:It,allowRecurse:!0},Qn=function(e,t){t&&t.pendingBranch?S(e)?t.effects.push(...e):t.effects.push(e):Pt(e,Ot,wt,St)},er=(e,t,n,r)=>{if(S(e))return void e.forEach(((e,o)=>er(e,t&&(S(t)?t[o]:t),n,r)));let o;o=!r||(e=>!!e.type.__asyncLoader)(r)?null:4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el;const{i:i,r:s}=e,a=t&&t.r,u=i.refs===p?i.refs={}:i.refs,c=i.setupState;if(null!=a&&a!==s&&(I(a)?(u[a]=null,O(c,a)&&(c[a]=null)):Qe(a)&&(a.value=null)),I(s)){const e=()=>{u[s]=o,O(c,s)&&(c[s]=o)};o?(e.id=-1,Qn(e,n)):e()}else if(Qe(s)){const e=()=>{s.value=o};o?(e.id=-1,Qn(e,n)):e()}else T(s)&&lt(s,i,12,[o,u])};function tr(e){return function(e,t){const{insert:n,remove:r,patchProp:o,forcePatchProp:i,createElement:s,createText:a,createComment:u,setText:c,setElementText:f,parentNode:l,nextSibling:y,setScopeId:g=d,cloneNode:_,insertStaticContent:m}=e,b=(e,t,n,r=null,o=null,i=null,s=!1,a=!1)=>{e&&!Er(e,t)&&(r=re(e),J(e,o,i,!0),e=null),-2===t.patchFlag&&(a=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:f}=t;switch(u){case gr:w(e,t,n,r);break;case _r:S(e,t,n,r);break;case mr:null==e&&A(t,n,r,s);break;case yr:U(e,t,n,r,o,i,s,a);break;default:1&f?T(e,t,n,r,o,i,s,a):6&f?j(e,t,n,r,o,i,s,a):(64&f||128&f)&&u.process(e,t,n,r,o,i,s,a,ae)}null!=c&&o&&er(c,e&&e.ref,i,t)},w=(e,t,r,o)=>{if(null==e)n(t.el=a(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},S=(e,t,r,o)=>{null==e?n(t.el=u(t.children||""),r,o):t.el=e.el},A=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r)},E=({el:e,anchor:t},r,o)=>{let i;for(;e&&e!==t;)i=y(e),n(e,r,o),e=i;n(t,r,o)},N=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=y(e),r(e),e=n;r(t)},T=(e,t,n,r,o,i,s,a)=>{s=s||"svg"===t.type,null==e?I(t,n,r,o,i,s,a):x(e,t,o,i,s,a)},I=(e,t,r,i,a,u,c)=>{let l,p;const{type:h,props:d,shapeFlag:y,transition:g,scopeId:m,patchFlag:v,dirs:b}=e;if(e.el&&void 0!==_&&-1===v)l=e.el=_(e.el);else{if(l=e.el=s(e.type,u,d&&d.is),8&y?f(l,e.children):16&y&&P(e.children,l,null,i,a,u&&"foreignObject"!==h,c||!!e.dynamicChildren),b&&Hn(e,null,i,"created"),d){for(const t in d)k(t)||o(l,t,null,d[t],u,e.children,i,a,ne);(p=d.onVnodeBeforeMount)&&nr(p,i,e)}B(l,m,e,i)}b&&Hn(e,null,i,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;w&&g.beforeEnter(l),n(l,t,r),((p=d&&d.onVnodeMounted)||w||b)&&Qn((()=>{p&&nr(p,i,e),w&&g.enter(l),b&&Hn(e,null,i,"mounted")}),a)},B=(e,t,n,r)=>{if(t&&g(e,t),r){const o=r.type.__scopeId;o&&o!==t&&g(e,o+"-s"),n===r.subTree&&B(e,r.vnode.scopeId,r.vnode,r.parent)}},P=(e,t,n,r,o,i,s,a=0)=>{for(let u=a;u<e.length;u++){const a=e[u]=s?Ur(e[u]):Lr(e[u]);b(null,a,t,n,r,o,i,s)}},x=(e,t,n,r,s,a)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:l,dirs:h}=t;c|=16&e.patchFlag;const d=e.props||p,y=t.props||p;let g;if((g=y.onVnodeBeforeUpdate)&&nr(g,n,t,e),h&&Hn(t,e,n,"beforeUpdate"),c>0){if(16&c)L(u,t,d,y,n,r,s);else if(2&c&&d.class!==y.class&&o(u,"class",null,y.class,s),4&c&&o(u,"style",d.style,y.style,s),8&c){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const c=a[t],f=d[c],l=y[c];(l!==f||i&&i(u,c))&&o(u,c,f,l,s,e.children,n,r,ne)}}1&c&&e.children!==t.children&&f(u,t.children)}else a||null!=l||L(u,t,d,y,n,r,s);const _=s&&"foreignObject"!==t.type;l?D(e.dynamicChildren,l,u,n,r,_):a||G(e,t,u,null,n,r,_),((g=y.onVnodeUpdated)||h)&&Qn((()=>{g&&nr(g,n,t,e),h&&Hn(t,e,n,"updated")}),r)},D=(e,t,n,r,o,i)=>{for(let s=0;s<t.length;s++){const a=e[s],u=t[s],c=a.type===yr||!Er(a,u)||6&a.shapeFlag||64&a.shapeFlag?l(a.el):n;b(a,u,c,null,r,o,i,!0)}},L=(e,t,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(k(c))continue;const f=r[c],l=n[c];(f!==l||i&&i(e,c))&&o(e,c,l,f,u,t.children,s,a,ne)}if(n!==p)for(const i in n)k(i)||i in r||o(e,i,n[i],null,u,t.children,s,a,ne)}},U=(e,t,r,o,i,s,u,c)=>{const f=t.el=e?e.el:a(""),l=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:h}=t;p>0&&(c=!0),null==e?(n(f,r,o),n(l,r,o),P(t.children,r,l,i,s,u,c)):p>0&&64&p&&h&&e.dynamicChildren?(D(e.dynamicChildren,h,r,i,s,u),(null!=t.key||i&&t===i.subTree)&&rr(e,t,!0)):G(e,t,r,l,i,s,u,c)},j=(e,t,n,r,o,i,s,a)=>{null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,s,a):M(t,n,r,o,i,s,a):q(e,t,a)},M=(e,t,n,r,o,i,s)=>{const a=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Qr,i={uid:eo++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sn(r,o),emitsOptions:kt(r,o),emit:null,emitted:null,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ut.bind(null,i),i}(e,r,o);if(kn(e)&&(a.ctx.renderer=ae),function(e,t=!1){io=t;const{props:n,children:r}=e.vnode,o=oo(e);nn(e,n,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,W(t,"_",n)):Gn(t,e.slots={})}else e.slots={},t&&Kn(e,t);W(e.slots,Nr,1)})(e,r);const i=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xr);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=st(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;to=e,ie();const o=lt(r,e,0,[e.props,n]);if(se(),to=null,R(o)){if(t)return o.then((t=>{so(e,t)}));e.asyncDep=o}else so(e,o)}else ao(e)}(e,t):void 0;io=!1}(a),a.asyncDep){if(o&&o.registerDep(a,$),!e.el){const e=a.subTree=Br(_r);S(null,e,t,n)}}else $(a,e,t,n,o,i,s)},q=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!o&&!a||a&&a.$stable)||r!==s&&(r?!s||Gt(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Gt(r,s,c):!!s;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!jt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void Y(r,t,n);r.next=t,function(e){const t=gt.indexOf(e);t>-1&&gt.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},$=(e,t,n,r,o,i,s)=>{e.update=Q((function(){if(e.isMounted){let t,{next:n,bu:r,u:a,parent:u,vnode:c}=e,f=n;n?(n.el=c.el,Y(e,n,s)):n=c,r&&K(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&nr(t,u,n,c);const p=qt(e),h=e.subTree;e.subTree=p,b(h,p,l(h.el),re(h),e,o,i),n.el=p.el,null===f&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,p.el),a&&Qn(a,o),(t=n.props&&n.props.onVnodeUpdated)&&Qn((()=>{nr(t,u,n,c)}),o)}else{let s;const{el:a,props:u}=t,{bm:c,m:f,parent:l}=e;c&&K(c),(s=u&&u.onVnodeBeforeMount)&&nr(s,l,t);const p=e.subTree=qt(e);if(a&&fe?fe(t.el,p,e,o):(b(null,p,n,r,e,o,i),t.el=p.el),f&&Qn(f,o),s=u&&u.onVnodeMounted){const e=t;Qn((()=>{nr(s,l,e)}),o)}const{a:h}=e;h&&256&t.shapeFlag&&Qn(h,o),e.isMounted=!0,t=n=r=null}}),Zn)},Y=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=Xe(o),[u]=e.propsOptions;if(!(r||s>0)||16&s){let r;rn(e,t,o,i);for(const i in a)t&&(O(t,i)||(r=F(i))!==i&&O(t,r))||(u?!n||void 0===n[i]&&void 0===n[r]||(o[i]=on(u,t||p,i,void 0,e)):delete o[i]);if(i!==a)for(const e in i)t&&O(t,e)||delete i[e]}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=t[s];if(u)if(O(i,s))i[s]=c;else{const t=C(s);o[t]=on(u,a,t,c,e)}else i[s]=c}}ue(e,"set","$attrs")}(e,t.props,r,n),((e,t)=>{const{vnode:n,slots:r}=e;let o=!0,i=p;if(32&n.shapeFlag){const e=t._;e?1===e?o=!1:v(r,t):(o=!t.$stable,Gn(t,r)),i=t}else t&&(Kn(e,t),i={default:1});if(o)for(const s in r)Fn(s)||s in i||delete r[s]})(e,t.children),Rt(void 0,e.update)},G=(e,t,n,r,o,i,s,a=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,l=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void z(u,l,n,r,o,i,s,a);if(256&p)return void H(u,l,n,r,o,i,s,a)}8&h?(16&c&&ne(u,o,i),l!==u&&f(n,l)):16&c?16&h?z(u,l,n,r,o,i,s,a):ne(u,o,i,!0):(8&c&&f(n,""),16&h&&P(l,n,r,o,i,s,a))},H=(e,t,n,r,o,i,s,a)=>{t=t||h;const u=(e=e||h).length,c=t.length,f=Math.min(u,c);let l;for(l=0;l<f;l++){const r=t[l]=a?Ur(t[l]):Lr(t[l]);b(e[l],r,n,null,o,i,s,a)}u>c?ne(e,o,i,!0,!1,f):P(t,n,r,o,i,s,a,f)},z=(e,t,n,r,o,i,s,a)=>{let u=0;const c=t.length;let f=e.length-1,l=c-1;for(;u<=f&&u<=l;){const r=e[u],c=t[u]=a?Ur(t[u]):Lr(t[u]);if(!Er(r,c))break;b(r,c,n,null,o,i,s,a),u++}for(;u<=f&&u<=l;){const r=e[f],u=t[l]=a?Ur(t[l]):Lr(t[l]);if(!Er(r,u))break;b(r,u,n,null,o,i,s,a),f--,l--}if(u>f){if(u<=l){const e=l+1,f=e<c?t[e].el:r;for(;u<=l;)b(null,t[u]=a?Ur(t[u]):Lr(t[u]),n,f,o,i,s),u++}}else if(u>l)for(;u<=f;)J(e[u],o,i,!0),u++;else{const p=u,d=u,y=new Map;for(u=d;u<=l;u++){const e=t[u]=a?Ur(t[u]):Lr(t[u]);null!=e.key&&y.set(e.key,u)}let g,_=0;const m=l-d+1;let v=!1,w=0;const O=new Array(m);for(u=0;u<m;u++)O[u]=0;for(u=p;u<=f;u++){const r=e[u];if(_>=m){J(r,o,i,!0);continue}let c;if(null!=r.key)c=y.get(r.key);else for(g=d;g<=l;g++)if(0===O[g-d]&&Er(r,t[g])){c=g;break}void 0===c?J(r,o,i,!0):(O[c-d]=u+1,c>=w?w=c:v=!0,b(r,t[c],n,null,o,i,s,a),_++)}const S=v?function(e){const t=e.slice(),n=[0];let r,o,i,s,a;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(o=n[n.length-1],e[o]<u){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=(i+s)/2|0,e[n[a]]<u?i=a+1:s=a;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,s=n[i-1];for(;i-- >0;)n[i]=s,s=t[s];return n}(O):h;for(g=S.length-1,u=m-1;u>=0;u--){const e=d+u,a=t[e],f=e+1<c?t[e+1].el:r;0===O[u]?b(null,a,n,f,o,i,s):v&&(g<0||u!==S[g]?V(a,n,f,2):g--)}}},V=(e,t,r,o,i=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:f}=e;if(6&f)return void V(e.component.subTree,t,r,o);if(128&f)return void e.suspense.move(t,r,o);if(64&f)return void a.move(e,t,r,ae);if(a===yr){n(s,t,r);for(let e=0;e<c.length;e++)V(c[e],t,r,o);return void n(e.anchor,t,r)}if(a===mr)return void E(e,t,r);if(2!==o&&1&f&&u)if(0===o)u.beforeEnter(s),n(s,t,r),Qn((()=>u.enter(s)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=u,a=()=>n(s,t,r),c=()=>{e(s,(()=>{a(),i&&i()}))};o?o(s,a,c):c()}else n(s,t,r)},J=(e,t,n,r=!1,o=!1)=>{const{type:i,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:f,patchFlag:l,dirs:p}=e;if(null!=a&&er(a,null,n,null),256&f)return void t.ctx.deactivate(e);const h=1&f&&p;let d;if((d=s&&s.onVnodeBeforeUnmount)&&nr(d,t,e),6&f)te(e.component,n,r);else{if(128&f)return void e.suspense.unmount(n,r);h&&Hn(e,null,t,"beforeUnmount"),c&&(i!==yr||l>0&&64&l)?ne(c,t,n,!1,!0):(i===yr&&(128&l||256&l)||!o&&16&f)&&ne(u,t,n),64&f&&(r||!or(e.props))&&e.type.remove(e,ae),r&&X(e)}((d=s&&s.onVnodeUnmounted)||h)&&Qn((()=>{d&&nr(d,t,e),h&&Hn(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:o,transition:i}=e;if(t===yr)return void Z(n,o);if(t===mr)return void N(e);const s=()=>{r(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},Z=(e,t)=>{let n;for(;e!==t;)n=y(e),r(e),e=n;r(t)},te=(e,t,n)=>{const{bum:r,effects:o,update:i,subTree:s,um:a}=e;if(r&&K(r),o)for(let u=0;u<o.length;u++)ee(o[u]);i&&(ee(i),J(s,e,t,n)),a&&Qn(a,t),Qn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ne=(e,t,n,r=!1,o=!1,i=0)=>{for(let s=i;s<e.length;s++)J(e[s],t,n,r,o)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():y(e.anchor||e.el),oe=(e,t)=>{null==e?t._vnode&&J(t._vnode,null,null,!0):b(t._vnode||null,e,t),xt(),t._vnode=e},ae={p:b,um:J,m:V,r:X,mt:M,mc:P,pc:G,pbc:D,n:re,o:e};let ce,fe;t&&([ce,fe]=t(ae));return{render:oe,hydrate:ce,createApp:Jn(oe,ce)}}(e)}function nr(e,t,n,r=null){pt(e,t,7,[n,r])}function rr(e,t,n=!1){const r=e.children,o=t.children;if(S(r)&&S(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Ur(o[i]),t.el=e.el),n||rr(e,t))}}const or=e=>e&&(e.disabled||""===e.disabled),ir=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,sr=(e,t)=>{const n=e&&e.to;if(I(n)){if(t){return t(n)}return null}return n};function ar(e,t,n,{o:{insert:r},m:o},i=2){0===i&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:u,children:c,props:f}=e,l=2===i;if(l&&r(s,t,n),(!l||or(f))&&16&u)for(let p=0;p<c.length;p++)o(c[p],t,n,2);l&&r(a,t,n)}const ur={__isTeleport:!0,process(e,t,n,r,o,i,s,a,u){const{mc:c,pc:f,pbc:l,o:{insert:p,querySelector:h,createText:d,createComment:y}}=u,g=or(t.props),{shapeFlag:_,children:m}=t;if(null==e){const e=t.el=d(""),u=t.anchor=d("");p(e,n,r),p(u,n,r);const f=t.target=sr(t.props,h),l=t.targetAnchor=d("");f&&(p(l,f),s=s||ir(f));const y=(e,t)=>{16&_&&c(m,e,t,o,i,s,a)};g?y(n,u):f&&y(f,l)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,p=t.targetAnchor=e.targetAnchor,d=or(e.props),y=d?n:c,_=d?r:p;if(s=s||ir(c),t.dynamicChildren?(l(e.dynamicChildren,t.dynamicChildren,y,o,i,s),rr(e,t,!0)):a||f(e,t,y,_,o,i,s),g)d||ar(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=sr(t.props,h);e&&ar(t,e,null,u,0)}else d&&ar(t,c,p,u,1)}},remove(e,{r:t,o:{remove:n}}){const{shapeFlag:r,children:o,anchor:i}=e;if(n(i),16&r)for(let s=0;s<o.length;s++)t(o[s])},move:ar,hydrate:function(e,t,n,r,o,{o:{nextSibling:i,parentNode:s,querySelector:a}},u){const c=t.target=sr(t.props,a);if(c){const a=c._lpa||c.firstChild;16&t.shapeFlag&&(or(t.props)?(t.anchor=u(i(e),t,s(e),n,r,o),t.targetAnchor=a):(t.anchor=i(e),t.targetAnchor=u(a,t,c,n,r,o)),c._lpa=t.targetAnchor&&i(t.targetAnchor))}return t.anchor&&i(t.anchor)}};function cr(e){return hr("components",e)||e}const fr=Symbol();function lr(e){return I(e)?hr("components",e,!1)||e:e||fr}function pr(e){return hr("directives",e)}function hr(e,t,n=!0){const r=Mt||to;if(r){const n=r.type;if("components"===e){if("_self"===t)return n;const e=co(n);if(e&&(e===t||e===C(t)||e===$(C(t))))return n}return dr(r[e]||n[e],t)||dr(r.appContext[e],t)}}function dr(e,t){return e&&(e[t]||e[C(t)]||e[$(C(t))])}const yr=Symbol(void 0),gr=Symbol(void 0),_r=Symbol(void 0),mr=Symbol(void 0),vr=[];let br=null;function wr(e=!1){vr.push(br=e?null:[])}function Or(){vr.pop(),br=vr[vr.length-1]||null}function Sr(e,t,n,r,o){const i=Br(e,t,n,r,o,!0);return i.dynamicChildren=br||h,Or(),br&&br.push(i),i}function Ar(e){return!!e&&!0===e.__v_isVNode}function Er(e,t){return e.type===t.type&&e.key===t.key}const Nr="__vInternal",Tr=({key:e})=>null!=e?e:null,Ir=({ref:e})=>null!=e?I(e)||Qe(e)||T(e)?{i:Mt,r:e}:e:null,Br=function(e,t=null,n=null,o=0,i=null,s=!1){e&&e!==fr||(e=_r);if(Ar(e)){const r=Pr(e,t,!0);return n&&kr(r,n),r}u=e,T(u)&&"__vccOpts"in u&&(e=e.__vccOpts);var u;if(t){(Je(t)||Nr in t)&&(t=v({},t));let{class:e,style:n}=t;e&&!I(e)&&(t.class=a(e)),P(n)&&(Je(n)&&!S(n)&&(n=v({},n)),t.style=r(n))}const c=I(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:P(e)?4:T(e)?2:0,f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tr(t),ref:t&&Ir(t),scopeId:Xt,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null};if(kr(f,n),128&c){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let r,o;return 32&t?(r=Kt(n.default),o=Kt(n.fallback)):(r=Kt(n),o=Lr(null)),{content:r,fallback:o}}(f);f.ssContent=e,f.ssFallback=t}!s&&br&&(o>0||6&c)&&32!==o&&br.push(f);return f};function Pr(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,a=t?jr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Tr(a),ref:t&&t.ref?n&&o?S(o)?o.concat(Ir(t)):[o,Ir(t)]:Ir(t):o,scopeId:e.scopeId,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yr?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pr(e.ssContent),ssFallback:e.ssFallback&&Pr(e.ssFallback),el:e.el,anchor:e.anchor}}function Rr(e=" ",t=0){return Br(gr,null,e,t)}function xr(e,t){const n=Br(mr,null,e);return n.staticCount=t,n}function Dr(e="",t=!1){return t?(wr(),Sr(_r,null,e)):Br(_r,null,e)}function Lr(e){return null==e||"boolean"==typeof e?Br(_r):S(e)?Br(yr,null,e):"object"==typeof e?null===e.el?e:Pr(e):Br(gr,null,String(e))}function Ur(e){return null===e.el?e:Pr(e)}function kr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(S(t))n=16;else if("object"==typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&Ht(1),kr(e,n()),n._c&&Ht(-1)))}{n=32;const r=t._;r||Nr in t?3===r&&Mt&&(1024&Mt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=Mt}}else T(t)?(t={default:t,_ctx:Mt},n=32):(t=String(t),64&r?(n=16,t=[Rr(t)]):n=8);e.children=t,e.shapeFlag|=n}function jr(...e){const t=v({},e[0]);for(let n=1;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=a([t.class,o.class]));else if("style"===e)t.style=r([t.style,o.style]);else if(_(e)){const n=t[e],r=o[e];n!==r&&(t[e]=n?[].concat(n,o[e]):r)}else""!==e&&(t[e]=o[e])}return t}function Mr(e,t){if(to){let n=to.provides;const r=to.parent&&to.parent.provides;r===n&&(n=to.provides=Object.create(r)),n[e]=t}else;}function Cr(e,t,n=!1){const r=to||Mt;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&T(t)?t():t}}let qr=!1;function Fr(e,t,n=[],r=[],o=[],i=!1){const{mixins:s,extends:a,data:u,computed:c,methods:f,watch:l,provide:h,inject:y,components:g,directives:_,beforeMount:m,mounted:b,beforeUpdate:w,updated:O,activated:A,deactivated:E,beforeDestroy:N,beforeUnmount:I,destroyed:B,unmounted:R,render:x,renderTracked:D,renderTriggered:L,errorCaptured:U,expose:k}=t,j=e.proxy,M=e.ctx,C=e.appContext.mixins;if(i&&x&&e.render===d&&(e.render=x),i||(qr=!0,$r("beforeCreate","bc",t,e,C),qr=!1,Kr(e,C,n,r,o)),a&&Fr(e,a,n,r,o,!0),s&&Kr(e,s,n,r,o),y)if(S(y))for(let p=0;p<y.length;p++){const e=y[p];M[e]=Cr(e)}else for(const p in y){const e=y[p];P(e)?M[p]=Cr(e.from||p,e.default,!0):M[p]=Cr(e)}if(f)for(const p in f){const e=f[p];T(e)&&(M[p]=e.bind(j))}if(i?u&&n.push(u):(n.length&&n.forEach((t=>Wr(e,t,j))),u&&Wr(e,u,j)),c)for(const p in c){const e=c[p],t=fo({get:T(e)?e.bind(j,j):T(e.get)?e.get.bind(j,j):d,set:!T(e)&&T(e.set)?e.set.bind(j):d});Object.defineProperty(M,p,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}if(l&&r.push(l),!i&&r.length&&r.forEach((e=>{for(const t in e)Hr(e[t],M,j,t)})),h&&o.push(h),!i&&o.length&&o.forEach((e=>{const t=T(e)?e.call(j):e;Reflect.ownKeys(t).forEach((e=>{Mr(e,t[e])}))})),i&&(g&&v(e.components||(e.components=v({},e.type.components)),g),_&&v(e.directives||(e.directives=v({},e.type.directives)),_)),i||$r("created","c",t,e,C),m&&hn(m.bind(j)),b&&dn(b.bind(j)),w&&yn(w.bind(j)),O&&gn(O.bind(j)),A&&jn(A.bind(j)),E&&Mn(E.bind(j)),U&&((e,t=to)=>{ln("ec",e,t)})(U.bind(j)),D&&bn(D.bind(j)),L&&vn(L.bind(j)),I&&_n(I.bind(j)),R&&mn(R.bind(j)),S(k)&&!i)if(k.length){const t=e.exposed||(e.exposed=st({}));k.forEach((e=>{t[e]=ct(j,e)}))}else e.exposed||(e.exposed=p)}function $r(e,t,n,r,o){Gr(e,t,o,r);const{extends:i,mixins:s}=n;i&&Yr(e,t,i,r),s&&Gr(e,t,s,r);const a=n[e];a&&pt(a.bind(r.proxy),r,t)}function Yr(e,t,n,r){n.extends&&Yr(e,t,n.extends,r);const o=n[e];o&&pt(o.bind(r.proxy),r,t)}function Gr(e,t,n,r){for(let o=0;o<n.length;o++){const i=n[o].mixins;i&&Gr(e,t,i,r);const s=n[o][e];s&&pt(s.bind(r.proxy),r,t)}}function Kr(e,t,n,r,o){for(let i=0;i<t.length;i++)Fr(e,t[i],n,r,o,!0)}function Wr(e,t,n){const r=t.call(n,n);P(r)&&(e.data===p?e.data=Ke(r):v(e.data,r))}function Hr(e,t,n,r){const o=r.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,r):()=>n[r];if(I(e)){const n=t[e];T(n)&&Sn(o,n)}else if(T(e))Sn(o,e.bind(n));else if(P(e))if(S(e))e.forEach((e=>Hr(e,t,n,r)));else{const r=T(e.handler)?e.handler.bind(n):t[e.handler];T(r)&&Sn(o,r,e)}}function zr(e,t,n){const r=n.appContext.config.optionMergeStrategies,{mixins:o,extends:i}=t;i&&zr(e,i,n),o&&o.forEach((t=>zr(e,t,n)));for(const s in t)r&&O(r,s)?e[s]=r[s](e[s],t[s],n.proxy,s):e[s]=t[s]}const Vr=e=>e?oo(e)?e.exposed?e.exposed:e.proxy:Vr(e.parent):null,Jr=v(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vr(e.parent),$root:e=>Vr(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:r,extends:o}=t;if(n)return n;const i=e.appContext.mixins;if(!i.length&&!r&&!o)return t;const s={};return i.forEach((t=>zr(s,t,e))),zr(s,t,e),t.__merged=s}(e),$forceUpdate:e=>()=>It(e.update),$nextTick:e=>Tt.bind(e.proxy),$watch:e=>En.bind(e)}),Xr={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return i[t]}else{if(r!==p&&O(r,t))return s[t]=0,r[t];if(o!==p&&O(o,t))return s[t]=1,o[t];if((c=e.propsOptions[0])&&O(c,t))return s[t]=2,i[t];if(n!==p&&O(n,t))return s[t]=3,n[t];qr||(s[t]=4)}}const f=Jr[t];let l,h;return f?("$attrs"===t&&ae(e,0,t),f(e)):(l=a.__cssModules)&&(l=l[t])?l:n!==p&&O(n,t)?(s[t]=3,n[t]):(h=u.config.globalProperties,O(h,t)?h[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;if(o!==p&&O(o,t))o[t]=n;else if(r!==p&&O(r,t))r[t]=n;else if(O(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return void 0!==n[s]||e!==p&&O(e,s)||t!==p&&O(t,s)||(a=i[0])&&O(a,s)||O(r,s)||O(Jr,s)||O(o.config.globalProperties,s)}},Zr=v({},Xr,{get(e,t){if(t!==Symbol.unscopables)return Xr.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),Qr=zn();let eo=0;let to=null;const no=()=>to||Mt,ro=e=>{to=e};function oo(e){return 4&e.vnode.shapeFlag}let io=!1;function so(e,t,n){T(t)?e.render=t:P(t)&&(e.setupState=st(t)),ao(e)}function ao(e,t){const n=e.type;e.render||(e.render=n.render||d,e.render._rc&&(e.withProxy=new Proxy(e.ctx,Zr))),to=e,ie(),Fr(e,n),se(),to=null}function uo(e,t=to){t&&(t.effects||(t.effects=[])).push(e)}function co(e){return T(e)&&e.displayName||e.name}function fo(e){const t=function(e){let t,n;return T(e)?(t=e,n=d):(t=e.get,n=e.set),new ft(t,n,T(e)||!e.set)}(e);return uo(t.effect),t}function lo(e,t,n){const r=arguments.length;return 2===r?P(t)&&!S(t)?Ar(t)?Br(e,null,[t]):Br(e,t):Br(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Ar(n)&&(n=[n]),Br(e,t,n))}function po(e,t){let n;if(S(e)||I(e)){n=new Array(e.length);for(let r=0,o=e.length;r<o;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(P(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,i=r.length;o<i;o++){const i=r[o];n[o]=t(e[i],i,o)}}else n=[];return n}function ho(e){const t={};for(const n in e)t[Y(n)]=e[n];return t}function yo(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(S(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}const go="3.0.7",_o="http://www.w3.org/2000/svg",mo="undefined"!=typeof document?document:null;let vo,bo;const wo={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n)=>t?mo.createElementNS(_o,e):mo.createElement(e,n?{is:n}:void 0),createText:e=>mo.createTextNode(e),createComment:e=>mo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,n,r){const o=r?bo||(bo=mo.createElementNS(_o,"svg")):vo||(vo=mo.createElement("div"));o.innerHTML=e;const i=o.firstChild;let s=i,a=s;for(;s;)a=s,wo.insert(s,t,n),s=o.firstChild;return[i,a]}};const Oo=/\s*!important$/;function So(e,t,n){if(S(n))n.forEach((n=>So(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=Eo[t];if(n)return n;let r=C(t);if("filter"!==r&&r in e)return Eo[t]=r;r=$(r);for(let o=0;o<Ao.length;o++){const n=Ao[o]+r;if(n in e)return Eo[t]=n}return t}(e,t);Oo.test(n)?e.setProperty(F(r),n.replace(Oo,""),"important"):e[r]=n}}const Ao=["Webkit","Moz","ms"],Eo={};const No="http://www.w3.org/1999/xlink";let To=Date.now;"undefined"!=typeof document&&To()>document.createEvent("Event").timeStamp&&(To=()=>performance.now());let Io=0;const Bo=Promise.resolve(),Po=()=>{Io=0};function Ro(e,t,n,r){e.addEventListener(t,n,r)}function xo(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[n,a]=function(e){let t;if(Do.test(e)){let n;for(t={};n=e.match(Do);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[F(e.slice(2)),t]}(t);if(r){Ro(e,n,i[t]=function(e,t){const n=e=>{(e.timeStamp||To())>=n.attached-1&&pt(function(e,t){if(S(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Io||(Bo.then(Po),Io=To()))(),n}(r,o),a)}else s&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,a),i[t]=void 0)}}const Do=/(?:Once|Passive|Capture)$/;const Lo=/^on[a-z]/;const Uo=(e,{slots:t})=>lo(Bn,Mo(e),t);Uo.displayName="Transition";const ko={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jo=Uo.props=v({},Bn.props,ko);function Mo(e){let{name:t="v",type:n,css:r=!0,duration:o,enterFromClass:i=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:u=i,appearActiveClass:c=s,appearToClass:f=a,leaveFromClass:l=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=e;const d={};for(const v in e)v in ko||(d[v]=e[v]);if(!r)return d;const y=function(e){if(null==e)return null;if(P(e))return[Co(e.enter),Co(e.leave)];{const t=Co(e);return[t,t]}}(o),g=y&&y[0],_=y&&y[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:w,onLeave:O,onLeaveCancelled:S,onBeforeAppear:A=m,onAppear:E=b,onAppearCancelled:N=w}=d,T=(e,t,n)=>{Fo(e,t?f:a),Fo(e,t?c:s),n&&n()},I=(e,t)=>{Fo(e,h),Fo(e,p),t&&t()},B=e=>(t,r)=>{const o=e?E:b,s=()=>T(t,e,r);o&&o(t,s),$o((()=>{Fo(t,e?u:i),qo(t,e?f:a),o&&o.length>1||Go(t,n,g,s)}))};return v(d,{onBeforeEnter(e){m&&m(e),qo(e,i),qo(e,s)},onBeforeAppear(e){A&&A(e),qo(e,u),qo(e,c)},onEnter:B(!1),onAppear:B(!0),onLeave(e,t){const r=()=>I(e,t);qo(e,l),zo(),qo(e,p),$o((()=>{Fo(e,l),qo(e,h),O&&O.length>1||Go(e,n,_,r)})),O&&O(e,r)},onEnterCancelled(e){T(e,!1),w&&w(e)},onAppearCancelled(e){T(e,!0),N&&N(e)},onLeaveCancelled(e){I(e),S&&S(e)}})}function Co(e){return H(e)}function qo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Fo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function $o(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Yo=0;function Go(e,t,n,r){const o=e._endId=++Yo,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:s,timeout:a,propCount:u}=Ko(e,t);if(!s)return r();const c=s+"end";let f=0;const l=()=>{e.removeEventListener(c,p),i()},p=t=>{t.target===e&&++f>=u&&l()};setTimeout((()=>{f<u&&l()}),a+1),e.addEventListener(c,p)}function Ko(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r("transitionDelay"),i=r("transitionDuration"),s=Wo(o,i),a=r("animationDelay"),u=r("animationDuration"),c=Wo(a,u);let f=null,l=0,p=0;"transition"===t?s>0&&(f="transition",l=s,p=i.length):"animation"===t?c>0&&(f="animation",l=c,p=u.length):(l=Math.max(s,c),f=l>0?s>c?"transition":"animation":null,p=f?"transition"===f?i.length:u.length:0);return{type:f,timeout:l,propCount:p,hasTransform:"transition"===f&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function Wo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Ho(t)+Ho(e[n]))))}function Ho(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function zo(){return document.body.offsetHeight}const Vo=new WeakMap,Jo=new WeakMap,Xo={name:"TransitionGroup",props:v({},jo,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=no(),r=Tn();let o,i;return gn((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=Ko(r);return o.removeChild(r),i}(o[0].el,n.vnode.el,t))return;o.forEach(Zo),o.forEach(Qo);const r=o.filter(ei);zo(),r.forEach((e=>{const n=e.el,r=n.style;qo(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const o=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,Fo(n,t))};n.addEventListener("transitionend",o)}))})),()=>{const s=Xe(e),a=Mo(s),u=s.tag||yr;o=i,i=t.default?Un(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&Ln(t,Rn(t,a,r,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];Ln(t,Rn(t,a,r,n)),Vo.set(t,t.el.getBoundingClientRect())}return Br(u,null,i)}}};function Zo(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Qo(e){Jo.set(e,e.el.getBoundingClientRect())}function ei(e){const t=Vo.get(e),n=Jo.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${o}px)`,t.transitionDuration="0s",e}}const ti=e=>{const t=e.props["onUpdate:modelValue"];return S(t)?e=>K(t,e):t};function ni(e){e.target.composing=!0}function ri(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const oi={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=ti(o);const i=r||"number"===e.type;Ro(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():i&&(r=H(r)),e._assign(r)})),n&&Ro(e,"change",(()=>{e.value=e.value.trim()})),t||(Ro(e,"compositionstart",ni),Ro(e,"compositionend",ri),Ro(e,"change",ri))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:r}},o){if(e._assign=ti(o),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&H(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}},ii={created(e,t,n){e._assign=ti(n),Ro(e,"change",(()=>{const t=e._modelValue,n=ui(e),r=e.checked,o=e._assign;if(S(t)){const e=c(t,n),i=-1!==e;if(r&&!i)o(t.concat(n));else if(!r&&i){const n=[...t];n.splice(e,1),o(n)}}else if(E(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(ci(e,r))}))},mounted:si,beforeUpdate(e,t,n){e._assign=ti(n),si(e,t,n)}};function si(e,{value:t,oldValue:n},r){e._modelValue=t,S(t)?e.checked=c(t,r.props.value)>-1:E(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=u(t,ci(e,!0)))}const ai={created(e,{value:t},n){e.checked=u(t,n.props.value),e._assign=ti(n),Ro(e,"change",(()=>{e._assign(ui(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ti(r),t!==n&&(e.checked=u(t,r.props.value))}};function ui(e){return"_value"in e?e._value:e.value}function ci(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const fi=["ctrl","shift","alt","meta"],li={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>fi.some((n=>e[`${n}Key`]&&!t.includes(n)))},pi=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=li[t[e]];if(r&&r(n,t))return}return e(n,...r)},hi={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},di=(e,t)=>n=>{if(!("key"in n))return;const r=F(n.key);return t.some((e=>e===r||hi[e]===r))?e(n):void 0},yi={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):gi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),gi(e,!0),r.enter(e)):r.leave(e,(()=>{gi(e,!1)})):gi(e,t))},beforeUnmount(e,{value:t}){gi(e,t)}};function gi(e,t){e.style.display=t?e._vod:"none"}const _i=v({patchProp:(e,t,r,o,i=!1,s,a,u,c)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,o,i);break;case"style":!function(e,t,n){const r=e.style;if(n)if(I(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)So(r,e,n[e]);if(t&&!I(t))for(const e in t)null==n[e]&&So(r,e,"")}else e.removeAttribute("style")}(e,r,o);break;default:_(t)?m(t)||xo(e,t,0,o,a):function(e,t,n,r){if(r)return"innerHTML"===t||!!(t in e&&Lo.test(t)&&T(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Lo.test(t)&&I(n))return!1;return t in e}(e,t,o,i)?function(e,t,n,r,o,i,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,o,i),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(a){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,o,s,a,u,c):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,r,o){if(o&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(No,t.slice(6,t.length)):e.setAttributeNS(No,t,r);else{const o=n(t);null==r||o&&!1===r?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}(e,t,o,i))}},forcePatchProp:(e,t)=>"value"===t},wo);let mi;function vi(){return mi||(mi=tr(_i))}const bi=(...e)=>{vi().render(...e)},wi=(...e)=>{const t=vi().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(I(e)){return document.querySelector(e)}return e}(e);if(!r)return;const o=t._component;T(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const i=n(r);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};var Oi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Si(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function Ai(e){var t={exports:{}};return e(t,t.exports),t.exports}var Ei,Ni,Ti=Ai((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var n="@cloudbase/js-sdk";t.setSdkName=function(e){n=e},t.getSdkName=function(){return n};var r="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";t.setProtocol=function(e){r=e},t.getProtocol=function(){return r},t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"})),Ii=Ai((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}})),Bi=Ai((function(e,t){var n=Oi&&Oi.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Oi&&Oi.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ti,t),r(Ii,t)}));(Ni=Ei||(Ei={})).local="local",Ni.none="none",Ni.session="session";var Pi=function(){},Ri=function(){};function xi(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t}var Di,Li=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get StorageType(){return Ei},AbstractSDKRequest:Pi,AbstractStorage:Ri,formatUrl:xi}),Ui=Ai((function(e,t){var n;e.exports=n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=r.algo={};return r}(Math)})),ki=(Ai((function(e,t){var n;e.exports=(n=Ui,function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)t(r)&&(o<8&&(a[o]=n(e.pow(r,.5))),u[o]=n(e.pow(r,1/3)),o++),r++}();var c=[],f=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],f=n[5],l=n[6],p=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var d=c[h-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=c[h-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[h]=y+c[h-7]+_+c[h-16]}var m=r&o^r&i^o&i,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[h]+c[h];p=l,l=f,f=a,a=s+b|0,s=i,i=o,o=r,r=b+(v+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=e.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(f),t.HmacSHA256=i._createHmacHelper(f)}(Math),n.SHA256)})),Ai((function(e,t){var n,r,o;e.exports=(r=(n=Ui).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),Ai((function(e,t){e.exports=Ui.HmacSHA256}))),ji=Ai((function(e,t){var n;e.exports=(n=Ui,function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var o=[],i=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=(a|u)<<24-i%4*8,i++}return t.create(o,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,n=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<n.length;i++)o[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),Mi=Ai((function(e,t){e.exports=Ui.enc.Utf8})),Ci=Ai((function(e,t){var n=Oi&&Oi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var r=n(ki),o=n(ji),i=n(Mi);function s(e){var t=o.default.stringify(e);return t=(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isUndefined=function(e){return void 0===e},t.isPalinObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isInstanceOf=function(e,t){return e instanceof t},t.isFormData=function(e){return"[object FormData]"===Object.prototype.toString.call(e)},t.genSeqId=function(){return Math.random().toString(16).slice(2)},t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t},t.createSign=function(e,t){var n=s(i.default.parse(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+s(i.default.parse(JSON.stringify(e)));return n+"."+s(r.default(n,t))},t.toQueryString=function(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},t.getQuery=function(e,t){if("undefined"==typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=n.substr(n.indexOf("?")+1).match(r);return null!=o?o[2]:""},t.getHash=function(e){if("undefined"==typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=function(e,t){var n=t.split("?")[0],r=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var i=(r=o.split("&")).length-1;i>=0;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);n=n+"?"+r.join("&")}return n},t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e},t.execCallback=function(e,t,n){if(void 0===n&&(n=null),e&&"function"==typeof e)return e(t,n);if(t)throw t;return n},t.printWarn=function(e,t){console.warn("["+Bi.getSdkName()+"]["+e+"]:"+t)},t.printError=function(e,t){console.error({code:e,msg:"["+Bi.getSdkName()+"]["+e+"]:"+t})},t.printInfo=function(e,t){console.log("["+Bi.getSdkName()+"]["+e+"]:"+t)},t.throwError=function(e,t){throw new Error(JSON.stringify({code:e,msg:"["+Bi.getSdkName()+"]["+e+"]:"+t}))},t.printGroupLog=function(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,o=e.content,i=void 0===o?[]:o,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed;void 0!==u&&u?console.groupCollapsed(t,r):console.group(t,r);for(var c=0,f=i;c<f.length;c++){var l=f[c],p=l.type,h=l.body;switch(p){case"info":console.log(h);break;case"warn":console.warn(h);break;case"error":console.error(h)}}a&&console.trace("stack trace:"),console.groupEnd()},t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))}})),qi=Si(Li),Fi=Ai((function(e,t){var n,r=Oi&&Oi.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Oi&&Oi.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=Oi&&Oi.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=Oi&&Oi.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var a=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"",n._restrictedMethods=i||["get","post","upload","download"],n}return r(t,e),t.prototype.get=function(e){return this._request(o(o({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(o(o({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(o(o({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,i=new FormData;for(var s in t)i.append(s,t[s]);return i.append("key",r),i.append("file",n),this._request(o(o({},e),{data:i,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(o(o({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),(i=document.createElement("a")).href=n,i.setAttribute("download",r),i.style.display="none",document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise((function(o){var i,s,a=e.url,u=e.headers,c=void 0===u?{}:u,f=e.data,l=e.responseType,p=e.withCredentials,h=e.body,d=e.onUploadProgress,y=Ci.formatUrl(Ti.getProtocol(),a,"get"===r?f:{}),g=new XMLHttpRequest;for(var _ in g.open(r,y),l&&(g.responseType=l),c)g.setRequestHeader(_,c[_]);d&&g.upload.addEventListener("progress",d),g.onreadystatechange=function(){var e={};if(4===g.readyState){var t=g.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift().toLowerCase(),o=t.join(": ");n[r]=o})),e.header=n,e.statusCode=g.status;try{e.data="blob"===l?g.response:JSON.parse(g.responseText)}catch(r){e.data="blob"===l?g.response:g.responseText}clearTimeout(i),o(e)}},t&&n._timeout&&(i=setTimeout((function(){console.warn(n._timeoutMsg),g.abort()}),n._timeout)),s=Ci.isFormData(f)?f:"application/x-www-form-urlencoded"===c["content-type"]?Ci.toQueryString(f):h||(f?JSON.stringify(f):void 0),p&&(g.withCredentials=!0),g.send(s)}))},t}(qi.AbstractSDKRequest);t.WebRequest=a,t.genAdapter=function(){return{root:window,reqClass:a,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage}}})),$i=Ai((function(e,t){var n=Oi&&Oi.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Oi&&Oi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Oi&&Oi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var i,s,a=o(Fi);(s=i=t.RUNTIME||(t.RUNTIME={})).WEB="web",s.WX_MP="wx_mp",t.useAdapters=function(e){for(var t=0,n=Ci.isArray(e)?e:[e];t<n.length;t++){var r=n[t],o=r.isMatch,i=r.genAdapter,s=r.runtime;if(o())return{adapter:i(),runtime:s}}},t.useDefaultAdapter=function(){return{adapter:a.genAdapter(),runtime:i.WEB}}})),Yi=Ai((function(e,t){var n,r=Oi&&Oi.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Oi&&Oi.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=Oi&&Oi.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var s=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t.tcbCacheObject||(t.tcbCacheObject={}),n}return r(t,e),t.prototype.setItem=function(e,t){this._root.tcbCacheObject[e]=t},t.prototype.getItem=function(e){return this._root.tcbCacheObject[e]},t.prototype.removeItem=function(e){delete this._root.tcbCacheObject[e]},t.prototype.clear=function(){delete this._root.tcbCacheObject},t}(qi.AbstractStorage);function a(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(Ci.printWarn(Bi.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new s(t.root));case"none":return new s(t.root);case"session":return t.sessionStorage?t.sessionStorage:(Ci.printWarn(Bi.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new s(t.root));default:return t.localStorage?t.localStorage:(Ci.printWarn(Bi.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new s(t.root))}}var u=function(){function e(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,o=e.keys,i=void 0===o?{}:o,s=e.alwaysLocalKeys,u=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=u,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=a(this._persistence,r.adapter),this.keys=i)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),e.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=a(e,this._platformInfo.adapter);for(var r in this.keys){var o=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var i=this._storage.getItem(o);Ci.isUndefined(i)||Ci.isNull(i)||(n.setItem(o,i),this._storage.removeItem(o))}}this._storage=n}}else Ci.printWarn(Bi.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},e.prototype.updatePersistenceAsync=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,s,u,c,f;return i(this,(function(i){switch(i.label){case 0:if(e===this._persistence)return[2];for(o in t="local"===this._persistence,this._persistence=e,n=a(e,this._platformInfo.adapter),r=[],this.keys)r.push(o);s=0,i.label=1;case 1:return s<r.length?(u=r[s],c=this.keys[u],t&&this._alwaysLocalKeys.includes(u)?[3,4]:[4,this._storage.getItem(c)]):[3,5];case 2:return f=i.sent(),Ci.isUndefined(f)||Ci.isNull(f)?[3,4]:(n.setItem(c,f),[4,this._storage.removeItem(c)]);case 3:i.sent(),i.label=4;case 4:return s++,[3,1];case 5:return this._storage=n,[2]}}))}))},e.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(o){throw new Error(JSON.stringify({code:Bi.ERRORS.OPERATION_FAIL,msg:"["+Bi.getSdkName()+"]["+Bi.ERRORS.OPERATION_FAIL+"]setStore failed",info:o}))}}else Ci.printWarn(Bi.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},e.prototype.setStoreAsync=function(e,t,n){return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:if(!this._storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}}))}))},e.prototype.getStore=function(e,t){var n;if("async"!==this.mode){try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return{}.tcb_token;if(!this._storage)return""}catch(o){return""}t=t||"localCachev1";var r=this._storage.getItem(e);return r&&r.indexOf(t)>=0?JSON.parse(r).content:""}Ci.printWarn(Bi.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},e.prototype.getStoreAsync=function(e,t){var n;return o(this,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return[2,{}.tcb_token];if(!this._storage)return[2,""]}catch(i){return[2,""]}return t=t||"localCachev1",[4,this._storage.getItem(e)];case 1:return(r=o.sent())&&r.indexOf(t)>=0?[2,JSON.parse(r).content]:[2,""]}}))}))},e.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):Ci.printWarn(Bi.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},e.prototype.removeStoreAsync=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},e}();t.CloudbaseCache=u})),Gi=Ai((function(e,t){var n,r=Oi&&Oi.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=Oi&&Oi.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var i=function(e,t){this.data=t||null,this.name=e};t.CloudbaseEvent=i;var s=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return r(t,e),t}(i);t.IErrorEvent=s;var a=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this},e.prototype.off=function(e,t){return function(e,t,n){if(null==n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(Ci.isInstanceOf(e,s))return console.error(e.error),this;var n=Ci.isString(e)?new i(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var a=0,u=this._listeners[r]?o(this._listeners[r]):[];a<u.length;a++){u[a].call(this,n)}}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();t.CloudbaseEventEmitter=a;var u=new a;t.addEventListener=function(e,t){u.on(e,t)},t.activateEvent=function(e,t){void 0===t&&(t={}),u.fire(e,t)},t.removeEventListener=function(e,t){u.off(e,t)}})),Ki=Ai((function(e,t){var n=Oi&&Oi.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},r=Oi&&Oi.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var o=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(o=-1!==navigator.userAgent.indexOf("Firefox"));var i=o?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,s=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function a(e){var t=e.err,n=e.className,r=e.methodName,i=e.sourceLink;if(!i)return null;var a,u=t.stack.split("\n"),c=o?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),f=o?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),l=u.findIndex((function(e){return c.test(e)}));if(-1!==l){var p=u.filter((function(e,t){return t>l}));p.unshift(u[l].replace(f,n+"."+r).replace(s,i)),(a=new Error).stack=(o?"@debugger":"Error")+"\n"+p.join("\n")}return a}t.catchErrorsDecorator=function(e){var t=e.mode,o=void 0===t?"async":t,u=e.customInfo,c=void 0===u?{}:u,f=e.title,l=e.messages,p=void 0===l?[]:l;return function(e,t,u){if(Bi.IS_DEBUG_MODE){var l=c.className||e.constructor.name,h=c.methodName||t,d=u.value,y=function(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return i.test(e)}));if(-1!==r){var o=s.exec(n[r+1]||"");t=o?o[0]:""}return t}(new Error);u.value="sync"===o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a({err:new Error,className:l,methodName:h,sourceLink:y});try{return d.apply(this,e)}catch(u){var r=u,o=u.message,i={title:f||l+"."+h+" failed",content:[{type:"error",body:u}]};if(o&&/^\{.*\}$/.test(o)){var s=JSON.parse(o);i.subtitle=o,s.code&&(r=n||u,i.content=p.map((function(e){return{type:"info",body:e}})))}throw Ci.printGroupLog(i),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(this,void 0,void 0,(function(){var t,n,o,i,s,u;return r(this,(function(r){switch(r.label){case 0:t=a({err:new Error,className:l,methodName:h,sourceLink:y}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,d.apply(this,e)];case 2:return[2,r.sent()];case 3:throw n=r.sent(),o=n,i=n.message,s={title:f||l+"."+h+" failed",content:[{type:"error",body:n}]},i&&/^\{.*\}$/.test(i)&&(u=JSON.parse(i),s.subtitle=u,u.code&&(o=t||n,s.content=p.map((function(e){return{type:"info",body:e}})))),Ci.printGroupLog(s),o;case 4:return[2]}}))}))}}}}})),Wi=Ai((function(e,t){var n=Oi&&Oi.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Oi&&Oi.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ki,t)})),Hi=Ai((function(e,t){var n=Oi&&Oi.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=Oi&&Oi.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Oi&&Oi.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.hasOwnProperty.call(e,o)&&n(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var i=o(Bi);t.constants=i;var s=o($i);t.adapters=s;var a=o(Yi);t.cache=a;var u=o(Gi);t.events=u;var c=o(Ci);t.utils=c;var f=o(Wi);t.helpers=f})),zi=(Di=function(e,t){return(Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Di(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vi=function(){return(Vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ji=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Xi=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};var Zi=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"",n._restrictedMethods=i||["get","post","upload","download"],n}return zi(t,e),t.prototype.post=function(e){var t=this;return new Promise((function(n,r){var o=e.url,i=e.data,s=e.headers,a=wx.request({url:xi("https:",o),data:i,timeout:t._timeout,method:"POST",header:s,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(t._timeout&&-1!==t._restrictedMethods.indexOf("post")&&"request:fail timeout"===e.errMsg)){console.warn(t._timeoutMsg);try{a.abort()}catch(n){}}}})}))},t.prototype.upload=function(e){var t=this,n=this;return new Promise((function(r){return Ji(t,void 0,void 0,(function(){var t,o,i,s,a,u;return Xi(this,(function(c){return t=e.url,o=e.file,i=e.data,s=e.headers,a=e.onUploadProgress,u=wx.uploadFile({url:t,filePath:o,name:"file",formData:Vi({},i),header:s,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&i.success_action_status&&(t.statusCode=parseInt(i.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("upload")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{u.abort()}catch(t){}}}}),a&&u.onProgressUpdate((function(e){a(e)})),[2]}))}))}))},t.prototype.download=function(e){var t=this,n=this;return new Promise((function(r,o){var i=e.url,s=e.headers,a=wx.downloadFile({url:xi("https:",i),header:s,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){o(e)},complete:function(e){if(e&&e.errMsg&&(n._timeout&&-1!==n._restrictedMethods.indexOf("download")&&"request:fail timeout"===e.errMsg)){console.warn(n._timeoutMsg);try{a.abort()}catch(t){}}}})}))},t}(Pi),Qi={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}},es=function(e,t){void 0===t&&(t={});var n=wx.connectSocket(Vi({url:e},t));return{set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};var ts={genAdapter:function(){return{root:{},reqClass:Zi,wsClass:es,localStorage:Qi,primaryStorage:Ei.local,getAppSign:function(){var e=wx.getAccountInfoSync();return"undefined"!=typeof App||"undefined"!=typeof getApp||wx.onAppHide||wx.offAppHide||wx.onAppShow||wx.offAppShow?e&&e.miniProgram?e.miniProgram.appId:"":e&&e.plugin?e.plugin.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0},runtime:"wx_mp"},ns=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},rs=Hi.constants.ERRORS,os={};function is(e,t){var n=t.name,r=t.namespace,o=t.entity,i=t.injectEvents,s=t.IIFE,a=void 0!==s&&s;if(os[n]||r&&e[r])throw new Error(JSON.stringify({code:rs.INVALID_OPERATION,msg:"Duplicate component "+n}));if(a){if(!o||"function"!=typeof o)throw new Error(JSON.stringify({code:rs.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));o.call(e)}if(os[n]=t,r?e.prototype[r]=o:ss(e.prototype,o),i){var u=i.bus,c=i.events;if(!u||!c||0===c.length)return;var f=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={}),(e.prototype.events||{})[n]?e.prototype.events[n].events=ns(e.prototype.events[n].events,c):e.prototype.events[n]={bus:u,events:c},e.prototype.fire=function(e,t){for(var n in f(e,t),this.events){var r=this.events[n],o=r.bus;if(r.events.includes(e)){o.fire(e,t);break}}}}}function ss(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=ss(e[n],t[n]));return e}var as={},us=function(){return(us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cs=Hi.cache.CloudbaseCache,fs={},ls={};function ps(e){var t=e.env,n=e.persistence,r=e.platformInfo,o={accessTokenKey:"access_token_"+t,accessTokenExpireKey:"access_token_expire_"+t,refreshTokenKey:"refresh_token_"+t,anonymousUuidKey:"anonymous_uuid_"+t,loginTypeKey:"login_type_"+t,userInfoKey:"user_info_"+t};fs[t]?fs[t].updatePersistence(n):fs[t]=new cs(us(us({},e),{keys:o,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),ls[t]=ls[t]||new cs(us(us({},e),{keys:o,platformInfo:r,persistence:"local"}))}function hs(e){return fs[e]}function ds(e){return ls[e]}var ys=Hi.constants.setSdkName,gs=Hi.constants.setProtocol,_s="",ms="@cloudbase/js-sdk";var vs,bs,ws="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",Os="//tcb-api.tencentcloudapi.com/web";function Ss(e,t){Os=e,t&&(ws=t,gs(t))}(bs=vs||(vs={})).ANONYMOUS="ANONYMOUS",bs.WECHAT="WECHAT",bs.CUSTOM="CUSTOM",bs.NULL="NULL";var As="loginStateExpire",Es="refreshAccessToken",Ns=function(){return(Ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ts=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Is=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Bs=Hi.constants.ERRORS,Ps=Hi.utils.genSeqId,Rs=Hi.utils.isFormData,xs=Hi.utils.formatUrl,Ds=Hi.utils.createSign,Ls=Hi.adapters.RUNTIME,Us=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function ks(e,t,n){var r=e[t];e[t]=function(t){var o={},i={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(o,s),Object.assign(i,a)}));var s=t.data;return s&&function(){if(Rs(s))for(var e in o)s.append(e,o[e]);else t.data=Ns(Ns({},s),o)}(),t.headers=Ns(Ns({},t.headers||{}),i),r.call(e,t)}}function js(){var e=Ps();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+_s,"x-seqid":e}}}var Ms=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new as.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] "+this.config.timeout/1e3+"s",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=hs(this.config.env),this._localCache=ds(this.config.env),ks(this._reqClass,"post",[js]),ks(this._reqClass,"upload",[js]),ks(this._reqClass,"download",[js])}return e.prototype.post=function(e){return Ts(this,void 0,void 0,(function(){return Is(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.post(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.upload=function(e){return Ts(this,void 0,void 0,(function(){return Is(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.upload(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.download=function(e){return Ts(this,void 0,void 0,(function(){return Is(this,(function(t){switch(t.label){case 0:return[4,this._reqClass.download(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.refreshAccessToken=function(){return Ts(this,void 0,void 0,(function(){var e,t,n;return Is(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return Ts(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u;return Is(this,(function(c){switch(c.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(!c.sent())throw new Error(JSON.stringify({code:Bs.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=c.sent(),s=Number,[4,this._cache.getStoreAsync(n)];case 3:return i=s.apply(void 0,[c.sent()]),a=!0,(u=this._shouldRefreshAccessTokenHook)?[4,this._shouldRefreshAccessTokenHook(o,i)]:[3,5];case 4:u=!c.sent(),c.label=5;case 5:return u&&(a=!1),o&&i&&!(i<Date.now())||!a?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,c.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:i}]}}))}))},e.prototype.request=function(e,t,n){return Ts(this,void 0,void 0,(function(){var r,o,i,s,a,u,c,f,l,p,h,d,y,g,_,m,v,b,w,O,S,A,E,N;return Is(this,(function(T){switch(T.label){case 0:return r="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",i=Ns({action:e,dataVersion:"2020-01-10",env:this.config.env},t),-1!==Us.indexOf(e)?[3,3]:(s=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(s)]);case 1:return T.sent()?(a=i,[4,this.getAccessToken()]):[3,3];case 2:a.access_token=T.sent().accessToken,T.label=3;case 3:if("storage.uploadFile"===e){for(c in u=new FormData)u.hasOwnProperty(c)&&void 0!==u[c]&&u.append(c,i[c]);o="multipart/form-data"}else for(c in o="application/json;charset=UTF-8",u={},i)void 0!==i[c]&&(u[c]=i[c]);return f={headers:{"content-type":o}},(null==n?void 0:n.onUploadProgress)&&(f.onUploadProgress=n.onUploadProgress),this.config.region&&(f.headers["X-TCB-Region"]=this.config.region),(l=this._localCache.getStore(r))&&(f.headers["X-TCB-Trace"]=l),as.runtime!==Ls.WEB&&(p=this.config,h=p.appSign,d=p.appSecret,y=Date.now(),g=d.appAccessKey,_=d.appAccessKeyId,m=Ds({data:u,timestamp:y,appAccessKeyId:_,appSign:h},g),f.headers["X-TCB-App-Source"]="timestamp="+y+";appAccessKeyId="+_+";appSign="+h+";sign="+m),v=t.parse,b=t.inQuery,w=t.search,O={env:this.config.env},v&&(O.parse=!0),b&&(O=Ns(Ns({},b),O)),A=xs((S={BASE_URL:Os,PROTOCOL:ws}).PROTOCOL,S.BASE_URL,O),w&&(A+=w),[4,this.post(Ns({url:A,data:u},f))];case 4:if(E=T.sent(),(N=E.header&&E.header["x-tcb-trace"])&&this._localCache.setStore(r,N),200!==Number(E.status)&&200!==Number(E.statusCode)||!E.data)throw new Error("network request error");return[2,E]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),Ts(this,void 0,void 0,(function(){var n;return Is(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return"ACCESS_TOKEN_EXPIRED"!==(n=r.sent()).data.code||-1!==Us.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:Bs.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(){return Ts(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,f,l,p;return Is(this,(function(h){switch(h.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,o=e.loginTypeKey,i=e.anonymousUuidKey,[4,this._cache.removeStoreAsync(t)];case 1:return h.sent(),[4,this._cache.removeStoreAsync(n)];case 2:return h.sent(),[4,this._cache.getStoreAsync(r)];case 3:if(!(s=h.sent()))throw new Error(JSON.stringify({code:Bs.INVALID_OPERATION,msg:"not login"}));return a={refresh_token:s},[4,this.request("auth.fetchAccessTokenWithRefreshToken",a)];case 4:return(u=h.sent()).data.code?"SIGN_PARAM_INVALID"!==(c=u.data.code)&&"REFRESH_TOKEN_EXPIRED"!==c&&"INVALID_REFRESH_TOKEN"!==c?[3,11]:[4,this._cache.getStoreAsync(o)]:[3,12];case 5:return h.sent()===vs.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===c?[4,this._cache.getStoreAsync(i)]:[3,9];case 6:return f=h.sent(),[4,this._cache.getStoreAsync(r)];case 7:return l=h.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:l})];case 8:return p=h.sent(),this._setRefreshToken(p.refresh_token),[2,this._refreshAccessToken()];case 9:return ea.fire(As),[4,this._cache.removeStoreAsync(r)];case 10:h.sent(),h.label=11;case 11:throw new Error(JSON.stringify({code:Bs.NETWORK_ERROR,msg:"refresh access_token failed"+u.data.code}));case 12:return u.data.access_token?(ea.fire(Es),[4,this._cache.setStoreAsync(t,u.data.access_token)]):[3,15];case 13:return h.sent(),[4,this._cache.setStoreAsync(n,u.data.access_token_expire+Date.now())];case 14:return h.sent(),[2,{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire}];case 15:return u.data.refresh_token?[4,this._cache.removeStoreAsync(r)]:[3,19];case 16:return h.sent(),[4,this._cache.setStoreAsync(r,u.data.refresh_token)];case 17:return h.sent(),[4,this._refreshAccessToken()];case 18:h.sent(),h.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return Ts(this,void 0,void 0,(function(){var t,n,r,o;return Is(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e}(),Cs={};var qs=function(){return(qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},$s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ys=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Gs=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ks=Hi.adapters.useAdapters,Ws=Hi.adapters.useDefaultAdapter,Hs=Hi.adapters.RUNTIME,zs=Hi.constants.ERRORS,Vs=Hi.constants.COMMUNITY_SITE_URL,Js=Hi.utils.printWarn,Xs=Hi.helpers.catchErrorsDecorator,Zs={timeout:15e3,persistence:"session"},Qs={},ea=new(function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return as},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return hs(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return ds(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return e=this._config.env,Cs[e];var e},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:zs.INVALID_PARAMS,msg:"env must not be specified"}));if(as.adapter||this._useDefaultAdapter(),this.requestClient=new as.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+ms+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),as.runtime!==Hs.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:zs.INVALID_PARAMS,msg:"invalid appSecret"}));var n=as.adapter.getAppSign?as.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:zs.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:zs.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=qs(qs({},Zs),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,o=r.env,i=r.persistence,s=r.debug,a=r.timeout,u=r.appSecret,c=r.appSign;ps({env:o,persistence:i,debug:s,platformInfo:this.platform}),function(e){Cs[e.env]=new Ms(Ns(Ns({},e),{throw:!0}))}({env:o,region:t.region||"",timeout:a,appSecret:u,appSign:c}),t.region&&function(e,t,n){Ss(t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web",n)}(o,t.region||"");var f=new e(this._config);return f.requestClient=this.requestClient,f},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,ps({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){Qs[e.name]=e},e.prototype.invokeExtension=function(e,t){return Ys(this,void 0,void 0,(function(){var n;return Gs(this,(function(r){switch(r.label){case 0:if(!(n=Qs[e]))throw new Error(JSON.stringify({code:zs.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=Ks(e)||{},n=t.adapter,r=t.runtime;n&&(as.adapter=n),r&&(as.runtime=r)},e.prototype.registerHook=function(t){!function(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:rs.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var o=e.prototype[r];if("function"!=typeof o)throw new Error(JSON.stringify({code:rs.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,ns([this],e)),o.call.apply(o,ns([this],e))}}(e,t)},e.prototype.registerComponent=function(t){is(e,t)},e.prototype.registerVersion=function(e){!function(e){_s=e}(e)},e.prototype.registerSdkName=function(e){!function(e){ms=e,ys(e)}(e)},e.prototype.registerEndPoint=function(e,t){Ss(e,t)},e.prototype._useDefaultAdapter=function(){var e=Ws(),t=e.adapter,n=e.runtime;as.adapter=t,as.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>6e5:return Js(zs.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),6e5;case e<100:return Js(zs.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),100;default:return e}},Fs([Xs({mode:"sync",title:"Cloudbase ",messages:["","  1 -  cloudbase.init() ","  2 - https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng",""+Vs]}),$s("design:type",Function),$s("design:paramtypes",[Object]),$s("design:returntype",e)],e.prototype,"init",null),Fs([Xs({title:"",messages:["","  1 -  invokeExtension() ","  2 -  registerExtension() ",""+Vs]}),$s("design:type",Function),$s("design:paramtypes",[String,Object]),$s("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}());ea.useAdapters(ts);var ta,na=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ra=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},oa=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return na(this,void 0,void 0,(function(){var e,t,n,r,o,i;return ra(this,(function(s){switch(s.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return r=s.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=s.sent(),r?o&&o>Date.now()?[4,(i=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,4]:[3,7];case 3:return s.sent(),[2,i];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return s.sent(),[4,this._cache.removeStoreAsync(n)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return na(this,void 0,void 0,(function(){var t,n,r,o;return ra(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return na(this,void 0,void 0,(function(){var n,r,o;return ra(this,(function(i){switch(i.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return i.sent(),[4,this._cache.setStoreAsync(o,t)];case 2:return i.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return na(this,void 0,void 0,(function(){var e;return ra(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,[4,this.setLocalUserInfo(e)];case 2:return t.sent(),[2,e]}}))}))},e.prototype.setLocalUserInfo=function(e){return na(this,void 0,void 0,(function(){var t;return ra(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"}(ta||(ta={}));var ia=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},aa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ua=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ca=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},fa=Hi.constants.getSdkName,la=Hi.constants.ERRORS,pa=Hi.constants.COMMUNITY_SITE_URL,ha=Hi.adapters.RUNTIME,da=Hi.utils.getQuery,ya=Hi.utils.getHash,ga=Hi.utils.removeParam,_a=Hi.utils.printWarn,ma=Hi.helpers.catchErrorsDecorator,va=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._runtime=t.runtime,i._appid=n,i._scope=r,i._state=o||"weixin",i}return ia(t,e),t.prototype.signIn=function(){return ua(this,void 0,void 0,(function(){return ca(this,(function(e){return[2,_a(la.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return ua(this,void 0,void 0,(function(){return ca(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return ua(this,void 0,void 0,(function(){var t;return ca(this,(function(n){return(t=ba())?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),ua(this,void 0,void 0,(function(){var t,n,r,o,i,s;return ca(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,(r=ba())?(o=this._appid,i=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),s=this._runtime===ha.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:o,loginType:i,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null]}))}))},t.prototype._redirect=function(){var e=ga("code",location.href);e=ga("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+fa()+"]["+la.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return ua(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c;return ca(this,(function(f){switch(f.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,i=n.refreshTokenKey,s=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=f.sent(),u=a.refreshToken,[4,this._cache.setStoreAsync(i,u)];case 2:return f.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:f.sent(),f.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(o,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:f.sent(),f.label=6;case 6:return Ou.fire(Nu.LOGIN_STATE_CHANGED),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return f.sent(),[4,(c=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return f.sent(),[2,c]}}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),ua(this,void 0,void 0,(function(){var o,i,s,a,u,c;return ca(this,(function(f){return o=r.withUnionId,i=void 0!==o&&o,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),"auth.signIn",c=this._runtime===ha.WX_MP?"1":"0",[2,this._request.send("auth.signIn",{appid:e,loginType:t,hybridMiniapp:c,syncUserInfo:u,loginCredential:n,withUnionId:i,createUser:a}).then((function(e){if(e.code)throw new Error("["+fa()+"]["+la.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+fa()+"]["+la.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},sa([ma({title:"",messages:["","  1 -  auth().weixinAuthProvider().signInWithRedirect() ",""+pa]}),aa("design:type",Function),aa("design:paramtypes",[]),aa("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),sa([ma({title:"",messages:["","  1 -  auth().weixinAuthProvider().getRedirectResult() ","  2 - ","  3 -  AppId  AppSecret ",""+pa]}),aa("design:type",Function),aa("design:paramtypes",[Object]),aa("design:returntype",Promise)],t.prototype,"getRedirectResult",null),sa([ma({title:"",messages:["","  1 -  auth().weixinAuthProvider().getLinkRedirectResult() ","  2 - ","  3 -  AppId  AppSecret ",""+pa]}),aa("design:type",Function),aa("design:paramtypes",[Object]),aa("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(oa);function ba(){return da("code")||ya("code")}var wa,Oa,Sa,Aa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Na=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ta=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ia=Hi.constants.ERRORS,Ba=Hi.constants.COMMUNITY_SITE_URL,Pa=Hi.utils.throwError,Ra=Hi.utils.isString,xa=Hi.events.addEventListener,Da=Hi.helpers.catchErrorsDecorator,La=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),xa(Nu.ANONYMOUS_CONVERTED,n._onConverted),n}return Aa(t,e),t.prototype.signIn=function(){return Na(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return Ta(this,(function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return o=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o})];case 4:return(i=a.sent()).uuid&&i.refresh_token?[4,this._setAnonymousUUID(i.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(i.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.ANONYMOUS,persistence:"local"}),Ou.fire(Nu.LOGIN_STATE_CHANGED),[4,(s=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:Ia.OPERATION_FAIL,msg:JSON.stringify(i)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return Na(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return Ta(this,(function(u){switch(u.label){case 0:return Ra(e)||Pa(Ia.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 2:return i=u.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:i,ticket:e})];case 3:return(s=u.sent()).refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return u.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return u.sent(),[4,this._request.refreshAccessToken()];case 6:return u.sent(),Ou.fire(Nu.ANONYMOUS_CONVERTED,{env:this._config.env}),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{loginType:ta.CUSTOM,persistence:"local"}),[4,(a=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 7:return u.sent(),[2,a];case 8:Pa(Ia.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),u.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return Na(this,void 0,void 0,(function(){var t,n,r;return Ta(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return o.sent(),[4,this._cache.setStoreAsync(r,ta.ANONYMOUS)];case 3:return o.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return Na(this,void 0,void 0,(function(){return Ta(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return Na(this,void 0,void 0,(function(){return Ta(this,(function(t){switch(t.label){case 0:return e.data.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return t.sent(),[2]}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([Da({title:"",messages:["","  1 - ","  2 -  auth().anonymouseProvider().signIn() ",""+Ba]}),Ea("design:type",Function),Ea("design:paramtypes",[]),Ea("design:returntype",Promise)],t.prototype,"signIn",null),t}(oa),Ua=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ja=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ma=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ca=Hi.constants.ERRORS,qa=Hi.constants.COMMUNITY_SITE_URL,Fa=Hi.utils.isString,$a=Hi.helpers.catchErrorsDecorator,Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ua(t,e),t.prototype.signIn=function(e){return ja(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return Ma(this,(function(u){switch(u.label){case 0:if(!Fa(e))throw new Error(JSON.stringify({code:Ca.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,o=(r=this._request).send,i=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,o.apply(r,i.concat([(s.refresh_token=u.sent()||"",s)]))];case 2:return(n=u.sent()).refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return u.sent(),[4,this._request.refreshAccessToken()];case 4:return u.sent(),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.CUSTOM,persistence:this._config.persistence}),Ou.fire(Nu.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return u.sent(),[4,(a=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 6:return u.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:Ca.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([$a({title:"",messages:["","  1 - ","  2 -  auth().customAuthProvider().signIn() ","  3 - ticket ","  4 -  ticket ",""+qa]}),ka("design:type",Function),ka("design:paramtypes",[String]),ka("design:returntype",Promise)],t.prototype,"signIn",null),t}(oa),Ga=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ka=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ha=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},za=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Va=Hi.utils.throwError,Ja=Hi.utils.isString,Xa=Hi.constants.ERRORS,Za=Hi.constants.COMMUNITY_SITE_URL,Qa=Hi.helpers.catchErrorsDecorator,eu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ga(t,e),t.prototype.signIn=function(e,t){return Ha(this,void 0,void 0,(function(){var n,r,o,i,s;return za(this,(function(a){switch(a.label){case 0:return Ja(e)||Va(Xa.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),o=r.refresh_token,i=r.access_token,s=r.access_token_expire,o?[4,this.setRefreshToken(o)]:[3,8];case 2:return a.sent(),i&&s?[4,this.setAccessToken(i,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),Ou.fire(Nu.LOGIN_STATE_CHANGED),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.EMAIL,persistence:this._config.persistence}),[2,new Au({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?Va(Xa.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):Va(Xa.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return Ha(this,void 0,void 0,(function(){return za(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return Ha(this,void 0,void 0,(function(){return za(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return Ha(this,void 0,void 0,(function(){return za(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return Ha(this,void 0,void 0,(function(){return za(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},Ka([Qa({title:"",messages:["","  1 -  auth().emailAuthProvider() ","  2 - ","  3 - ",""+Za]}),Wa("design:type",Function),Wa("design:paramtypes",[String,String]),Wa("design:returntype",Promise)],t.prototype,"signIn",null),Ka([Qa({title:"",messages:["","  1 -  auth().signUpWithEmailAndPassword() ","  2 - ","  3 - ",""+Za]}),Wa("design:type",Function),Wa("design:paramtypes",[String,String]),Wa("design:returntype",Promise)],t.prototype,"signUp",null),Ka([Qa({title:"",messages:["","  1 -  auth().sendPasswordResetEmail() ","  2 - ","  3 - ","  4 - ",""+Za]}),Wa("design:type",Function),Wa("design:paramtypes",[String]),Wa("design:returntype",Promise)],t.prototype,"resetPassword",null),Ka([Qa({title:"",messages:["","  1 - ","  2 - ",""+Za]}),Wa("design:type",Function),Wa("design:paramtypes",[String,String]),Wa("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),Ka([Qa({title:"",messages:["","  1 - ","  2 - ",""+Za]}),Wa("design:type",Function),Wa("design:paramtypes",[String]),Wa("design:returntype",Promise)],t.prototype,"activate",null),t}(oa),tu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nu=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ru=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ou=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},iu=Hi.utils.printWarn,su=Hi.constants.ERRORS,au=Hi.constants.COMMUNITY_SITE_URL,uu=Hi.helpers.catchErrorsDecorator,cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tu(t,e),t.prototype.signIn=function(e,t){return ru(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,f;return ou(this,(function(l){switch(l.label){case 0:if("string"!=typeof e)throw new Error(JSON.stringify({code:su.INVALID_PARAMS,msg:"username must be a string"}));return"string"!=typeof t&&(t="",iu(su.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,i=(o=this._request).send,s=["auth.signIn"],a={loginType:ta.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,i.apply(o,s.concat([(a.refresh_token=l.sent()||"",a)]))];case 2:return r=l.sent(),u=r.refresh_token,c=r.access_token_expire,f=r.access_token,u?[4,this.setRefreshToken(u)]:[3,9];case 3:return l.sent(),f&&c?[4,this.setAccessToken(f,c)]:[3,5];case 4:return l.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:l.sent(),l.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return l.sent(),Ou.fire(Nu.LOGIN_STATE_CHANGED),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.USERNAME,persistence:this._config.persistence}),[2,new Au({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:su.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:su.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([uu({title:"",messages:["","  1 -  auth().signInWithUsernameAndPassword() ","  2 - ","  3 - ",""+au]}),nu("design:type",Function),nu("design:paramtypes",[String,String]),nu("design:returntype",Promise)],t.prototype,"signIn",null),t}(oa),fu=function(){return(fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},lu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pu=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hu=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},du=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yu=Hi.events.CloudbaseEventEmitter,gu=Hi.adapters.RUNTIME,_u=Hi.utils.printWarn,mu=Hi.utils.throwError,vu=Hi.constants.ERRORS,bu=Hi.constants.COMMUNITY_SITE_URL,wu=Hi.helpers.catchErrorsDecorator,Ou=new yu,Su=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return hu(this,void 0,void 0,(function(){return du(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a,u,c,f,l,p,h,d,y;return du(this,(function(g){switch(g.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=g.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=g.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=g.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=g.sent(),o=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return o.wxPublicId=g.sent(),i=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return i.unionId=g.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=g.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=g.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=g.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=g.sent(),f=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return f.avatarUrl=g.sent(),l=this,[4,this._getLocalUserInfoAsync("email")];case 12:return l.email=g.sent(),p=this,h=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return p.hasPassword=h.apply(void 0,[g.sent()]),d=this,y={},[4,this._getLocalUserInfoAsync("country")];case 14:return y.country=g.sent(),[4,this._getLocalUserInfoAsync("province")];case 15:return y.province=g.sent(),[4,this._getLocalUserInfoAsync("city")];case 16:return d.location=(y.city=g.sent(),y),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!=typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r,o,i;return du(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,o=n;r<o.length;r++)if((i=o[r]).wxOpenId&&i.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return hu(this,void 0,void 0,(function(){var t,n,r,o,i,s,a;return du(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,o=e.province,i=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:o,country:i,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e){return this._request.send("auth.updateEmail",{newEmail:e})},e.prototype.updateUsername=function(e){return"string"!=typeof e&&mu(vu.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return hu(this,void 0,void 0,(function(){var e;return du(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,this._setLocalUserInfo(e),[2,e]}}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;return this._cache.getStore(t)[e]},e.prototype._getLocalUserInfoAsync=function(e){return hu(this,void 0,void 0,(function(){var t;return du(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return[2,n.sent()[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},lu([wu({title:"",messages:["","  1 -  User.linkWithTicket() ","  2 - ","  3 - ticket ","  4 -  ticket ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",Promise)],e.prototype,"linkWithTicket",null),lu([wu({title:"",messages:["","  1 -  User.linkWithRedirect() ","  2 - ","  3 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[Object]),pu("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),lu([wu({title:"",messages:["","  1 -  User.getLinkedUidList() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),lu([wu({title:"",messages:["","  1 -  User.setPrimaryUid() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),lu([wu({title:"",messages:["","  1 -  User.unlink() ","  2 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",void 0)],e.prototype,"unlink",null),lu([wu({title:"",messages:["","  1 -  User.update() ","  2 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[Object]),pu("design:returntype",Promise)],e.prototype,"update",null),lu([wu({title:"",messages:["","  1 -  User.updatePassword() ","  3 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String,String]),pu("design:returntype",void 0)],e.prototype,"updatePassword",null),lu([wu({title:"",messages:["","  1 -  User.updateEmail() ","  2 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",void 0)],e.prototype,"updateEmail",null),lu([wu({title:"",messages:["","  1 -  User.updateUsername() ","  2 - ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",void 0)],e.prototype,"updateUsername",null),lu([wu({title:"",messages:["","  1 -  User.refresh() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"refresh",null),e}(),Au=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||mu(vu.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new Su({cache:n,request:r})}return e.prototype.checkLocalState=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return du(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o=this._cache.getStore(t),i=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,a;return du(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return i=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===ta.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===ta.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===ta.WECHAT||this.loginType===ta.WECHAT_OPEN||this.loginType===ta.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===ta.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),e}(),Eu=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||gu.WEB,Ou.on(Nu.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}_u(vu.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return hu(this,void 0,void 0,(function(){var e;return du(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return(e=t.sent())?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return hu(this,void 0,void 0,(function(){return du(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return hu(this,void 0,void 0,(function(){var e;return du(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new va(fu(fu({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new La(fu(fu({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new Ya(fu(fu({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new eu(fu(fu({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new cu(fu(fu({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return hu(this,void 0,void 0,(function(){return du(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return hu(this,void 0,void 0,(function(){var t;return du(this,(function(n){switch(n.label){case 0:return"string"!=typeof e&&mu(vu.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return[2,null==(t=n.sent().data)?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return hu(this,void 0,void 0,(function(){return du(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return hu(this,void 0,void 0,(function(){return du(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return hu(this,void 0,void 0,(function(){return du(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return du(this,(function(a){switch(a.label){case 0:return[4,this.getLoginType()];case 1:if(a.sent()===ta.ANONYMOUS)throw new Error(JSON.stringify({code:vu.INVALID_OPERATION,msg:"anonymous user doesn't support signOut action"}));return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(t)];case 2:return(i=a.sent())?[4,this._request.send(o,{refresh_token:i})]:[2];case 3:return s=a.sent(),this._cache.removeStoreAsync(t),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),Ou.fire(Nu.LOGIN_STATE_CHANGED),Ou.fire(Nu.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:ta.NULL,persistence:this._config.persistence}),[2,s]}}))}))},e.prototype.onLoginStateChanged=function(e){return hu(this,void 0,void 0,(function(){var t,n=this;return du(this,(function(r){switch(r.label){case 0:return Ou.on(Nu.LOGIN_STATE_CHANGED,(function(){return hu(n,void 0,void 0,(function(){var t;return du(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){Ou.on(Nu.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){Ou.on(Nu.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){Ou.on(Nu.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;Ou.on(Nu.LOGIN_TYPE_CHANGED,(function(){return hu(t,void 0,void 0,(function(){var t;return du(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey;if(this._cache.getStore(e)){var t=new Au({envId:this._config.env,cache:this._cache,request:this._request});return t.checkLocalState(),t}return null}_u(vu.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return hu(this,void 0,void 0,(function(){var e,t;return du(this,(function(n){switch(n.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return n.sent()?[4,(t=new Au({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,3];case 2:return n.sent(),[2,t];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return hu(this,void 0,void 0,(function(){var e;return du(this,(function(t){switch(t.label){case 0:return"auth.getUserInfo",[4,this._request.send("auth.getUserInfo",{})];case 1:return(e=t.sent()).code?[2,e]:[2,fu(fu({},e.data),{requestId:e.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return hu(this,void 0,void 0,(function(){var e,t,n,r;return du(this,(function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return[2,{"x-cloudbase-credentials":o.sent()+"/@@/"+r}]}}))}))},e.prototype._onLoginTypeChanged=function(e){return hu(this,void 0,void 0,(function(){var t,n,r;return du(this,(function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,t.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}}))}))},lu([wu({title:"",messages:["","  1 -  auth().getCurrenUser() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"getCurrenUser",null),lu([wu({title:"",messages:["","  1 -  auth().isUsernameRegistered() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[String]),pu("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),lu([wu({title:"",messages:["","  1 -  auth().signOut() ","  2 - signOut",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"signOut",null),lu([wu({title:"",messages:["","  1 -  auth().getLoginState() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"getLoginState",null),lu([wu({title:"",messages:["","  1 - ","  2 -  auth().getUserInfo() ",""+bu]}),pu("design:type",Function),pu("design:paramtypes",[]),pu("design:returntype",Promise)],e.prototype,"getUserInfo",null),e}(),Nu={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"},Tu={name:"auth",namespace:"auth",injectEvents:{bus:Ou,events:[Nu.LOGIN_TYPE_CHANGED,Nu.LOGIN_STATE_EXPIRED,Nu.LOGIN_STATE_CHANGED,Nu.ACCESS_TOKEN_REFRESHD,Nu.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"session"}),this.authInstance)return _u(vu.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,o=e.persistence||n.primaryStorage;o&&o!==this.config.persistence&&this.updateConfig({persistence:o});var i=this.config,s=i.env,a=i.persistence,u=i.debug;return this.authInstance=new Eu({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(Tu)}catch(cd){}function Iu(e){try{e.registerComponent(Tu)}catch(cd){console.warn(cd)}}(Sa=Oa||(Oa={})).DocIDError="ID",Sa.CollNameError="",Sa.OpStrError="",Sa.DirectionError="",Sa.IntergerError="must be integer",Sa.QueryParamTypeError="",Sa.QueryParamValueError="undefined";var Bu,Pu,Ru,xu,Du="Number",Lu="Object",Uu="Array",ku="GeoPoint",ju="GeoLineString",Mu="GeoPolygon",Cu="GeoMultiPoint",qu="GeoMultiLineString",Fu="GeoMultiPolygon",$u="Date",Yu="ServerDate",Gu="BsonDate",Ku=["desc","asc"],Wu=["<","<=","==",">=",">"];(Pu=Bu||(Bu={})).lt="<",Pu.gt=">",Pu.lte="<=",Pu.gte=">=",Pu.eq="==",(wa={})[Bu.eq]="$eq",wa[Bu.lt]="$lt",wa[Bu.lte]="$lte",wa[Bu.gt]="$gt",wa[Bu.gte]="$gte",(xu=Ru||(Ru={})).WHERE="WHERE",xu.DOC="DOC";var Hu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zu=[],Vu={},Ju=function(e){function t(t,n){if(n!==Vu)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return Hu(t,e),t.for=function(e){for(var n=0,r=zu.length;n<r;n++)if(zu[n].target===e)return zu[n].instance;var o=new t(e,Vu);return zu.push({target:e,instance:o}),o},t}((function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})})),Xu=Ju.for("UNSET_FIELD_NAME"),Zu=Ju.for("UPDATE_COMMAND"),Qu=Ju.for("QUERY_COMMAND"),ec=Ju.for("LOGIC_COMMAND"),tc=Ju.for("GEO_POINT"),nc=Ju.for("SYMBOL_GEO_LINE_STRING"),rc=Ju.for("SYMBOL_GEO_POLYGON"),oc=Ju.for("SYMBOL_GEO_MULTI_POINT"),ic=Ju.for("SYMBOL_GEO_MULTI_LINE_STRING"),sc=Ju.for("SYMBOL_GEO_MULTI_POLYGON"),ac=Ju.for("SERVER_DATE"),uc=Ju.for("REGEXP"),cc=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return ac},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();function fc(e){return new cc(e)}var lc,pc,hc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},dc=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),r={};return Array.isArray(t)&&(r=[]),n.forEach((function(n){var o,i=t[n];switch(e.whichType(i)){case ku:o=new Sc(i.coordinates[0],i.coordinates[1]);break;case ju:o=new Ac(i.coordinates.map((function(e){return new Sc(e[0],e[1])})));break;case Mu:o=new Nc(i.coordinates.map((function(e){return new Ac(e.map((function(e){var t=hc(e,2),n=t[0],r=t[1];return new Sc(n,r)})))})));break;case Cu:o=new Tc(i.coordinates.map((function(e){return new Sc(e[0],e[1])})));break;case qu:o=new Bc(i.coordinates.map((function(e){return new Ac(e.map((function(e){var t=hc(e,2),n=t[0],r=t[1];return new Sc(n,r)})))})));break;case Fu:o=new Rc(i.coordinates.map((function(e){return new Nc(e.map((function(e){return new Ac(e.map((function(e){var t=hc(e,2),n=t[0],r=t[1];return new Sc(n,r)})))})))})));break;case $u:o=new Date(1e3*i.$timestamp);break;case Lu:case Uu:o=e.formatField(i);break;case Yu:o=new Date(i.$date);break;default:o=i}Array.isArray(r)?r.push(o):r[n]=o})),r},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===$u)return Gu;if(t===Lu){if(e instanceof Sc)return ku;if(e instanceof Date)return $u;if(e instanceof cc)return Yu;e.$timestamp?t=$u:e.$date?t=Yu:Sc.validate(e)?t=ku:Ac.validate(e)?t=ju:Nc.validate(e)?t=Mu:Tc.validate(e)?t=Cu:Bc.validate(e)?t=qu:Rc.validate(e)&&(t=Fu)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}(),yc=function(){function e(){}return e.isGeopoint=function(e,t){if(dc.whichType(t)!==Du)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+Oa.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===Ku.indexOf(e))throw new Error(Oa.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===Wu.indexOf(e))throw new Error(Oa.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(Oa.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(Oa.DocIDError);return!0},e}(),gc=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},_c=function(e){return"object"===gc(e)},mc=function(e){return"number"===gc(e)},vc=function(e){return Array.isArray(e)},bc=function(e){return"date"===gc(e)},wc=function(e){return"regexp"===gc(e)},Oc=function(e){return e&&e._internalType instanceof Ju},Sc=function(){function e(e,t){yc.isGeopoint("longitude",e),yc.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&vc(e.coordinates)&&yc.isGeopoint("longitude",e.coordinates[0])&&yc.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return tc},enumerable:!0,configurable:!0}),e}(),Ac=function(){function e(e){if(!vc(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof Sc))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!vc(e.coordinates))return!1;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!mc(i[0])||!mc(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return nc},enumerable:!0,configurable:!0}),e}(),Ec=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Nc=function(){function e(e){if(!vc(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Ac))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]");if(!Ac.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("Polygon"!==e.type||!vc(e.coordinates))return!1;try{for(var i=Ec(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;if(!this.isCloseLineString(a))return!1;try{for(var u=(r=void 0,Ec(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!mc(f[0])||!mc(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return sc},enumerable:!0,configurable:!0}),e}(),Tc=function(){function e(e){if(!vc(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof Sc))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!vc(e.coordinates))return!1;try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!mc(i[0])||!mc(i[1]))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return oc},enumerable:!0,configurable:!0}),e}(),Ic=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bc=function(){function e(e){if(!vc(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof Ac))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("MultiLineString"!==e.type||!vc(e.coordinates))return!1;try{for(var i=Ic(e.coordinates),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(r=void 0,Ic(a)),c=u.next();!c.done;c=u.next()){var f=c.value;if(!mc(f[0])||!mc(f[1]))return!1}}catch(l){r={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return ic},enumerable:!0,configurable:!0}),e}(),Pc=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rc=function(){function e(e){var t,n;if(!vc(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=Pc(e),o=r.next();!o.done;o=r.next()){var i=o.value;if(!(i instanceof Nc))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof i+"[]")}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,o,i,s;if("MultiPolygon"!==e.type||!vc(e.coordinates))return!1;try{for(var a=Pc(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var f=(r=void 0,Pc(c)),l=f.next();!l.done;l=f.next()){var p=l.value;try{for(var h=(i=void 0,Pc(p)),d=h.next();!d.done;d=h.next()){var y=d.value;if(!mc(y[0])||!mc(y[1]))return!1}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){r={error:_}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return rc},enumerable:!0,configurable:!0}),e}(),xc=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Point:Sc,LineString:Ac,Polygon:Nc,MultiPoint:Tc,MultiLineString:Bc,MultiPolygon:Rc}),Dc=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};(pc=lc||(lc={})).SET="set",pc.REMOVE="remove",pc.INC="inc",pc.MUL="mul",pc.PUSH="push",pc.PULL="pull",pc.PULL_ALL="pullAll",pc.POP="pop",pc.SHIFT="shift",pc.UNSHIFT="unshift",pc.ADD_TO_SET="addToSet",pc.BIT="bit",pc.RENAME="rename",pc.MAX="max",pc.MIN="min";var Lc,Uc,kc=function(){function e(e,t,n){this._internalType=Zu,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||Xu}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function jc(e){return e&&e instanceof kc&&e._internalType===Zu}(Uc=Lc||(Lc={})).AND="and",Uc.OR="or",Uc.NOT="not",Uc.NOR="nor";var Mc=function(){function e(e,t,n){if(this._internalType=ec,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||Xu,this.fieldName!==Xu)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var r=0,o=t.length;r<o;r++){(Cc(i=t[r])||Gc(i))&&(t[r]=i._setFieldName(this.fieldName))}}else{var i;(Cc(i=t)||Gc(i))&&(t=i._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Lc.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(Lc.OR,r,this.fieldName)},e}();function Cc(e){return e&&e instanceof Mc&&e._internalType===ec}var qc,Fc,$c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(Fc=qc||(qc={})).EQ="eq",Fc.NEQ="neq",Fc.GT="gt",Fc.GTE="gte",Fc.LT="lt",Fc.LTE="lte",Fc.IN="in",Fc.NIN="nin",Fc.ALL="all",Fc.ELEM_MATCH="elemMatch",Fc.EXISTS="exists",Fc.SIZE="size",Fc.MOD="mod",Fc.GEO_NEAR="geoNear",Fc.GEO_WITHIN="geoWithin",Fc.GEO_INTERSECTS="geoIntersects";var Yc=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=Qu,o}return $c(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case qc.IN:case qc.NIN:return(e={})["$"+this.operator]=this.operands,e;default:return(t={})["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(qc.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(qc.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(qc.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(qc.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(qc.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(qc.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(qc.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(qc.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof Sc))throw new TypeError('"geometry" must be of type Point. Received type '+typeof e.geometry);if(void 0!==e.maxDistance&&!mc(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof e.maxDistance);if(void 0!==e.minDistance&&!mc(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof e.minDistance);var n=new t(qc.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof Rc||e.geometry instanceof Nc))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof e.geometry);var n=new t(qc.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof Sc||e.geometry instanceof Ac||e.geometry instanceof Nc||e.geometry instanceof Tc||e.geometry instanceof Bc||e.geometry instanceof Rc))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof e.geometry);var n=new t(qc.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(Mc);function Gc(e){return e&&e instanceof Yc&&e._internalType===Qu}function Kc(e){return Gc(e)}var Wc={};for(var Hc in qc)Wc[Hc]="$"+Hc;for(var Hc in Lc)Wc[Hc]="$"+Hc;for(var Hc in lc)Wc[Hc]="$"+Hc;function zc(e){return Wc[e]||"$"+e}Wc[qc.NEQ]="$ne",Wc[lc.REMOVE]="$unset",Wc[lc.SHIFT]="$pop",Wc[lc.UNSHIFT]="$push";var Vc=function(){return(Vc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Jc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Xc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jc(arguments[t]));return e};function Zc(e){return Qc(e,[e])}function Qc(e,t){if(!Oc(e)){if(bc(e))return{$date:+e};if(wc(e))return{$regex:e.source,$options:e.flags};if(vc(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return Qc(e,Xc(t,[e]))}));if(_c(e)){var n=Vc({},e);for(var r in n){if(t.indexOf(n[r])>-1)throw new Error("Cannot convert circular structure to JSON");n[r]=Qc(n[r],Xc(t,[n[r]]))}return n}return e}switch(e._internalType){case tc:return e.toJSON();case ac:case uc:return e.parse();default:return e.toJSON?e.toJSON():e}}var ef=function(){return(ef=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tf=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},nf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tf(arguments[t]));return e};function rf(e,t,n,r){var o=ef({},e);for(var i in e)if(!/^\$/.test(i)){var s=e[i];if(s&&_c(s)&&!t(s)){if(r.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var a=rf(s,t,nf(n,[i]),nf(r,[s]));o[i]=a;var u=!1;for(var c in a)/^\$/.test(c)?u=!0:(o[i+"."+c]=a[c],delete o[i][c]);u||delete o[i]}}return o}function of(e){return rf(e,af,[],[e])}function sf(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?vc(e[r])?e[r].push(t[r]):_c(e[r])?_c(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+gc(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+gc(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]}function af(e){return Oc(e)||bc(e)||wc(e)}function uf(e){return Zc(e)}var cf=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return jc(e)?this.encodeUpdateCommand(e):"object"===gc(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===Xu)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case lc.PUSH:case lc.PULL:case lc.PULL_ALL:case lc.POP:case lc.SHIFT:case lc.UNSHIFT:case lc.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,r,o,i=zc(e.operator);switch(e.operator){case lc.REMOVE:return(t={})[i]=((n={})[e.fieldName]="",n),t;default:return(r={})[i]=((o={})[e.fieldName]=e.operands[0],o),r}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,r,o,i,s,a,u,c,f,l=zc(e.operator);switch(e.operator){case lc.PUSH:var p=void 0;return p=vc(e.operands)?{$each:e.operands.map(uf)}:e.operands,(t={})[l]=((n={})[e.fieldName]=p,n),t;case lc.UNSHIFT:p={$each:e.operands.map(uf),$position:0};return(r={})[l]=((o={})[e.fieldName]=p,o),r;case lc.POP:return(i={})[l]=((s={})[e.fieldName]=1,s),i;case lc.SHIFT:return(a={})[l]=((u={})[e.fieldName]=-1,u),a;default:return(c={})[l]=((f={})[e.fieldName]=uf(e.operands),f),c}},e.prototype.encodeUpdateObject=function(e){var t=of(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(jc(r)){t[n]=r._setFieldName(n),sf(t,this.encodeUpdateCommand(t[n]),n)}else{t[n]=r=uf(r);var o=new kc(lc.SET,[r],n);sf(t,this.encodeUpdateCommand(o),n)}}return t},e}(),ff={};function lf(e){if(!yp.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return ff[t]||(ff[t]=new yp.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new yp.reqClass(e.config)}}})),ff[t]}var pf=function(){return(pf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},hf=function(){function e(e,t,n,r){var o=this;void 0===r&&(r={}),this.watch=function(e){return lf(o._db).watch(pf(pf({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new yp.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||Dc();var n={collectionName:this._coll,data:Zc(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||Dc(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId"});if(!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n=!1,r=function(e){if("object"==typeof e)for(var t in e)e[t]instanceof kc?n=!0:"object"==typeof e[t]&&r(e[t])};if(r(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var o={collectionName:this._coll,queryType:Ru.DOC,data:Zc(e),multi:!1,merge:!1,upsert:!0};return this.id&&(o.query={_id:this.id}),this.request.send("database.updateDocument",o).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||Dc(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={_id:this.id},r={collectionName:this._coll,data:cf.encode(e),query:n,queryType:Ru.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||Dc();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Ru.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||Dc();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Ru.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=dc.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}(),df=function(){function e(){}return e.encode=function(e){return(new yf).encodeQuery(e)},e}(),yf=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return af(e)?Cc(e)?this.encodeLogicCommand(e):Gc(e)?this.encodeQueryCommand(e):((n={})[t]=this.encodeQueryObject(e),n):_c(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,o,i,s,a,u=this;switch(e.operator){case Lc.NOR:case Lc.AND:case Lc.OR:var c=zc(e.operator),f=e.operands.map((function(t){return u.encodeQuery(t,e.fieldName)}));return(t={})[c]=f,t;case Lc.NOT:c=zc(e.operator);var l=e.operands[0];if(wc(l))return(n={})[e.fieldName]=((r={})[c]=this.encodeRegExp(l),r),n;f=this.encodeQuery(l)[e.fieldName];return(o={})[e.fieldName]=((i={})[c]=f,i),o;default:c=zc(e.operator);if(1===e.operands.length){var p=this.encodeQuery(e.operands[0]);return(s={})[c]=p,s}f=e.operands.map(this.encodeQuery.bind(this));return(a={})[c]=f,a}},e.prototype.encodeQueryCommand=function(e){return Kc(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,r,o,i,s,a,u,c;if(e.fieldName===Xu)throw new Error("Cannot encode a comparison command with unset field name");var f=zc(e.operator);switch(e.operator){case qc.EQ:case qc.NEQ:case qc.LT:case qc.LTE:case qc.GT:case qc.GTE:case qc.ELEM_MATCH:case qc.EXISTS:case qc.SIZE:case qc.MOD:return(t={})[e.fieldName]=((n={})[f]=uf(e.operands[0]),n),t;case qc.IN:case qc.NIN:case qc.ALL:return(r={})[e.fieldName]=((o={})[f]=uf(e.operands),o),r;case qc.GEO_NEAR:var l=e.operands[0];return(i={})[e.fieldName]={$nearSphere:{$geometry:l.geometry.toJSON(),$maxDistance:l.maxDistance,$minDistance:l.minDistance}},i;case qc.GEO_WITHIN:l=e.operands[0];return(s={})[e.fieldName]={$geoWithin:{$geometry:l.geometry.toJSON()}},s;case qc.GEO_INTERSECTS:l=e.operands[0];return(a={})[e.fieldName]={$geoIntersects:{$geometry:l.geometry.toJSON()}},a;default:return(u={})[e.fieldName]=((c={})[f]=uf(e.operands[0]),c),u}},e.prototype.encodeQueryObject=function(e){var t=of(e);for(var n in t){var r=t[n];if(Cc(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(Kc(r)){t[n]=r._setFieldName(n);o=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else af(r)&&(t[n]=uf(r))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?vc(e[r])?e[r]=e[r].concat(t[r]):_c(e[r])?_c(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+gc(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+gc(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}(),gf=function(){return(gf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_f=function(){function e(e,t,n,r,o){var i=this;this.watch=function(e){return lf(i._db).watch(gf(gf({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify(i._fieldFilters||{}),limit:i._queryOptions.limit,orderBy:i._fieldOrders?i._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=o||{},this._request=new yp.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||Dc();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:Ru.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:dc.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}})).catch((function(t){e(t)})),e.promise},e.prototype.count=function(e){e=e||Dc();var t={collectionName:this._coll,queryType:Ru.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})).catch((function(t){e(t)})),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(Oa.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(Oa.QueryParamValueError);return new e(this._db,this._coll,df.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){yc.isFieldPath(t),yc.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},e.prototype.limit=function(t){yc.isInteger("limit",t);var n=gf({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){yc.isInteger("offset",t);var n=gf({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||Dc(),!e||"object"!=typeof e)return Promise.resolve({code:"INVALID_PARAM",message:""});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"_id"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Ru.WHERE,multi:!0,merge:!0,upsert:!1,data:cf.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})).catch((function(e){t(e)})),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!=typeof t[n]&&(t[n]=1):t[n]=0;var r=gf({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||Dc(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:df.encode(this._fieldFilters),queryType:Ru.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})).catch((function(t){e(t)})),e.promise},e}(),mf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bf(e,t){return e(t={exports:{}},t.exports),t.exports}for(var wf=function(e){var t=Pf(e),n=t[0],r=t[1];return 3*(n+r)/4-r},Of=function(e){var t,n,r=Pf(e),o=r[0],i=r[1],s=new Nf(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,u=i>0?o-4:o;for(n=0;n<u;n+=4)t=Ef[e.charCodeAt(n)]<<18|Ef[e.charCodeAt(n+1)]<<12|Ef[e.charCodeAt(n+2)]<<6|Ef[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===i&&(t=Ef[e.charCodeAt(n)]<<2|Ef[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===i&&(t=Ef[e.charCodeAt(n)]<<10|Ef[e.charCodeAt(n+1)]<<4|Ef[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},Sf=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(Rf(e,s,s+i>a?a:s+i));1===r?(t=e[n-1],o.push(Af[t>>2]+Af[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(Af[t>>10]+Af[t>>4&63]+Af[t<<2&63]+"="));return o.join("")},Af=[],Ef=[],Nf="undefined"!=typeof Uint8Array?Uint8Array:Array,Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",If=0,Bf=Tf.length;If<Bf;++If)Af[If]=Tf[If],Ef[Tf.charCodeAt(If)]=If;function Pf(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Rf(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Af[(o=r)>>18&63]+Af[o>>12&63]+Af[o>>6&63]+Af[63&o]);return i.join("")}Ef["-".charCodeAt(0)]=62,Ef["_".charCodeAt(0)]=63;var xf={byteLength:wf,toByteArray:Of,fromByteArray:Sf},Df=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?o-1:0,p=n?-1:1,h=e[t+l];for(l+=p,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=p,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=c}return(h?-1:1)*s*Math.pow(2,i-r)},Lf=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&a,h+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+h]=255&s,h+=d,s/=256,c-=8);e[n+h-d]|=128*y},Uf=bf((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),s=r.write(e,t);s!==n&&(r=r.slice(0,s));return r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var s=function(e){if(i.isBuffer(e)){var t=0|l(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||q(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(o)return r?-1:k(e).length;t=(""+t).toLowerCase(),o=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var f=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var l=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){l=!1;break}if(l)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return M(k(t,e.length-n),e,n,r)}function v(e,t,n,r){return M(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return v(e,t,n,r)}function w(e,t,n,r){return M(j(t),e,n,r)}function O(e,t,n,r){return M(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?xf.fromByteArray(e):xf.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(cd){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return u(e)},i.allocUnsafeSlow=function(e){return u(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(C(s,Uint8Array)&&(s=i.from(s)),!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(C(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(r,o),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F[e[i]];return o}function B(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return t=+t,n>>>=0,o||x(e,0,n,4),Lf(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||x(e,0,n,8),Lf(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),Df(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),Df(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),Df(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),Df(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);R(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var s=o-1;s>=0;--s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=i.isBuffer(e)?e:i.from(e,r),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var U=/[^+/0-9A-Za-z-_]/g;function k(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return xf.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}var F=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}));Uf.Buffer,Uf.SlowBuffer,Uf.INSPECT_MAX_BYTES,Uf.kMaxLength;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var kf=function(e,t){return(kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var jf=function(){return(jf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Mf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function qf(e){return this instanceof qf?(this.v=e,this):new qf(e)}var Ff=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}kf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return jf},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(cd){i(cd)}}function a(e){try{u(r.throw(e))}catch(cd){i(cd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(cd){i=[6,cd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Mf,__read:Cf,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cf(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},__await:qf,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof qf?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(cd){f(i[0][3],cd)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:qf(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Mf(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),$f={},Yf="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},Gf=/%[sdj%]/g;function Kf(e){if(!ol(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(zf(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(Gf,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])nl(s)||!al(s)?i+=" "+s:i+=" "+zf(s);return i}var Wf,Hf={};function zf(e,t){var n={seen:[],stylize:Jf};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),tl(t)?n.showHidden=t:t&&yl(n,t),il(n.showHidden)&&(n.showHidden=!1),il(n.depth)&&(n.depth=2),il(n.colors)&&(n.colors=!1),il(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Vf),Xf(n,e,n.depth)}function Vf(e,t){var n=zf.styles[t];return n?"["+zf.colors[n][0]+"m"+e+"["+zf.colors[n][1]+"m":e}function Jf(e,t){return e}function Xf(e,t,n){if(e.customInspect&&t&&fl(t.inspect)&&t.inspect!==zf&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return ol(r)||(r=Xf(e,r,n)),r}var o=function(e,t){if(il(t))return e.stylize("undefined","undefined");if(ol(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(rl(t))return e.stylize(""+t,"number");if(tl(t))return e.stylize(""+t,"boolean");if(nl(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),cl(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Zf(t);if(0===i.length){if(fl(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(sl(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(ul(t))return e.stylize(Date.prototype.toString.call(t),"date");if(cl(t))return Zf(t)}var u,c="",f=!1,l=["{","}"];(el(t)&&(f=!0,l=["[","]"]),fl(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return sl(t)&&(c=" "+RegExp.prototype.toString.call(t)),ul(t)&&(c=" "+Date.prototype.toUTCString.call(t)),cl(t)&&(c=" "+Zf(t)),0!==i.length||f&&0!=t.length?n<0?sl(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)gl(t,String(s))?i.push(Qf(e,t,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Qf(e,t,n,r,o,!0))})),i}(e,t,n,s,i):i.map((function(r){return Qf(e,t,n,s,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,l)):l[0]+c+l[1]}function Zf(e){return"["+Error.prototype.toString.call(e)+"]"}function Qf(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),gl(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=nl(n)?Xf(e,u.value,null):Xf(e,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),il(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function el(e){return Array.isArray(e)}function tl(e){return"boolean"==typeof e}function nl(e){return null===e}function rl(e){return"number"==typeof e}function ol(e){return"string"==typeof e}function il(e){return void 0===e}function sl(e){return al(e)&&"[object RegExp]"===ll(e)}function al(e){return"object"===babelHelpers.typeof(e)&&null!==e}function ul(e){return al(e)&&"[object Date]"===ll(e)}function cl(e){return al(e)&&("[object Error]"===ll(e)||e instanceof Error)}function fl(e){return"function"==typeof e}function ll(e){return Object.prototype.toString.call(e)}function pl(e){return e<10?"0"+e.toString(10):e.toString(10)}zf.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},zf.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var hl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function dl(){var e=new Date,t=[pl(e.getHours()),pl(e.getMinutes()),pl(e.getSeconds())].join(":");return[e.getDate(),hl[e.getMonth()],t].join(" ")}function yl(e,t){if(!t||!al(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function gl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _l={inherits:Yf,_extend:yl,log:function(){console.log("%s - %s",dl(),Kf.apply(null,arguments))},isBuffer:function(e){return Buffer.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===babelHelpers.typeof(e)||void 0===e},isFunction:fl,isError:cl,isDate:ul,isObject:al,isRegExp:sl,isUndefined:il,isSymbol:function(e){return"symbol"===babelHelpers.typeof(e)},isString:ol,isNumber:rl,isNullOrUndefined:function(e){return null==e},isNull:nl,isBoolean:tl,isArray:el,inspect:zf,deprecate:function e(t,n){if(il(global.process))return function(){return e(t,n).apply(this,arguments)};var r=!1;return function(){return r||(console.error(n),r=!0),t.apply(this,arguments)}},format:Kf,debuglog:function(e){if(il(Wf)&&(Wf=""),e=e.toUpperCase(),!Hf[e])if(new RegExp("\\b"+e+"\\b","i").test(Wf)){Hf[e]=function(){var t=Kf.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else Hf[e]=function(){};return Hf[e]}},ml=bf((function(e,t){function n(e){for(var t=Uf.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")},t.randomBytes=n,"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=function(e){return window.crypto.getRandomValues(Uf.Buffer.alloc(e))};else{try{t.randomBytes=$f.randomBytes}catch(cd){}null==t.randomBytes&&(t.randomBytes=n)}function r(e){return"object"==typeof e&&null!==e}t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.haveBuffer=function(){return void 0!==mf&&void 0!==mf.Buffer},t.isBuffer=function(e){var t;return"object"==typeof e&&"Buffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)},t.isDate=function(e){return r(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=r,t.deprecate=function(e,t){if("undefined"==typeof window&&"undefined"==typeof self)return _l.deprecate(e,t);var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(console.warn(t),n=!0),e.apply.apply(e,Ff.__spreadArrays([this],r))}}}));vf(ml),ml.deprecate,ml.isObjectLike,ml.isDate,ml.isBuffer,ml.haveBuffer,ml.isBigUInt64Array,ml.isBigInt64Array,ml.isUint8Array,ml.randomBytes,ml.normalizedFunctionString;var vl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(ml.isBuffer(e))return e;if(ArrayBuffer.isView(e))return Uf.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return Uf.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}}));vf(vl),vl.ensureBuffer;var bl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.parseUUID=function(e){if("string"!=typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+typeof e);if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}}));vf(bl),bl.parseUUID;var wl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=Uf.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=Uf.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=Uf.Buffer.from(t):this.buffer=vl.ensureBuffer(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=Uf.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=Uf.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(vl.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.fromExtendedJSON=function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=Uf.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Uf.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=Uf.Buffer.from(bl.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));vf(wl),wl.Binary;var Ol=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));vf(Ol),Ol.Code;var Sl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return ml.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var n=function(){function e(t,n,r,o){if(!(this instanceof e))return new e(t,n,r,o);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=n,Object.defineProperty(n.prototype,"_bsontype",{value:"DBRef"})}));vf(Sl),Sl.DBRef,Sl.isDBRefLike;var Al=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}var r=4294967296,o=0x10000000000000000,i=o/2,s={},a={},u=function(){function e(t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),!(this instanceof e))return new e(t,n,r);this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=a[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(a[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=s[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(s[t]=r),r)},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=o)return e.MAX_UNSIGNED_VALUE}else{if(t<=-i)return e.MIN_VALUE;if(t+1>=i)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%r|0,t/r|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var f=e.fromNumber(Math.pow(r,u));s=s.mul(f).add(e.fromNumber(c))}else s=(s=s.mul(i)).add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return ml.isObjectLike(e)&&!0===e.__isLong__},e.fromValue=function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,f=0,l=0,p=0;return l+=(p+=i+(65535&t.low))>>>16,p&=65535,f+=(l+=o+u)>>>16,l&=65535,c+=(f+=r+a)>>>16,f&=65535,c+=n+s,c&=65535,e.fromBits(l<<16|p,c<<16|f,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,i,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;s=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(o=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(o)),s=o.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=e.ZERO}for(i=this;i.gte(t);){o=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(o)/Math.LN2),u=a<=48?1:Math.pow(2,a-48),c=e.fromNumber(o),f=c.mul(t);f.isNegative()||f.gt(i);)o-=u,f=(c=e.fromNumber(o,this.unsigned)).mul(t);c.isZero()&&(c=e.ONE),s=s.add(c),i=i.sub(f)}return s},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,s=this.low>>>16,a=65535&this.low,u=t.high>>>16,c=65535&t.high,f=t.low>>>16,l=65535&t.low,p=0,h=0,d=0,y=0;return d+=(y+=a*l)>>>16,y&=65535,h+=(d+=s*l)>>>16,d&=65535,h+=(d+=a*f)>>>16,d&=65535,p+=(h+=i*l)>>>16,h&=65535,p+=(h+=s*f)>>>16,h&=65535,p+=(h+=a*c)>>>16,h&=65535,p+=o*l+i*f+s*c+a*u,p&=65535,e.fromBits(d<<16|y,p<<16|h,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(i),c=(s.sub(u.mul(i)).toInt()>>>0).toString(t);if((s=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'")'},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=u,Object.defineProperty(u.prototype,"__isLong__",{value:!0}),Object.defineProperty(u.prototype,"_bsontype",{value:"Long"})}));vf(Al),Al.Long;var El=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,o=/^(\+|-)?NaN$/i,i=6111,s=-6176,a=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=/^([-+])?(\d+)?$/;function l(e){return!isNaN(parseInt(e,10))}function p(e){var t=Al.Long.fromNumber(1e9),n=Al.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new Al.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function h(e,t){throw new TypeError('"'+e+'" is not a valid Decimal128 string - '+t)}var d=function(){function e(t){if(!(this instanceof e))return new e(t);this.bytes=t}return e.fromString=function(t){var p,d=!1,y=!1,g=!1,_=0,m=0,v=0,b=0,w=0,O=[0],S=0,A=0,E=0,N=0,T=0,I=0,B=new Al.Long(0,0),P=new Al.Long(0,0),R=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var x=t.match(n),D=t.match(r),L=t.match(o);if(!x&&!D&&!L||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(x){var U=x[2],k=x[4],j=x[5],M=x[6];k&&void 0===M&&h(t,"missing exponent power"),k&&void 0===U&&h(t,"missing exponent base"),void 0===k&&(j||M)&&h(t,"missing e before exponent")}if("+"!==t[R]&&"-"!==t[R]||(d="-"===t[R++]),!l(t[R])&&"."!==t[R]){if("i"===t[R]||"I"===t[R])return new e(Uf.Buffer.from(d?u:c));if("N"===t[R])return new e(Uf.Buffer.from(a))}for(;l(t[R])||"."===t[R];)"."!==t[R]?(S<34&&("0"!==t[R]||g)&&(g||(w=m),g=!0,O[A++]=parseInt(t[R],10),S+=1),g&&(v+=1),y&&(b+=1),m+=1,R+=1):(y&&h(t,"contains multiple periods"),y=!0,R+=1);if(y&&!m)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[R]||"E"===t[R]){var C=t.substr(++R).match(f);if(!C||!C[2])return new e(Uf.Buffer.from(a));T=parseInt(C[0],10),R+=C[0].length}if(t[R])return new e(Uf.Buffer.from(a));if(E=0,S){if(N=S-1,1!==(_=v))for(;"0"===t[w+_-1];)_-=1}else E=0,N=0,O[0]=0,v=1,S=1,_=0;for(T<=b&&b-T>16384?T=s:T-=b;T>i;){if((N+=1)-E>34){if(O.join("").match(/^0+$/)){T=i;break}h(t,"overflow")}T-=1}for(;T<s||S<v;){if(0===N&&_<S){T=s,_=0;break}if(S<v?v-=1:N-=1,T<i)T+=1;else{if(O.join("").match(/^0+$/)){T=i;break}h(t,"overflow")}}if(N-E+1<_){var q=m;y&&(w+=1,q+=1),d&&(w+=1,q+=1);var F=parseInt(t[w+N+1],10),$=0;if(F>=5&&($=1,5===F))for($=O[N]%2==1?1:0,I=w+N+2;I<q;I++)if(parseInt(t[I],10)){$=1;break}if($)for(var Y=N;Y>=0;Y--)if(++O[Y]>9&&(O[Y]=0,0===Y)){if(!(T<i))return new e(Uf.Buffer.from(d?u:c));T+=1,O[Y]=1}}if(B=Al.Long.fromNumber(0),P=Al.Long.fromNumber(0),0===_)B=Al.Long.fromNumber(0),P=Al.Long.fromNumber(0);else if(N-E<17){Y=E;for(P=Al.Long.fromNumber(O[Y++]),B=new Al.Long(0,0);Y<=N;Y++)P=(P=P.multiply(Al.Long.fromNumber(10))).add(Al.Long.fromNumber(O[Y]))}else{Y=E;for(B=Al.Long.fromNumber(O[Y++]);Y<=N-17;Y++)B=(B=B.multiply(Al.Long.fromNumber(10))).add(Al.Long.fromNumber(O[Y]));for(P=Al.Long.fromNumber(O[Y++]);Y<=N;Y++)P=(P=P.multiply(Al.Long.fromNumber(10))).add(Al.Long.fromNumber(O[Y]))}var G,K,W,H,z=function(e,t){if(!e&&!t)return{high:Al.Long.fromNumber(0),low:Al.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new Al.Long(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new Al.Long(t.getLowBits(),0),s=n.multiply(o),a=n.multiply(i),u=r.multiply(o),c=r.multiply(i);return s=s.add(a.shiftRightUnsigned(32)),a=new Al.Long(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new Al.Long(c.getLowBits(),0))}}(B,Al.Long.fromString("100000000000000000"));z.low=z.low.add(P),G=z.low,K=P,W=G.high>>>0,H=K.high>>>0,(W<H||W===H&&G.low>>>0<K.low>>>0)&&(z.high=z.high.add(Al.Long.fromNumber(1))),p=T+6176;var V={low:Al.Long.fromNumber(0),high:Al.Long.fromNumber(0)};z.high.shiftRightUnsigned(49).and(Al.Long.fromNumber(1)).equals(Al.Long.fromNumber(1))?(V.high=V.high.or(Al.Long.fromNumber(3).shiftLeft(61)),V.high=V.high.or(Al.Long.fromNumber(p).and(Al.Long.fromNumber(16383).shiftLeft(47))),V.high=V.high.or(z.high.and(Al.Long.fromNumber(0x7fffffffffff)))):(V.high=V.high.or(Al.Long.fromNumber(16383&p).shiftLeft(49)),V.high=V.high.or(z.high.and(Al.Long.fromNumber(562949953421311)))),V.low=z.low,d&&(V.high=V.high.or(Al.Long.fromString("9223372036854775808")));var J=Uf.Buffer.alloc(16);return R=0,J[R++]=255&V.low.low,J[R++]=V.low.low>>8&255,J[R++]=V.low.low>>16&255,J[R++]=V.low.low>>24&255,J[R++]=255&V.low.high,J[R++]=V.low.high>>8&255,J[R++]=V.low.high>>16&255,J[R++]=V.low.high>>24&255,J[R++]=255&V.high.low,J[R++]=V.high.low>>8&255,J[R++]=V.high.low>>16&255,J[R++]=V.high.low>>24&255,J[R++]=255&V.high.high,J[R++]=V.high.high>>8&255,J[R++]=V.high.high>>16&255,J[R++]=V.high.high>>24&255,new e(J)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var o,i,s,a=0,u=!1,c={parts:[0,0,0,0]},f=[];a=0;var l=this.bytes,h=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,d=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,y=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24,g=l[a++]|l[a++]<<8|l[a++]<<16|l[a++]<<24;a=0,{low:new Al.Long(h,d),high:new Al.Long(y,g)}.high.lessThan(Al.Long.ZERO)&&f.push("-");var _=g>>26&31;if(_>>3==3){if(30===_)return f.join("")+"Infinity";if(31===_)return"NaN";e=g>>15&16383,o=8+(g>>14&1)}else o=g>>14&7,e=g>>17&16383;var m=e-6176;if(c.parts[0]=(16383&g)+((15&o)<<14),c.parts[1]=y,c.parts[2]=d,c.parts[3]=h,0===c.parts[0]&&0===c.parts[1]&&0===c.parts[2]&&0===c.parts[3])u=!0;else for(s=3;s>=0;s--){var v=0,b=p(c);if(c=b.quotient,v=b.rem.low)for(i=8;i>=0;i--)n[9*s+i]=v%10,v=Math.floor(v/10)}if(u)t=1,n[a]=0;else for(t=36;!n[a];)t-=1,a+=1;var w=t-1+m;if(w>=34||w<=-7||m>0){if(t>34)return f.push("0"),m>0?f.push("E+"+m):m<0&&f.push("E"+m),f.join("");f.push(""+n[a++]),(t-=1)&&f.push(".");for(r=0;r<t;r++)f.push(""+n[a++]);f.push("E"),w>0?f.push("+"+w):f.push(""+w)}else if(m>=0)for(r=0;r<t;r++)f.push(""+n[a++]);else{var O=t+m;if(O>0)for(r=0;r<O;r++)f.push(""+n[a++]);else f.push("0");for(f.push(".");O++<0;)f.push("0");for(r=0;r<t-Math.max(O-1,0);r++)f.push(""+n[a++])}return f.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'Decimal128.fromString("'+this.toString()+'")'},e}();t.Decimal128=d,Object.defineProperty(d.prototype,"_bsontype",{value:"Decimal128"})}));vf(El),El.Decimal128;var Nl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));vf(Nl),Nl.Double;var Tl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));vf(Tl),Tl.Int32;var Il=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));vf(Il),Il.MaxKey;var Bl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));vf(Bl),Bl.MinKey;var Pl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=ml.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),o=[],i=0;i<256;i++)o[i]=(i<=15?"0":"")+i.toString(16);for(var s=[],a=0;a<10;)s[48+a]=a++;for(;a<16;)s[55+a]=s[87+a]=a++;var u=Symbol("id"),c=function(){function e(t){if(!(this instanceof e))return new e(t);if(t instanceof e&&(this[u]=t.id,this.__id=t.__id),"object"==typeof t&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[u]=Uf.Buffer.from(t.toHexString(),"hex"):this[u]="string"==typeof t.id?Uf.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[u]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[u]=vl.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=Uf.Buffer.from(t);12===n.byteLength&&(this[u]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[u]=Uf.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[u]},set:function(t){this[u]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),o=Uf.Buffer.alloc(12);return o.writeUInt32BE(t,0),o[4]=n[0],o[5]=n[1],o[6]=n[2],o[7]=n[3],o[8]=n[4],o[11]=255&r,o[10]=r>>8&255,o[9]=r>>16&255,o},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Uf.Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?Uf.Buffer.from(t).equals(this.id):"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=Uf.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Uf.Buffer.from(t,"hex"))},e.isValid=function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||(t instanceof Uf.Buffer&&12===t.length||"object"==typeof t&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex"))))))},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=~~(16777215*Math.random()),e}();t.ObjectId=c,Object.defineProperty(c.prototype,"generate",{value:ml.deprecate((function(e){return c.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(c.prototype,"getInc",{value:ml.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"get_inc",{value:ml.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c,"get_inc",{value:ml.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"_bsontype",{value:"ObjectID"})}));vf(Pl),Pl.ObjectId;var Rl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.pattern=t,this.options=null!=n?n:"",this.options.split("").sort().join("");for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option ["+this.options[r]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=n,Object.defineProperty(n.prototype,"_bsontype",{value:"BSONRegExp"})}));vf(Rl),Rl.BSONRegExp;var xl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));vf(xl),xl.BSONSymbol;var Dl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=Al.Long;var n=function(e){function t(n,r){var o=this;return o instanceof t?(o=Al.Long.isLong(n)?e.call(this,n.low,n.high,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(n,r)}return Ff.__extends(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(Al.Long.fromInt(e,!0))},t.fromNumber=function(e){return new t(Al.Long.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(Al.Long.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp.i,e.$timestamp.t)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp("+this.getLowBits().toString()+", "+this.getHighBits().toString()+")"},t.MAX_VALUE=Al.Long.MAX_UNSIGNED_VALUE,t}(t.LongWithoutOverridesClass);t.Timestamp=n}));vf(Dl),Dl.Timestamp,Dl.LongWithoutOverridesClass;var Ll=bf((function(e,t){function n(e){return ml.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var r=2147483647,o=-2147483648,i=0x8000000000000000,s=-0x8000000000000000,a={$oid:Pl.ObjectId,$binary:wl.Binary,$uuid:wl.Binary,$symbol:xl.BSONSymbol,$numberInt:Tl.Int32,$numberDecimal:El.Decimal128,$numberDouble:Nl.Double,$numberLong:Al.Long,$minKey:Bl.MinKey,$maxKey:Il.MaxKey,$regex:Rl.BSONRegExp,$regularExpression:Rl.BSONRegExp,$timestamp:Dl.Timestamp};function u(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=o&&e<=r)return new Tl.Int32(e);if(e>=s&&e<=i)return Al.Long.fromNumber(e)}return new Nl.Double(e)}if(null==e||"object"!=typeof e)return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter((function(t){return t.startsWith("$")&&null!=e[t]})),c=0;c<n.length;c++){var f=a[n[c]];if(f)return f.fromExtendedJSON(e,t)}if(null!=e.$date){var l=e.$date,p=new Date;return t.legacy?"number"==typeof l?p.setTime(l):"string"==typeof l&&p.setTime(Date.parse(l)):"string"==typeof l?p.setTime(Date.parse(l)):Al.Long.isLong(l)?p.setTime(l.toNumber()):"number"==typeof l&&t.relaxed&&p.setTime(l),p}if(null!=e.$code){var h=Object.assign({},e);return e.$scope&&(h.$scope=u(e.$scope)),Ol.Code.fromExtendedJSON(e)}if(null!=e.$ref||null!=e.$dbPointer){var d=e.$ref?e:e.$dbPointer;if(d instanceof Sl.DBRef)return d;var y=Object.keys(d).filter((function(e){return e.startsWith("$")})),g=!0;if(y.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(g=!1)})),g)return Sl.DBRef.fromExtendedJSON(d)}return e}function c(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function f(e,t){if(Array.isArray(e))return function(e,t){return e.map((function(e){return f(e,t)}))}(e,t);if(void 0===e)return null;if(e instanceof Date){var a=e.getTime(),u=a>-1&&a<2534023188e5;return t.legacy?t.relaxed&&u?{$date:e.getTime()}:{$date:c(e)}:t.relaxed&&u?{$date:c(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var p=e>=s&&e<=i;if(e>=o&&e<=r)return{$numberInt:e.toString()};if(p)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var h=e.flags;if(void 0===h){var d=e.toString().match(/[gimuy]*$/);d&&(h=d[0])}return new Rl.BSONRegExp(e.source,h).toExtendedJSON(t)}return null!=e&&"object"==typeof e?function(e,t){if(null==e||"object"!=typeof e)throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var o={};for(var i in e)o[i]=f(e[i],t);return o}if(n(e)){var s=e;if("function"!=typeof s.toExtendedJSON){var a=l[e._bsontype];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);s=a(s)}return"Code"===r&&s.scope?s=new Ol.Code(s.code,f(s.scope,t)):"DBRef"===r&&s.oid&&(s=new Sl.DBRef(s.collection,f(s.oid,t),s.db,s.fields)),s.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+typeof r)}(e,t):e}var l={Binary:function(e){return new wl.Binary(e.value(),e.sub_type)},Code:function(e){return new Ol.Code(e.code,e.scope)},DBRef:function(e){return new Sl.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new El.Decimal128(e.bytes)},Double:function(e){return new Nl.Double(e.value)},Int32:function(e){return new Tl.Int32(e.value)},Long:function(e){return Al.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new Il.MaxKey},MinKey:function(){return new Bl.MinKey},ObjectID:function(e){return new Pl.ObjectId(e)},ObjectId:function(e){return new Pl.ObjectId(e)},BSONRegExp:function(e){return new Rl.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new xl.BSONSymbol(e.value)},Timestamp:function(e){return Dl.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){return u(t,n)}))}function n(e,t,n,r){null!=n&&"object"==typeof n&&(r=n,n=0),null==t||"object"!=typeof t||Array.isArray(t)||(r=t,t=void 0,n=0);var o=f(e,r=Object.assign({},{relaxed:!0,legacy:!1},r));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(t.EJSON||(t.EJSON={}))}));vf(Ll),Ll.EJSON,Ll.isBSONType;var Ul=bf((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e};var o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof mf&&mf)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=n=o.Map:t.Map=n=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}()}));vf(Ul),Ul.Map;var kl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));vf(kl),kl.BSON_BINARY_SUBTYPE_USER_DEFINED,kl.BSON_BINARY_SUBTYPE_MD5,kl.BSON_BINARY_SUBTYPE_UUID_NEW,kl.BSON_BINARY_SUBTYPE_UUID,kl.BSON_BINARY_SUBTYPE_BYTE_ARRAY,kl.BSON_BINARY_SUBTYPE_FUNCTION,kl.BSON_BINARY_SUBTYPE_DEFAULT,kl.BSON_DATA_MAX_KEY,kl.BSON_DATA_MIN_KEY,kl.BSON_DATA_DECIMAL128,kl.BSON_DATA_LONG,kl.BSON_DATA_TIMESTAMP,kl.BSON_DATA_INT,kl.BSON_DATA_CODE_W_SCOPE,kl.BSON_DATA_SYMBOL,kl.BSON_DATA_CODE,kl.BSON_DATA_DBPOINTER,kl.BSON_DATA_REGEXP,kl.BSON_DATA_NULL,kl.BSON_DATA_DATE,kl.BSON_DATA_BOOLEAN,kl.BSON_DATA_OID,kl.BSON_DATA_UNDEFINED,kl.BSON_DATA_BINARY,kl.BSON_DATA_ARRAY,kl.BSON_DATA_OBJECT,kl.BSON_DATA_STRING,kl.BSON_DATA_NUMBER,kl.JS_INT_MIN,kl.JS_INT_MAX,kl.BSON_INT64_MIN,kl.BSON_INT64_MAX,kl.BSON_INT32_MIN,kl.BSON_INT32_MAX;var jl=bf((function(e,t){function n(e,t,n){var o=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=r(i.toString(),e[i],t,!0,n);else for(var s in e.toBSON&&(e=e.toBSON()),e)o+=r(s,e[s],t,!1,n);return o}function r(e,t,r,o,i){switch(void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),t&&t.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+Uf.Buffer.byteLength(e,"utf8")+1+4+Uf.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=kl.JS_INT_MIN&&t<=kl.JS_INT_MAX&&t>=kl.BSON_INT32_MIN&&t<=kl.BSON_INT32_MAX?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return o||!i?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||ml.isDate(t))return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Uf.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,i):(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+4+Uf.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===wl.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+Uf.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s.$db=t.db),(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+n(s,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+Uf.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+Uf.Buffer.byteLength(t.pattern,"utf8")+1+Uf.Buffer.byteLength(t.options,"utf8")+1:(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+Uf.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Uf.Buffer.byteLength(ml.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,i);if(r)return(null!=e?Uf.Buffer.byteLength(e,"utf8")+1:0)+1+4+Uf.Buffer.byteLength(ml.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));vf(jl),jl.calculateObjectSize;var Ml=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0;t.validateUtf8=function(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if(128!=(192&i))return!1;r-=1}else if(128&i)if(192==(224&i))r=1;else if(224==(240&i))r=2;else{if(240!=(248&i))return!1;r=3}}return!r}}));vf(Ml),Ml.validateUtf8;var Cl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=Al.Long.fromNumber(kl.JS_INT_MAX),r=Al.Long.fromNumber(kl.JS_INT_MIN),o={};function i(e,t,a,u){void 0===u&&(u=!1);var c=null!=a.evalFunctions&&a.evalFunctions,f=null!=a.cacheFunctions&&a.cacheFunctions,l=null==a.fieldsAsRaw?null:a.fieldsAsRaw,p=null!=a.raw&&a.raw,h="boolean"==typeof a.bsonRegExp&&a.bsonRegExp,d=null!=a.promoteBuffers&&a.promoteBuffers,y=null==a.promoteLongs||a.promoteLongs,g=null==a.promoteValues||a.promoteValues,_=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var m=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(m<5||m>e.length)throw new Error("corrupt bson message");for(var v=u?[]:{},b=0;;){var w=e[t++];if(0===w)break;for(var O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var S=u?b++:e.toString("utf8",t,O);if(t=O+1,w===kl.BSON_DATA_STRING){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Ml.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var A=e.toString("utf8",t,t+H-1);v[S]=A,t+=H}else if(w===kl.BSON_DATA_OID){var E=Uf.Buffer.alloc(12);e.copy(E,0,t,t+12),v[S]=new Pl.ObjectId(E),t+=12}else if(w===kl.BSON_DATA_INT&&!1===g)v[S]=new Tl.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(w===kl.BSON_DATA_INT)v[S]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(w===kl.BSON_DATA_NUMBER&&!1===g)v[S]=new Nl.Double(e.readDoubleLE(t)),t+=8;else if(w===kl.BSON_DATA_NUMBER)v[S]=e.readDoubleLE(t),t+=8;else if(w===kl.BSON_DATA_DATE){var N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[S]=new Date(new Al.Long(N,T).toNumber())}else if(w===kl.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");v[S]=1===e[t++]}else if(w===kl.BSON_DATA_OBJECT){var I=t;if((K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)<=0||K>e.length-t)throw new Error("bad embedded document length in bson");v[S]=p?e.slice(t,t+K):i(e,I,a,!1),t+=K}else if(w===kl.BSON_DATA_ARRAY){I=t;var B=a,P=t+(K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(l&&l[S]){for(var R in B={},a)B[R]=a[R];B.raw=!0}if(v[S]=i(e,I,B,!0),0!==e[(t+=K)-1])throw new Error("invalid array terminator byte");if(t!==P)throw new Error("corrupted array bson")}else if(w===kl.BSON_DATA_UNDEFINED)v[S]=void 0;else if(w===kl.BSON_DATA_NULL)v[S]=null;else if(w===kl.BSON_DATA_LONG){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var x=new Al.Long(N,T);v[S]=y&&!0===g&&x.lessThanOrEqual(n)&&x.greaterThanOrEqual(r)?x.toNumber():x}else if(w===kl.BSON_DATA_DECIMAL128){var D=Uf.Buffer.alloc(16);e.copy(D,0,t,t+16),t+=16;var L=new El.Decimal128(D);"toObject"in L&&"function"==typeof L.toObject?v[S]=L.toObject():v[S]=L}else if(w===kl.BSON_DATA_BINARY){var U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,k=U,j=e[t++];if(U<0)throw new Error("Negative binary type element size found");if(U>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(j===wl.Binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}v[S]=d&&g?e.slice(t,t+U):new wl.Binary(e.slice(t,t+U),j)}else{var M=Uf.Buffer.alloc(U);if(j===wl.Binary.SUBTYPE_BYTE_ARRAY){if((U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>k-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<k-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(O=0;O<U;O++)M[O]=e[t+O];v[S]=d&&g?M:new wl.Binary(M,j)}t+=U}else if(w===kl.BSON_DATA_REGEXP&&!1===h){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var C=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var q=e.toString("utf8",t,O);t=O+1;var F=new Array(q.length);for(O=0;O<q.length;O++)switch(q[O]){case"m":F[O]="m";break;case"s":F[O]="g";break;case"i":F[O]="i"}v[S]=new RegExp(C,F.join(""))}else if(w===kl.BSON_DATA_REGEXP&&!0===h){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");C=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");q=e.toString("utf8",t,O);t=O+1,v[S]=new Rl.BSONRegExp(C,q)}else if(w===kl.BSON_DATA_SYMBOL){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var $=e.toString("utf8",t,t+H-1);v[S]=g?$:new xl.BSONSymbol($),t+=H}else if(w===kl.BSON_DATA_TIMESTAMP){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[S]=new Dl.Timestamp(N,T)}else if(w===kl.BSON_DATA_MIN_KEY)v[S]=new Bl.MinKey;else if(w===kl.BSON_DATA_MAX_KEY)v[S]=new Il.MaxKey;else if(w===kl.BSON_DATA_CODE){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var Y=e.toString("utf8",t,t+H-1);v[S]=c?f?s(Y,o,v):s(Y):new Ol.Code(Y),t+=H}else if(w===kl.BSON_DATA_CODE_W_SCOPE){var G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(G<13)throw new Error("code_w_scope total size shorter minimum expected length");if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");Y=e.toString("utf8",t,t+H-1),I=t+=H;var K=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,W=i(e,I,a,!1);if(t+=K,G<8+K+H)throw new Error("code_w_scope total size is too short, truncating scope");if(G>8+K+H)throw new Error("code_w_scope total size is too long, clips outer document");c?(v[S]=f?s(Y,o,v):s(Y),v[S].scope=W):v[S]=new Ol.Code(Y,W)}else{if(w!==kl.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+w.toString(16)+' for fieldname "'+S+'"');var H;if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Ml.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var z=e.toString("utf8",t,t+H-1);t+=H;var V=Uf.Buffer.alloc(12);e.copy(V,0,t,t+12);E=new Pl.ObjectId(V);t+=12,v[S]=new Sl.DBRef(z,E)}}if(m!==t-_){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var J=Object.keys(v).filter((function(e){return e.startsWith("$")})),X=!0;if(J.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(X=!1)})),!X)return v;if(Sl.isDBRefLike(v)){var Z=Object.assign({},v);return delete Z.$ref,delete Z.$id,delete Z.$db,new Sl.DBRef(v.$ref,v.$id,v.$db,Z)}return v}function s(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is "+o);if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length "+e.length+" must be >= bson size "+o);if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length "+e.length+" must === bson size "+o);if(o+r>e.byteLength)throw new Error("(bson size "+o+" + options.index "+r+" must be <= buffer length "+e.byteLength+")");if(0!==e[r+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return i(e,r,t,n)}}));vf(Cl),Cl.deserialize;var ql=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,n,r,o){var i,s,a="big"===n,u=8*o-r-1,c=(1<<u)-1,f=c>>1,l=-7,p=a?0:o-1,h=a?1:-1,d=e[t+p];for(p+=h,i=d&(1<<-l)-1,d>>=-l,l+=u;l>0;i=256*i+e[t+p],p+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+p],p+=h,l-=8);if(0===i)i=1-f;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=f}return(d?-1:1)*s*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var s,a,u,c="big"===r,f=8*i-o-1,l=(1<<f)-1,p=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=c?i-1:0,y=c?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,o),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0)),isNaN(t)&&(a=0);o>=8;)e[n+d]=255&a,d+=y,a/=256,o-=8;for(s=s<<o|a,isNaN(t)&&(s+=8),f+=o;f>0;)e[n+d]=255&s,d+=y,s/=256,f-=8;e[n+d-y]|=128*g}}));vf(ql),ql.writeIEEE754,ql.readIEEE754;var Fl=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function i(e,t,n,r,o){e[r++]=kl.BSON_DATA_STRING;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");e[(r=r+i+1)-1]=0;var s=e.write(n,r+4,void 0,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function s(e,t,n,r,o){Number.isInteger(n)&&n>=kl.BSON_INT32_MIN&&n<=kl.BSON_INT32_MAX?(e[r++]=kl.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=kl.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,ql.writeIEEE754(e,n,r,"little",52,8),r+=8);return r}function a(e,t,n,r,o){return e[r++]=kl.BSON_DATA_NULL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function u(e,t,n,r,o){return e[r++]=kl.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function c(e,t,n,r,o){e[r++]=kl.BSON_DATA_DATE,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=Al.Long.fromNumber(n.getTime()),s=i.getLowBits(),a=i.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function f(e,t,r,o,i){if(e[o++]=kl.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return o+=e.write(r.source,o,void 0,"utf8"),e[o++]=0,r.ignoreCase&&(e[o++]=105),r.global&&(e[o++]=115),r.multiline&&(e[o++]=109),e[o++]=0,o}function l(e,t,r,o,i){if(e[o++]=kl.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return o+=e.write(r.pattern,o,void 0,"utf8"),e[o++]=0,o+=e.write(r.options.split("").sort().join(""),o,void 0,"utf8"),e[o++]=0,o}function p(e,t,n,r,o){return null===n?e[r++]=kl.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=kl.BSON_DATA_MIN_KEY:e[r++]=kl.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function h(e,t,n,r,o){if(e[r++]=kl.BSON_DATA_OID,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function d(e,t,n,r,o){e[r++]=kl.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=kl.BSON_BINARY_SUBTYPE_DEFAULT,e.set(vl.ensureBuffer(n),r),r+=i}function y(e,t,n,r,o,i,s,a,u,c){void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===c&&(c=[]);for(var f=0;f<c.length;f++)if(c[f]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?kl.BSON_DATA_ARRAY:kl.BSON_DATA_OBJECT,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var l=E(e,n,o,r,i+1,s,a,c);return c.pop(),l}function g(e,t,n,r,o){return e[r++]=kl.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function _(e,t,n,r,o){e[r++]="Long"===n._bsontype?kl.BSON_DATA_LONG:kl.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.getLowBits(),s=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function m(e,t,n,r,o){return n=n.valueOf(),e[r++]=kl.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function v(e,t,n,r,o){return e[r++]=kl.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,ql.writeIEEE754(e,n.value,r,"little",52,8),r+=8}function b(e,t,n,r,o,i,s){e[r++]=kl.BSON_DATA_CODE,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=ml.normalizedFunctionString(n),u=e.write(a,r+4,void 0,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function w(e,t,n,r,o,i,s,a,u){if(void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),n.scope&&"object"==typeof n.scope){e[r++]=kl.BSON_DATA_CODE_W_SCOPE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var c=r,f="string"==typeof n.code?n.code:n.code.toString();r+=4;var l=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;var p=E(e,n.scope,o,r,i+1,s,a);r=p-1;var h=p-c;e[c++]=255&h,e[c++]=h>>8&255,e[c++]=h>>16&255,e[c++]=h>>24&255,e[r++]=0}else{e[r++]=kl.BSON_DATA_CODE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;f=n.code.toString();var d=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&d,e[r+1]=d>>8&255,e[r+2]=d>>16&255,e[r+3]=d>>24&255,r=r+4+d-1,e[r++]=0}return r}function O(e,t,n,r,o){e[r++]=kl.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.value(!0),s=n.position;return n.sub_type===wl.Binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===wl.Binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),e.set(i,r),r+=n.position}function S(e,t,n,r,o){e[r++]=kl.BSON_DATA_SYMBOL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function A(e,t,n,r,o,i,s){e[r++]=kl.BSON_DATA_OBJECT,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var c=E(e,u=Object.assign(u,n.fields),!1,r,o+1,i),f=c-a;return e[a++]=255&f,e[a++]=f>>8&255,e[a++]=f>>16&255,e[a++]=f>>24&255,c}function E(e,t,E,N,T,I,B,P){void 0===E&&(E=!1),void 0===N&&(N=0),void 0===T&&(T=0),void 0===I&&(I=!1),void 0===B&&(B=!0),void 0===P&&(P=[]),N=N||0,(P=P||[]).push(t);var R=N+4;if(Array.isArray(t))for(var x=0;x<t.length;x++){var D=""+x;if((M=t[x])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}if("string"==typeof M)R=i(e,D,M,R,!0);else if("number"==typeof M)R=s(e,D,M,R,!0);else{if("bigint"==typeof M)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof M)R=u(e,D,M,R,!0);else if(M instanceof Date||ml.isDate(M))R=c(e,D,M,R,!0);else if(void 0===M)R=a(e,D,0,R,!0);else if(null===M)R=a(e,D,0,R,!0);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R,!0);else if(ml.isBuffer(M)||ml.isUint8Array(M))R=d(e,D,M,R,!0);else if(M instanceof RegExp||o(M))R=f(e,D,M,R,!0);else if("object"==typeof M&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!0,P);else if("object"==typeof M&&Ll.isBSONType(M)&&"Decimal128"===M._bsontype)R=g(e,D,M,R,!0);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R,!0);else if("Double"===M._bsontype)R=v(e,D,M,R,!0);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,!0);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B,!0);else if("Binary"===M._bsontype)R=O(e,D,M,R,!0);else if("Symbol"===M._bsontype)R=S(e,D,M,R,!0);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I,!0);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R,!0);else if("Int32"===M._bsontype)R=m(e,D,M,R,!0);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R,!0);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}else if(t instanceof Ul.Map)for(var L=t.entries(),U=!1;!U;){var k=L.next();if(!(U=!!k.done)){D=k.value[0];var j=typeof(M=k.value[1]);if("string"==typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(E){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===j)R=i(e,D,M,R);else if("number"===j)R=s(e,D,M,R);else{if("bigint"===j||ml.isBigInt64Array(M)||ml.isBigUInt64Array(M))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)R=u(e,D,M,R);else if(M instanceof Date||ml.isDate(M))R=c(e,D,M,R);else if(null===M||void 0===M&&!1===B)R=a(e,D,0,R);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R);else if(ml.isBuffer(M)||ml.isUint8Array(M))R=d(e,D,M,R);else if(M instanceof RegExp||o(M))R=f(e,D,M,R);else if("object"===j&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!1,P);else if("object"===j&&"Decimal128"===M._bsontype)R=g(e,D,M,R);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R);else if("Double"===M._bsontype)R=v(e,D,M,R);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,I);else if("Binary"===M._bsontype)R=O(e,D,M,R);else if("Symbol"===M._bsontype)R=S(e,D,M,R);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R);else if("Int32"===M._bsontype)R=m(e,D,M,R);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!=typeof t)throw new TypeError("toBSON function did not return an object")}for(var D in t){var M;if((M=t[D])&&M.toBSON){if("function"!=typeof M.toBSON)throw new TypeError("toBSON is not a function");M=M.toBSON()}j=typeof M;if("string"==typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(E){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===j)R=i(e,D,M,R);else if("number"===j)R=s(e,D,M,R);else{if("bigint"===j)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)R=u(e,D,M,R);else if(M instanceof Date||ml.isDate(M))R=c(e,D,M,R);else if(void 0===M)!1===B&&(R=a(e,D,0,R));else if(null===M)R=a(e,D,0,R);else if("ObjectId"===M._bsontype||"ObjectID"===M._bsontype)R=h(e,D,M,R);else if(ml.isBuffer(M)||ml.isUint8Array(M))R=d(e,D,M,R);else if(M instanceof RegExp||o(M))R=f(e,D,M,R);else if("object"===j&&null==M._bsontype)R=y(e,D,M,R,E,T,I,B,!1,P);else if("object"===j&&"Decimal128"===M._bsontype)R=g(e,D,M,R);else if("Long"===M._bsontype||"Timestamp"===M._bsontype)R=_(e,D,M,R);else if("Double"===M._bsontype)R=v(e,D,M,R);else if("Code"===M._bsontype)R=w(e,D,M,R,E,T,I,B);else if("function"==typeof M&&I)R=b(e,D,M,R,0,0,I);else if("Binary"===M._bsontype)R=O(e,D,M,R);else if("Symbol"===M._bsontype)R=S(e,D,M,R);else if("DBRef"===M._bsontype)R=A(e,D,M,R,T,I);else if("BSONRegExp"===M._bsontype)R=l(e,D,M,R);else if("Int32"===M._bsontype)R=m(e,D,M,R);else if("MinKey"===M._bsontype||"MaxKey"===M._bsontype)R=p(e,D,M,R);else if(void 0!==M._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+M._bsontype)}}}P.pop(),e[R++]=0;var C=R-N;return e[N++]=255&C,e[N++]=C>>8&255,e[N++]=C>>16&255,e[N++]=C>>24&255,R}t.serializeInto=E}));vf(Fl),Fl.serializeInto;var $l=bf((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return wl.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return Ol.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return Sl.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return El.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return Nl.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return Tl.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return Al.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return Ul.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return Il.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return Bl.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return Pl.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return Pl.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return Rl.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return xl.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return Dl.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return kl.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return kl.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return kl.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return kl.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return kl.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return kl.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return kl.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return kl.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return kl.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return kl.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return kl.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return kl.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return kl.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return kl.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return kl.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return kl.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return kl.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return kl.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return kl.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return kl.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return kl.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return kl.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return kl.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return kl.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return kl.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return kl.BSON_INT64_MIN}});var n=Ll;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return n.EJSON}});var r=Dl;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return r.LongWithoutOverridesClass}});var o=17825792,i=Uf.Buffer.alloc(o);function s(e){i.length<e&&(i=Uf.Buffer.alloc(e))}function a(e,t){void 0===t&&(t={});var n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,s="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,a="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:o;i.length<a&&(i=Uf.Buffer.alloc(a));var u=Fl.serializeInto(i,e,n,0,0,r,s,[]),c=Uf.Buffer.alloc(u);return i.copy(c,0,0,c.length),c}function u(e,t,n){void 0===n&&(n={});var r="boolean"==typeof n.checkKeys&&n.checkKeys,o="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,s="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,a="number"==typeof n.index?n.index:0,u=Fl.serializeInto(i,e,r,0,0,o,s);return i.copy(t,a,0,u),a+u-1}function c(e,t){return void 0===t&&(t={}),Cl.deserialize(vl.ensureBuffer(e),t)}function f(e,t){void 0===t&&(t={});var n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return jl.calculateObjectSize(e,n,r)}function l(e,t,n,r,o,i){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),a=vl.ensureBuffer(e),u=t,c=0;c<n;c++){var f=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[o+c]=Cl.deserialize(a,s),u+=f}return u}t.setInternalBufferSize=s,t.serialize=a,t.serializeWithBufferAndIndex=u,t.deserialize=c,t.calculateObjectSize=f,t.deserializeStream=l;var p={Binary:wl.Binary,Code:Ol.Code,DBRef:Sl.DBRef,Decimal128:El.Decimal128,Double:Nl.Double,Int32:Tl.Int32,Long:Al.Long,Map:Ul.Map,MaxKey:Il.MaxKey,MinKey:Bl.MinKey,ObjectId:Pl.ObjectId,ObjectID:Pl.ObjectId,BSONRegExp:Rl.BSONRegExp,BSONSymbol:xl.BSONSymbol,Timestamp:Dl.Timestamp,EJSON:Ll.EJSON,setInternalBufferSize:s,serialize:a,serializeWithBufferAndIndex:u,deserialize:c,calculateObjectSize:f,deserializeStream:l};t.default=p}));vf($l),$l.deserializeStream,$l.calculateObjectSize,$l.deserialize,$l.serializeWithBufferAndIndex,$l.serialize,$l.setInternalBufferSize,$l.ObjectID,$l.Decimal128,$l.BSONRegExp,$l.MaxKey,$l.MinKey,$l.Int32,$l.Double,$l.Timestamp,$l.Long,$l.ObjectId,$l.Binary,$l.DBRef,$l.BSONSymbol,$l.Map,$l.Code,$l.LongWithoutOverridesClass;var Yl=$l.EJSON;$l.BSON_INT64_MIN,$l.BSON_INT64_MAX,$l.BSON_INT32_MIN,$l.BSON_INT32_MAX,$l.BSON_DATA_UNDEFINED,$l.BSON_DATA_TIMESTAMP,$l.BSON_DATA_SYMBOL,$l.BSON_DATA_STRING,$l.BSON_DATA_REGEXP,$l.BSON_DATA_OID,$l.BSON_DATA_OBJECT,$l.BSON_DATA_NUMBER,$l.BSON_DATA_NULL,$l.BSON_DATA_MIN_KEY,$l.BSON_DATA_MAX_KEY,$l.BSON_DATA_LONG,$l.BSON_DATA_INT,$l.BSON_DATA_DECIMAL128,$l.BSON_DATA_DBPOINTER,$l.BSON_DATA_DATE,$l.BSON_DATA_CODE_W_SCOPE,$l.BSON_DATA_CODE,$l.BSON_DATA_BOOLEAN,$l.BSON_DATA_BINARY,$l.BSON_DATA_ARRAY,$l.BSON_BINARY_SUBTYPE_UUID_NEW,$l.BSON_BINARY_SUBTYPE_UUID,$l.BSON_BINARY_SUBTYPE_USER_DEFINED,$l.BSON_BINARY_SUBTYPE_MD5,$l.BSON_BINARY_SUBTYPE_FUNCTION,$l.BSON_BINARY_SUBTYPE_DEFAULT,$l.BSON_BINARY_SUBTYPE_BYTE_ARRAY;var Gl=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(cd){i(cd)}}function a(e){try{u(r.throw(e))}catch(cd){i(cd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Kl=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(cd){i=[6,cd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Wl=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new yp.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return Gl(this,void 0,void 0,(function(){var e;return Kl(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return(e=t.sent())&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(Yl.parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return(t={})[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",df.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}(),Hl=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zl=function(e){function t(t,n){return e.call(this,t,n)||this}return Hl(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId");return new hf(this._db,this._coll,e)},t.prototype.add=function(e,t){return new hf(this._db,this._coll,void 0).create(e,t)},t.prototype.aggregate=function(){return new Wl(this._db,this._coll)},t}(_f),Vl={eq:function(e){return new Yc(qc.EQ,[e])},neq:function(e){return new Yc(qc.NEQ,[e])},lt:function(e){return new Yc(qc.LT,[e])},lte:function(e){return new Yc(qc.LTE,[e])},gt:function(e){return new Yc(qc.GT,[e])},gte:function(e){return new Yc(qc.GTE,[e])},in:function(e){return new Yc(qc.IN,e)},nin:function(e){return new Yc(qc.NIN,e)},all:function(e){return new Yc(qc.ALL,e)},elemMatch:function(e){return new Yc(qc.ELEM_MATCH,[e])},exists:function(e){return new Yc(qc.EXISTS,[e])},size:function(e){return new Yc(qc.SIZE,[e])},mod:function(e){return new Yc(qc.MOD,[e])},geoNear:function(e){return new Yc(qc.GEO_NEAR,[e])},geoWithin:function(e){return new Yc(qc.GEO_WITHIN,[e])},geoIntersects:function(e){return new Yc(qc.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vc(arguments[0])?arguments[0]:Array.from(arguments);return new Mc(Lc.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vc(arguments[0])?arguments[0]:Array.from(arguments);return new Mc(Lc.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vc(arguments[0])?arguments[0]:Array.from(arguments);return new Mc(Lc.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vc(arguments[0])?arguments[0]:Array.from(arguments);return new Mc(Lc.NOT,n)},set:function(e){return new kc(lc.SET,[e])},remove:function(){return new kc(lc.REMOVE,[])},inc:function(e){return new kc(lc.INC,[e])},mul:function(e){return new kc(lc.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(_c(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=vc(t[0])?t[0]:Array.from(t);return new kc(lc.PUSH,e)},pull:function(e){return new kc(lc.PULL,e)},pullAll:function(e){return new kc(lc.PULL_ALL,e)},pop:function(){return new kc(lc.POP,[])},shift:function(){return new kc(lc.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=vc(arguments[0])?arguments[0]:Array.from(arguments);return new kc(lc.UNSHIFT,n)},addToSet:function(e){return new kc(lc.ADD_TO_SET,e)},rename:function(e){return new kc(lc.RENAME,[e])},bit:function(e){return new kc(lc.BIT,[e])},max:function(e){return new kc(lc.MAX,[e])},min:function(e){return new kc(lc.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return"string"===gc(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Wl},abs:function(e){return new Jl("abs",e)},add:function(e){return new Jl("add",e)},ceil:function(e){return new Jl("ceil",e)},divide:function(e){return new Jl("divide",e)},exp:function(e){return new Jl("exp",e)},floor:function(e){return new Jl("floor",e)},ln:function(e){return new Jl("ln",e)},log:function(e){return new Jl("log",e)},log10:function(e){return new Jl("log10",e)},mod:function(e){return new Jl("mod",e)},multiply:function(e){return new Jl("multiply",e)},pow:function(e){return new Jl("pow",e)},sqrt:function(e){return new Jl("sqrt",e)},subtract:function(e){return new Jl("subtract",e)},trunc:function(e){return new Jl("trunc",e)},arrayElemAt:function(e){return new Jl("arrayElemAt",e)},arrayToObject:function(e){return new Jl("arrayToObject",e)},concatArrays:function(e){return new Jl("concatArrays",e)},filter:function(e){return new Jl("filter",e)},in:function(e){return new Jl("in",e)},indexOfArray:function(e){return new Jl("indexOfArray",e)},isArray:function(e){return new Jl("isArray",e)},map:function(e){return new Jl("map",e)},range:function(e){return new Jl("range",e)},reduce:function(e){return new Jl("reduce",e)},reverseArray:function(e){return new Jl("reverseArray",e)},size:function(e){return new Jl("size",e)},slice:function(e){return new Jl("slice",e)},zip:function(e){return new Jl("zip",e)},and:function(e){return new Jl("and",e)},not:function(e){return new Jl("not",e)},or:function(e){return new Jl("or",e)},cmp:function(e){return new Jl("cmp",e)},eq:function(e){return new Jl("eq",e)},gt:function(e){return new Jl("gt",e)},gte:function(e){return new Jl("gte",e)},lt:function(e){return new Jl("lt",e)},lte:function(e){return new Jl("lte",e)},neq:function(e){return new Jl("ne",e)},cond:function(e){return new Jl("cond",e)},ifNull:function(e){return new Jl("ifNull",e)},switch:function(e){return new Jl("switch",e)},dateFromParts:function(e){return new Jl("dateFromParts",e)},dateFromString:function(e){return new Jl("dateFromString",e)},dayOfMonth:function(e){return new Jl("dayOfMonth",e)},dayOfWeek:function(e){return new Jl("dayOfWeek",e)},dayOfYear:function(e){return new Jl("dayOfYear",e)},isoDayOfWeek:function(e){return new Jl("isoDayOfWeek",e)},isoWeek:function(e){return new Jl("isoWeek",e)},isoWeekYear:function(e){return new Jl("isoWeekYear",e)},millisecond:function(e){return new Jl("millisecond",e)},minute:function(e){return new Jl("minute",e)},month:function(e){return new Jl("month",e)},second:function(e){return new Jl("second",e)},hour:function(e){return new Jl("hour",e)},week:function(e){return new Jl("week",e)},year:function(e){return new Jl("year",e)},literal:function(e){return new Jl("literal",e)},mergeObjects:function(e){return new Jl("mergeObjects",e)},objectToArray:function(e){return new Jl("objectToArray",e)},allElementsTrue:function(e){return new Jl("allElementsTrue",e)},anyElementTrue:function(e){return new Jl("anyElementTrue",e)},setDifference:function(e){return new Jl("setDifference",e)},setEquals:function(e){return new Jl("setEquals",e)},setIntersection:function(e){return new Jl("setIntersection",e)},setIsSubset:function(e){return new Jl("setIsSubset",e)},setUnion:function(e){return new Jl("setUnion",e)},concat:function(e){return new Jl("concat",e)},dateToString:function(e){return new Jl("dateToString",e)},indexOfBytes:function(e){return new Jl("indexOfBytes",e)},indexOfCP:function(e){return new Jl("indexOfCP",e)},split:function(e){return new Jl("split",e)},strLenBytes:function(e){return new Jl("strLenBytes",e)},strLenCP:function(e){return new Jl("strLenCP",e)},strcasecmp:function(e){return new Jl("strcasecmp",e)},substr:function(e){return new Jl("substr",e)},substrBytes:function(e){return new Jl("substrBytes",e)},substrCP:function(e){return new Jl("substrCP",e)},toLower:function(e){return new Jl("toLower",e)},toUpper:function(e){return new Jl("toUpper",e)},meta:function(e){return new Jl("meta",e)},addToSet:function(e){return new Jl("addToSet",e)},avg:function(e){return new Jl("avg",e)},first:function(e){return new Jl("first",e)},last:function(e){return new Jl("last",e)},max:function(e){return new Jl("max",e)},min:function(e){return new Jl("min",e)},push:function(e){return new Jl("push",e)},stdDevPop:function(e){return new Jl("stdDevPop",e)},stdDevSamp:function(e){return new Jl("stdDevSamp",e)},sum:function(e){return new Jl("sum",e)},let:function(e){return new Jl("let",e)}},project:{slice:function(e){return new Xl("slice",e)},elemMatch:function(e){return new Xl("elemMatch",e)}}},Jl=function(e,t){this["$"+e]=t},Xl=function(e,t){this["$"+e]=t},Zl=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return uc},enumerable:!0,configurable:!0}),e}();function Ql(e){return new Zl(e)}var ep={code:"INSERT_DOC_FAIL",message:"insert document failed"},tp={code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"},np=function(){return(np=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(cd){i(cd)}}function a(e){try{u(r.throw(e))}catch(cd){i(cd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},op=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(cd){i=[6,cd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ip="database.updateDocInTransaction",sp=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return rp(this,void 0,void 0,(function(){var t,n,r,o;return op(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:Yl.stringify(Zc(e),{relaxed:!1})},this.id&&(t._id=this.id),[4,this._request.send("database.insertDocInTransaction",t)];case 1:if((n=i.sent()).code)throw n;if(r=Yl.parse(n.inserted),1==(o=Yl.parse(n.ok))&&1==r)return[2,np(np({},n),{ok:o,inserted:r})];throw new Error(ep.message)}}))}))},e.prototype.get=function(){return rp(this,void 0,void 0,(function(){var e,t;return op(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.getInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,{data:"null"!==t.data?dc.formatField(Yl.parse(t.data)):Yl.parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return rp(this,void 0,void 0,(function(){var t,n;return op(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Yl.stringify(Zc(e),{relaxed:!1}),upsert:!0},[4,this._request.send(ip,t)];case 1:if((n=r.sent()).code)throw n;return[2,np(np({},n),{updated:Yl.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return rp(this,void 0,void 0,(function(){var t,n;return op(this,(function(r){switch(r.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Yl.stringify(cf.encode(e),{relaxed:!1})},[4,this._request.send(ip,t)];case 1:if((n=r.sent()).code)throw n;return[2,np(np({},n),{updated:Yl.parse(n.updated)})]}}))}))},e.prototype.delete=function(){return rp(this,void 0,void 0,(function(){var e,t;return op(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.deleteDocInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,np(np({},t),{deleted:Yl.parse(t.deleted)})]}}))}))},e}(),ap=function(e,t){this._coll=t,this._transaction=e},up=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(e){function t(t,n){return e.call(this,t,n)||this}return up(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId");return new sp(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;return void 0!==e._id&&(t=e._id),new sp(this._transaction,this._coll,t).create(e)},t}(ap),fp=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(cd){i(cd)}}function a(e){try{u(r.throw(e))}catch(cd){i(cd)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},lp=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(cd){i=[6,cd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},pp=function(){function e(e){this._db=e,this._request=new yp.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return fp(this,void 0,void 0,(function(){var e;return lp(this,(function(t){switch(t.label){case 0:return[4,this._request.send("database.startTransaction")];case 1:if((e=t.sent()).code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new cp(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return fp(this,void 0,void 0,(function(){var e,t;return lp(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send("database.commitTransaction",e)];case 1:if((t=n.sent()).code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return fp(this,void 0,void 0,(function(){var t,n;return lp(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send("database.abortTransaction",t)];case 1:if((n=r.sent()).code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();function hp(){return fp(this,void 0,void 0,(function(){var e;return lp(this,(function(t){switch(t.label){case 0:return[4,(e=new pp(this)).init()];case 1:return t.sent(),[2,e]}}))}))}function dp(e,t){return void 0===t&&(t=3),fp(this,void 0,void 0,(function(){var n,r,o,i,s=this;return lp(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,10]),[4,(n=new pp(this)).init()];case 1:return a.sent(),[4,e(n)];case 2:if(r=a.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return a.sent(),[2,r];case 4:if(o=a.sent(),!1===n.inited)throw o;return i=function(e){return fp(s,void 0,void 0,(function(){return lp(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,i(o)]:[3,6];case 5:a.sent(),a.label=6;case 6:return o&&o.code===tp.code?[4,dp.bind(this)(e,--t)]:[3,8];case 7:return[2,a.sent()];case 8:return[4,i(o)];case 9:return a.sent(),[3,10];case 10:return[2]}}))}))}var yp=function(){function e(e){this.config=e,this.Geo=xc,this.serverDate=fc,this.command=Vl,this.RegExp=Ql,this.startTransaction=hp,this.runTransaction=dp,this.logicCommand=Mc,this.updateCommand=kc,this.queryCommand=Yc}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new zl(this,e)},e.prototype.createCollection=function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)},e}();
/*!
  * vue-router v4.0.5
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const gp="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,_p=e=>gp?Symbol(e):"_vr_"+e,mp=_p("rvlm"),vp=_p("rvd"),bp=_p("r"),wp=_p("rl"),Op=_p("rvl"),Sp="undefined"!=typeof window;const Ap=Object.assign;function Ep(e,t){const n={};for(const r in t){const o=t[r];n[r]=Array.isArray(o)?o.map(e):e(o)}return n}let Np=()=>{};const Tp=/\/$/;function Ip(e,t,n="/"){let r,o={},i="",s="";const a=t.indexOf("?"),u=t.indexOf("#",a>-1?a:0);return a>-1&&(r=t.slice(0,a),i=t.slice(a+1,u>-1?u:t.length),o=e(i)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,i,s=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],1!==s&&"."!==i){if(".."!==i)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(i&&"?")+i+s,path:r,query:o,hash:s}}function Bp(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Pp(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Rp(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!xp(e[n],t[n]))return!1;return!0}function xp(e,t){return Array.isArray(e)?Dp(e,t):Array.isArray(t)?Dp(t,e):e===t}function Dp(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var Lp,Up,kp,jp;function Mp(e){if(!e)if(Sp){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Tp,"")}(Up=Lp||(Lp={})).pop="pop",Up.push="push",(jp=kp||(kp={})).back="back",jp.forward="forward",jp.unknown="";const Cp=/^[^#]+#/;function qp(e,t){return e.replace(Cp,"#")+t}const Fp=()=>({left:window.pageXOffset,top:window.pageYOffset});function $p(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function Yp(e,t){return(history.state?history.state.position-t:-1)+e}const Gp=new Map;function Kp(e,t){const{pathname:n,search:r,hash:o}=t;if(e.indexOf("#")>-1){let e=o.slice(1);return"/"!==e[0]&&(e="/"+e),Bp(e,"")}return Bp(n,e)+r+o}function Wp(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Fp():null}}function Hp(e){const{history:t,location:n}=window;let r={value:Kp(e,n)},o={value:t.state};function i(r,i,s){const a=e.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](i,"",u),o.value=i}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const s=Ap({},o.value,t.state,{forward:e,scroll:Fp()});i(s.current,s,!0),i(e,Ap({},Wp(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){i(e,Ap({},t.state,Wp(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function zp(e){const t=Hp(e=Mp(e)),n=function(e,t,n,r){let o=[],i=[],s=null;const a=({state:i})=>{const a=Kp(e,location),u=n.value,c=t.value;let f=0;if(i){if(n.value=a,t.value=i,s&&s===u)return void(s=null);f=c?i.position-c.position:0}else r(a);o.forEach((e=>{e(n.value,u,{delta:f,type:Lp.pop,direction:f?f>0?kp.forward:kp.back:kp.unknown})}))};function u(){const{history:e}=window;e.state&&e.replaceState(Ap({},e.state,{scroll:Fp()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);const r=Ap({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:qp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:()=>t.location.value}),Object.defineProperty(r,"state",{get:()=>t.state.value}),r}function Vp(e){return(e=location.host?e||location.pathname+location.search:"").indexOf("#")<0&&(e+="#"),zp(e)}function Jp(e){return"string"==typeof e||"symbol"==typeof e}const Xp={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Zp=_p("nf");var Qp,eh;function th(e,t){return Ap(new Error,{type:e,[Zp]:!0},t)}function nh(e,t){return e instanceof Error&&Zp in e&&(null==t||!!(e.type&t))}(eh=Qp||(Qp={}))[eh.aborted=4]="aborted",eh[eh.cancelled=8]="cancelled",eh[eh.duplicated=16]="duplicated";const rh={sensitive:!1,strict:!1,start:!0,end:!0},oh=/[.+*?^${}()[\]/\\]/g;function ih(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function sh(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=ih(r[n],o[n]);if(e)return e;n++}return o.length-r.length}const ah={type:0,value:""},uh=/[a-zA-Z0-9_]/;function ch(e,t,n){const r=function(e,t){const n=Ap({},rh,t);let r=[],o=n.start?"^":"";const i=[];for(const u of e){const e=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let t=0;t<u.length;t++){const r=u[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(oh,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:f}=r;i.push({name:e,repeatable:n,optional:c});const l=f||"[^/]+?";if("[^/]+?"!==l){s+=10;try{new RegExp(`(${l})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${e}" (${l}): `+a.message)}}let p=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;t||(p=c&&u.length<2?`(?:/${p})`:"/"+p),c&&(p+="?"),o+=p,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===l&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:i,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=i[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,u=i in t?t[i]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${i}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[ah]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let i;function s(){i&&o.push(i),i=[]}let a,u=0,c="",f="";function l(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:f,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;u<e.length;)if(a=e[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&l(),s()):":"===a?(l(),n=1):p();break;case 4:p(),n=r;break;case 1:"("===a?n=2:uh.test(a)?p():(l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==f[f.length-1]?f=f.slice(0,-1)+a:n=3:f+=a;break;case 3:l(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,f="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),l(),s(),o}(e.path),n),o=Ap(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function fh(e,t){const n=[],r=new Map;function o(e,n,r){let a=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:lh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);u.aliasOf=r&&r.record;const c=dh(t,e),f=[u];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(Ap({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let l,p;for(const t of f){let{path:f}=t;if(n&&"/"!==f[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(f&&r+f)}if(l=ch(t,n,c),r?r.alias.push(l):(p=p||l,p!==l&&p.alias.push(l),a&&e.name&&!ph(l)&&i(e.name)),"children"in u){let e=u.children;for(let t=0;t<e.length;t++)o(e[t],l,r&&r.children[t])}r=r||l,s(l)}return p?()=>{i(p)}:Np}function i(e){if(Jp(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<n.length&&sh(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!ph(e)&&r.set(e.record.name,e)}return t=dh({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,i,s,a={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw th(1,{location:e});s=o.record.name,a=Ap(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=o.stringify(a)}else if("path"in e)i=e.path,o=n.find((e=>e.re.test(i))),o&&(a=o.parse(i),s=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw th(1,{location:e,currentLocation:t});s=o.record.name,a=Ap({},t.params,e.params),i=o.stringify(a)}const u=[];let c=o;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:i,params:a,matched:u,meta:hh(u)}},removeRoute:i,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function lh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function ph(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function hh(e){return e.reduce(((e,t)=>Ap(e,t.meta)),{})}function dh(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const yh=/#/g,gh=/&/g,_h=/\//g,mh=/=/g,vh=/\?/g,bh=/\+/g,wh=/%5B/g,Oh=/%5D/g,Sh=/%5E/g,Ah=/%60/g,Eh=/%7B/g,Nh=/%7C/g,Th=/%7D/g,Ih=/%20/g;function Bh(e){return encodeURI(""+e).replace(Nh,"|").replace(wh,"[").replace(Oh,"]")}function Ph(e){return Bh(e).replace(bh,"%2B").replace(Ih,"+").replace(yh,"%23").replace(gh,"%26").replace(Ah,"`").replace(Eh,"{").replace(Th,"}").replace(Sh,"^")}function Rh(e){return function(e){return Bh(e).replace(yh,"%23").replace(vh,"%3F")}(e).replace(_h,"%2F")}function xh(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Dh(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(bh," ");let o=e.indexOf("="),i=xh(o<0?e:e.slice(0,o)),s=o<0?null:xh(e.slice(o+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function Lh(e){let t="";for(let n in e){t.length&&(t+="&");const r=e[n];if(n=Ph(n).replace(mh,"%3D"),null==r){void 0!==r&&(t+=n);continue}let o=Array.isArray(r)?r.map((e=>e&&Ph(e))):[r&&Ph(r)];for(let e=0;e<o.length;e++)t+=(e?"&":"")+n,null!=o[e]&&(t+="="+o[e])}return t}function Uh(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function kh(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function jh(e,t,n,r,o){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,a)=>{const u=e=>{var u;!1===e?a(th(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(u=e)||u&&"object"==typeof u?a(th(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),s())},c=e.call(r&&r.instances[o],t,n,u);let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch((e=>a(e)))}))}function Mh(e,t,n,r){const o=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=a)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(a.__vccOpts||a)[t];i&&o.push(jh(i,n,r,s,e))}else{let i=a();i=i.catch(console.error),o.push((()=>i.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(a=o).__esModule||gp&&"Module"===a[Symbol.toStringTag]?o.default:o;var a;s.components[e]=i;const u=(i.__vccOpts||i)[t];return u&&jh(u,n,r,s,e)()}))))}}var i;return o}function Ch(e){const t=Cr(bp),n=Cr(wp),r=fo((()=>t.resolve(ot(e.to)))),o=fo((()=>{let{matched:e}=r.value,{length:t}=e;const o=e[t-1];let i=n.matched;if(!o||!i.length)return-1;let s=i.findIndex(Pp.bind(null,o));if(s>-1)return s;let a=Fh(e[t-2]);return t>1&&Fh(o)===a&&i[i.length-1].path!==a?i.findIndex(Pp.bind(null,e[t-2])):s})),i=fo((()=>o.value>-1&&function(e,t){for(let n in t){let r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),s=fo((()=>o.value>-1&&o.value===n.matched.length-1&&Rp(n.params,r.value.params)));return{route:r,href:fo((()=>r.value.href)),isActive:i,isExactActive:s,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[ot(e.replace)?"replace":"push"](ot(e.to)):Promise.resolve()}}}const qh=Xn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t,attrs:n}){const r=Ke(Ch(e)),{options:o}=Cr(bp),i=fo((()=>({[$h(e.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[$h(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const o=t.default&&t.default(r);return e.custom?o:lo("a",Ap({"aria-current":r.isExactActive?e.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:i.value}),o)}}});function Fh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $h=(e,t,n)=>null!=e?e:null!=t?t:n;function Yh(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Gh=Xn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Cr(Op),o=fo((()=>e.route||r.value)),i=Cr(vp,0),s=fo((()=>o.value.matched[i]));Mr(vp,i+1),Mr(mp,s),Mr(Op,o);const a=et();return Sn((()=>[a.value,s.value,e.name]),(([e,t,n],[r,o,i])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&Pp(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,i=s.value,u=i&&i.components[e.name],c=e.name;if(!u)return Yh(n.default,{Component:u,route:r});const f=i.props[e.name],l=f?!0===f?r.params:"function"==typeof f?f(r):f:null,p=lo(u,Ap({},l,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[c]=null)},ref:a}));return Yh(n.default,{Component:p,route:r})||p}}});function Kh(e){const t=fh(e.routes,e);let n=e.parseQuery||Dh,r=e.stringifyQuery||Lh,o=e.history;const i=kh(),s=kh(),a=kh(),u=tt(Xp);let c=Xp;Sp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ep.bind(null,(e=>""+e)),l=Ep.bind(null,Rh),p=Ep.bind(null,xh);function h(e,i){if(i=Ap({},i||u.value),"string"==typeof e){let r=Ip(n,e,i.path),s=t.resolve({path:r.path},i),a=o.createHref(r.fullPath);return Ap(r,s,{params:p(s.params),hash:xh(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in e?s=Ap({},e,{path:Ip(n,e.path,i.path).path}):(s=Ap({},e,{params:l(e.params)}),i.params=l(i.params));let a=t.resolve(s,i);const c=e.hash||"";a.params=f(p(a.params));const h=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Ap({},e,{hash:(d=c,Bh(d).replace(Eh,"{").replace(Th,"}").replace(Sh,"^")),path:a.path}));var d;let y=o.createHref(h);return Ap({fullPath:h,hash:c,query:r===Lh?Uh(e.query):e.query},a,{redirectedFrom:void 0,href:y})}function d(e){return"string"==typeof e?Ip(n,e,u.value.path):Ap({},e)}function y(e,t){if(c!==e)return th(8,{from:t,to:e})}function g(e){return m(e)}function _(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=d(r):{path:r}),Ap({query:e.query,hash:e.hash,params:e.params},r)}}function m(e,t){const n=c=h(e),o=u.value,i=e.state,s=e.force,a=!0===e.replace,f=_(n);if(f)return m(Ap(d(f),{state:i,force:s,replace:a}),t||n);const l=n;let p;return l.redirectedFrom=t,!s&&function(e,t,n){let r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Pp(t.matched[r],n.matched[o])&&Rp(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(p=th(16,{to:l,from:o}),P(o,o,!0,!1)),(p?Promise.resolve(p):b(l,o)).catch((e=>nh(e)?e:I(e))).then((e=>{if(e){if(nh(e,2))return m(Ap(d(e.to),{state:i,force:s,replace:a}),t||l)}else e=O(l,o,!0,a,i);return w(l,o,e),e}))}function v(e,t){const n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e,t){let n;const[r,o,a]=function(e,t){const n=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>Pp(e,i)))?r.push(i):n.push(i));const a=e.matched[s];a&&(t.matched.find((e=>Pp(e,a)))||o.push(a))}return[n,r,o]}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(e,t);n=Mh(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{n.push(jh(r,e,t))}));const u=v.bind(null,e,t);return n.push(u),Wh(n).then((()=>{n=[];for(const r of i.list())n.push(jh(r,e,t));return n.push(u),Wh(n)})).then((()=>{n=Mh(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(jh(r,e,t))}));return n.push(u),Wh(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const o of r.beforeEnter)n.push(jh(o,e,t));else n.push(jh(r.beforeEnter,e,t));return n.push(u),Wh(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Mh(a,"beforeRouteEnter",e,t),n.push(u),Wh(n)))).then((()=>{n=[];for(const r of s.list())n.push(jh(r,e,t));return n.push(u),Wh(n)})).catch((e=>nh(e,8)?e:Promise.reject(e)))}function w(e,t,n){for(const r of a.list())r(e,t,n)}function O(e,t,n,r,i){const s=y(e,t);if(s)return s;const a=t===Xp,c=Sp?history.state:{};n&&(r||a?o.replace(e.fullPath,Ap({scroll:a&&c&&c.scroll},i)):o.push(e.fullPath,i)),u.value=e,P(e,t,n,a),B()}let S;function A(){S=o.listen(((e,t,n)=>{let r=h(e);const i=_(r);if(i)return void m(Ap(i,{replace:!0}),r).catch(Np);c=r;const s=u.value;Sp&&function(e,t){Gp.set(e,t)}(Yp(s.fullPath,n.delta),Fp()),b(r,s).catch((e=>nh(e,12)?e:nh(e,2)?(m(e.to,r).catch(Np),Promise.reject()):(n.delta&&o.go(-n.delta,!1),I(e)))).then((e=>{(e=e||O(r,s,!1))&&n.delta&&o.go(-n.delta,!1),w(r,s,e)})).catch(Np)}))}let E,N=kh(),T=kh();function I(e){return B(e),T.list().forEach((t=>t(e))),Promise.reject(e)}function B(e){E||(E=!0,A(),N.list().forEach((([t,n])=>e?n(e):t())),N.reset())}function P(t,n,r,o){const{scrollBehavior:i}=e;if(!Sp||!i)return Promise.resolve();let s=!r&&function(e){const t=Gp.get(e);return Gp.delete(e),t}(Yp(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return Tt().then((()=>i(t,n,s))).then((e=>e&&$p(e))).catch(I)}const R=e=>o.go(e);let x;const D=new Set;return{currentRoute:u,addRoute:function(e,n){let r,o;return Jp(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:h,options:e,push:g,replace:function(e){return g(Ap(d(e),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:i.add,beforeResolve:s.add,afterEach:a.add,onError:T.add,isReady:function(){return E&&u.value!==Xp?Promise.resolve():new Promise(((e,t)=>{N.add([e,t])}))},install(e){e.component("RouterLink",qh),e.component("RouterView",Gh),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{get:()=>ot(u)}),Sp&&!x&&u.value===Xp&&(x=!0,g(o.location).catch((e=>{})));const t={};for(let r in Xp)t[r]=fo((()=>u.value[r]));e.provide(bp,this),e.provide(wp,Ke(t)),e.provide(Op,u);let n=e.unmount;D.add(e),e.unmount=function(){D.delete(e),D.size<1&&(S(),u.value=Xp,x=!1,E=!1),n()}}}}function Wh(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var Hh=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function zh(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}var Vh=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},Jh={namespaced:{configurable:!0}};Jh.namespaced.get=function(){return!!this._rawModule.namespaced},Vh.prototype.addChild=function(e,t){this._children[e]=t},Vh.prototype.removeChild=function(e){delete this._children[e]},Vh.prototype.getChild=function(e){return this._children[e]},Vh.prototype.hasChild=function(e){return e in this._children},Vh.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Vh.prototype.forEachChild=function(e){zh(this._children,e)},Vh.prototype.forEachGetter=function(e){this._rawModule.getters&&zh(this._rawModule.getters,e)},Vh.prototype.forEachAction=function(e){this._rawModule.actions&&zh(this._rawModule.actions,e)},Vh.prototype.forEachMutation=function(e){this._rawModule.mutations&&zh(this._rawModule.mutations,e)},Object.defineProperties(Vh.prototype,Jh);var Xh=function(e){this.register([],e,!1)};function Zh(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Zh(e.concat(r),t.getChild(r),n.modules[r])}}function Qh(e){return new ed(e)}Xh.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Xh.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Xh.prototype.update=function(e){Zh([],this.root,e)},Xh.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new Vh(t,n);0===e.length?this.root=o:this.get(e.slice(0,-1)).addChild(e[e.length-1],o);t.modules&&zh(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},Xh.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},Xh.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var ed=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Xh(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var o=this,i=this.dispatch,s=this.commit;this.dispatch=function(e,t){return i.call(o,e,t)},this.commit=function(e,t,n){return s.call(o,e,t,n)},this.strict=r;var a=this._modules.root.state;id(this,a,[],this._modules.root),od(this,a),n.forEach((function(e){return e(t)})),(void 0===e.devtools||e.devtools)&&function(e){Hh&&(e._devtoolHook=Hh,Hh.emit("vuex:init",e),Hh.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){Hh.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){Hh.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},td={state:{configurable:!0}};function nd(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function rd(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;id(e,n,[],e._modules.root,!0),od(e,n,t)}function od(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};zh(o,(function(t,n){i[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return i[n]()},enumerable:!0})})),e._state=Ke({data:t}),e.strict&&function(e){Sn((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null}))}function id(e,t,n,r,o){var i=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!i&&!o){var a=sd(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){a[u]=r.state}))}var c=r.context=function(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=ad(n,r,o),s=i.payload,a=i.options,u=i.type;return a&&a.root||(u=t+u),e.dispatch(u,s)},commit:r?e.commit:function(n,r,o){var i=ad(n,r,o),s=i.payload,a=i.options,u=i.type;a&&a.root||(u=t+u),e.commit(u,s,a)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return sd(e.state,n)}}}),o}(e,s,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,s+n,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,o=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var o,i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,r,o,c)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,s+n,t,c)})),r.forEachChild((function(r,i){id(e,t,n.concat(i),r,o)}))}function sd(e,t){return t.reduce((function(e,t){return e[t]}),e)}function ad(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}ed.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this},td.state.get=function(){return this._state.data},td.state.set=function(e){},ed.prototype.commit=function(e,t,n){var r=this,o=ad(e,t,n),i=o.type,s=o.payload,a={type:i,payload:s},u=this._mutations[i];u&&(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},ed.prototype.dispatch=function(e,t){var n=this,r=ad(e,t),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(cd){}var u=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){u.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(cd){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(cd){}t(e)}))}))}},ed.prototype.subscribe=function(e,t){return nd(e,this._subscribers,t)},ed.prototype.subscribeAction=function(e,t){return nd("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},ed.prototype.watch=function(e,t,n){var r=this;return Sn((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},ed.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ed.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),id(this,this.state,e,this._modules.get(e),n.preserveState),od(this,this.state)},ed.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete sd(t.state,e.slice(0,-1))[e[e.length-1]]})),rd(this)},ed.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},ed.prototype.hotUpdate=function(e){this._modules.update(e),rd(this,!0)},ed.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ed.prototype,td);var ud={name:"zh-cn",el:{colorpicker:{confirm:"",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"",noData:"",placeholder:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:""},messagebox:{title:"",confirm:"",cancel:"",error:"!"},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""}}};export{wr as $,jn as A,Mn as B,Pr as C,Hi as D,Wn as E,yr as F,ur as G,ct as H,no as I,po as J,lo as K,yo as L,Mr as M,mn as N,yi as O,ii as P,Rr as Q,ai as R,di as S,Uo as T,yn as U,ho as V,Cr as W,Ar as X,hn as Y,Xo as Z,_r as _,Ai as a,Qe as a0,cr as a1,pr as a2,oi as a3,bi as a4,ot as a5,Qt as a6,en as a7,tn as a8,xr as a9,Kh as aa,Vp as ab,Qh as ac,wi as ad,ud as ae,yp as b,Oi as c,ea as d,Xn as e,Sr as f,Br as g,zt as h,et as i,fo as j,Ke as k,wn as l,gn as m,Tt as n,dn as o,Dr as p,jr as q,Iu as r,tt as s,at as t,pi as u,f as v,Sn as w,_n as x,lr as y,Jt as z};
