import{_ as j}from"./main.2e4e7b6f.js";import{r,o as i,a as u,b as e,f as c,g as n,e as d,t as a,h as _,j as v,p,d as k}from"./vendor.1807abaf.js";const N={data(){return{onmyojiRz:null,scrollReveal:this.$scrollReveal()}},emits:["get-news"],props:["data"],created(){this.getNewsData(),this.delayShow=!0,this.scrollReveal.reveal(".reveal-top",{duration:500,delay:100,origin:"bottom",reset:!1,mobile:!1,distance:"100px",easing:"ease",opacity:0,scale:.9})},mounted(){},methods:{getNewsData(){const o=this.$cloudbase.database();o.command,o.collection("user").where({_openid:this.data._openid}).get().then(s=>{this.onmyojiRz=s.data[0].onmyoji})},fromNow(o){return moment(o).fromNow()},bingeWatching(o){const s=this.$cloudbase.database();s.command,this.data._openid==localStorage.getItem("openid")?s.collection("shares").where({_openid:this.data._openid,_id:this.data._id}).update({ownerWatchStatus:this.data.ownerWatchStatus==1?"0":"1"}).then(t=>{this.$emit("get-news"),this.$ElMessage.success("\u66F4\u65B0\u6210\u529F\uFF01")}):console.log("\u4ED6\u4EBA\u4E0A\u4F20\u65E0\u6CD5\u4FEE\u6539\uFF01")}},components:{}},h=o=>(p("data-v-f826b4be"),o=o(),k(),o),S={class:"reveal-top boxshadow"},x=h(()=>e("span",null,"\u5F71\u89C6",-1)),R={class:"new-item-box"},z=["src"],W={class:"box-message"},q={key:0,class:"onmyoji-rz"},I=h(()=>e("br",null,null,-1)),C=h(()=>e("br",null,null,-1)),V=h(()=>e("label",null,"\u9634\u9633\u5E08",-1)),B={class:"binge-watching-status"},D=d(" \u70B9\u51FB\u53D8\u66F4\u72B6\u6001 "),E=d(" \u70B9\u51FB\u53D8\u66F4\u72B6\u6001 "),F={key:0},L={key:1},M={class:"message"},T={class:"message-iamge"},U=["src"],A={class:"message-main"},G={class:"main-name"},H={class:"filmname"},J={class:"main-bottom-mess",style:{"margin-top":"10px"}},K={class:"main-bottom-mess"};function O(o,s,t,P,l,m){const f=r("more-filled"),w=r("el-icon"),g=r("el-tooltip"),b=r("router-link");return i(),u("div",S,[e("h4",null,[x,c(w,null,{default:n(()=>[c(f)]),_:1})]),e("div",R,[e("img",{src:"https://q1.qlogo.cn/g?b=qq&nk=1193292553@qq.com&s=640"},null,8,z),e("div",W,[e("span",null,[d(a(t.data.owner)+" ",1),l.onmyojiRz&&l.onmyojiRz.onmyojiStus==1?(i(),u("div",q,[c(g,{placement:"top"},{content:n(()=>[d(" \u6635\u79F0:"+a(l.onmyojiRz.nichen)+" ",1),I,d(" \u533A\u670D:"+a(l.onmyojiRz.qufu)+" ",1),C,d("\u7B49\u7EA7:"+a(l.onmyojiRz.level),1)]),default:n(()=>[V]),_:1})])):_("",!0),e("div",B,[t.data.ownerWatchStatus==1?(i(),v(g,{key:0,placement:"top"},{content:n(()=>[D]),default:n(()=>[e("label",{onClick:s[0]||(s[0]=y=>m.bingeWatching(t.data._id))},"\u5DF2\u8FFD\u5B8C")]),_:1})):_("",!0),!t.data.ownerWatchStatus||t.data.ownerWatchStatus==0?(i(),v(g,{key:1,placement:"top"},{content:n(()=>[E]),default:n(()=>[e("label",{onClick:s[1]||(s[1]=y=>m.bingeWatching(t.data._id)),class:"zhuiju"},"\u8FFD\u5267ing")]),_:1})):_("",!0)])]),t.data.created===t.data.updated?(i(),u("span",F,"\u521B\u5EFA\u4E8E"+a(m.fromNow(t.data.updated)),1)):_("",!0),t.data.created!==t.data.updated?(i(),u("span",L,"\u66F4\u65B0\u4E8E"+a(m.fromNow(t.data.updated)),1)):_("",!0),e("div",M,[e("div",T,[c(b,{to:"/share/detail/"+t.data._id},{default:n(()=>[e("img",{src:t.data.tempFileURL},null,8,U)]),_:1},8,["to"])]),e("div",A,[e("div",null,[c(b,{to:"/share/detail/"+t.data._id},{default:n(()=>[e("div",G,[e("label",null,a(t.data.class),1),e("div",H,a(t.data.name),1)])]),_:1},8,["to"]),e("div",J," \u7B80\u4ECB:"+a(t.data.jianjie),1)]),e("div",K," \u8BC4\u5206 "+a(t.data.rateValue)+" \u63A8\u4ECB\u7406\u7531 "+a(t.data.liyou),1)])])])])])}var Y=j(N,[["render",O],["__scopeId","data-v-f826b4be"]]);export{Y as N};
